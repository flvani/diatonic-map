if(!window.ABCXJS){window.ABCXJS={}}(function(){ABCXJS.numberOfTunes=function(e){var c=e.split("\nX:");var d=c.length;if(d===0){d=1}return d};ABCXJS.TuneBook=function(e){var k=this;var j="";e=window.ABCXJS.parse.strip(e);var c=e.split("\nX:");for(var h=1;h<c.length;h++){c[h]="X:"+c[h]}var l=0;k.tunes=[];window.ABCXJS.parse.each(c,function(m){k.tunes.push({abc:m,startPos:l});l+=m.length});if(k.tunes.length>1&&!window.ABCXJS.parse.startsWith(k.tunes[0].abc,"X:")){var d=k.tunes.shift();var g=d.abc.split("\n");window.ABCXJS.parse.each(g,function(m){if(window.ABCXJS.parse.startsWith(m,"%%")){j+=m+"\n"}})}k.header=j;window.ABCXJS.parse.each(k.tunes,function(t){var q=t.abc.indexOf("\n\n");if(q>0){t.abc=t.abc.substring(0,q)}t.pure=t.abc;t.abc=j+t.abc;var s=t.abc.split("\n");var o="";var w="";var p="";var u=true;for(var m=0;m<s.length&&u;m++){var y=s[m];var v=y.substring(0,2);var x="";switch(v){case"C:":x=y.substring(2,y.length);if(o.length>0){o+="<br>"+x.replace(/^\s+|\s+$/g,"")}else{o=x.replace(/^\s+|\s+$/g,"")}break;case"T:":if(w.length>0){break}x=y.substring(2,y.length);w=x.replace(/^\s+|\s+$/g,"");break;case"X:":if(p.length>0){break}x=y.substring(2,y.length);p=x.replace(/^\s+|\s+$/g,"");break;case"V:":u=false;break}}t.title=w;t.composer=o;t.id=p})};ABCXJS.TuneBook.prototype.getTuneById=function(d){for(var c=0;c<this.tunes.length;c++){if(this.tunes[c].id===d){return this.tunes[c]}}return null};ABCXJS.TuneBook.prototype.getTuneByTitle=function(d){for(var c=0;c<this.tunes.length;c++){if(this.tunes[c].title===d){return this.tunes[c]}}return null};function a(q,g,p,o,e){var m=function(r){return r&&!(r.propertyIsEnumerable("length"))&&typeof r==="object"&&typeof r.length==="number"};if(g===undefined||p===undefined){return}if(!m(g)){g=[g]}if(o===undefined){o={}}if(e===undefined){e={}}var j=e.startingTune?e.startingTune:0;var h=new ABCXJS.TuneBook(p);var d=new window.ABCXJS.parse.Parse();for(var k=0;k<g.length;k++){var c=g[k];if(typeof(c)==="string"){c=document.getElementById(c)}if(c){c.innerHTML="";if(j<h.tunes.length){d.parse(h.tunes[j].abc,o);var l=d.getTune();q(c,l)}}j++}}})();if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.data){window.ABCXJS.data={}}window.ABCXJS.data.Tune=function(){this.reset=function(){this.metaText={};this.formatting={};this.lines=[];this.media="screen";this.version="1.0.1";this.subtitle="";this.tabStaffPos=-1;this.hasTablature=false;this.staffNum=0;this.voiceNum=0;this.lineNum=0};this.setFormat=function(j){var h,m;var o=j.staffsep||0;var a=(j.papersize||"a4").toLowerCase();var e=j.landscape||false;var d=j.pagenumbering||false;var c=136.8508560545;var g=1;var k=g/2.54*c;switch(a){case"letter":h=11*c;m=8.5*c;break;case"legal":h=14*c;m=8.5*c;break;case"screen":h=16*c;m=8*c;break;case"a4":default:h=11.69*c;m=8.27*c;break}if(e){var l=h;h=m;m=l}this.formatting.usablewidth=(m-(2*k))*(e?0.82:1);this.formatting.pageratio=(h-(2*k))/(m-(2*k));if(!this.formatting.landscape){this.formatting.landscape=e}if(!this.formatting.papersize){this.formatting.papersize=a.toLowerCase()}if(!this.formatting.defaultMargin){this.formatting.defaultMargin=""+g+"cm"}if(!this.formatting.pagewidth){this.formatting.pagewidth=m}if(!this.formatting.pageheight){this.formatting.pageheight=h}if(!this.formatting.pagenumbering){this.formatting.pagenumbering=d}if(!this.formatting.staffsep){this.formatting.staffsep=o}if(!this.formatting.barsperstaff){this.formatting.barsperstaff=j.barsperstaff}if(!this.formatting.staffwidth){this.formatting.staffwidth=this.formatting.usablewidth}if(!this.formatting.tabInferenceOpts){this.formatting.tabInferenceOpts=+1}if(!this.formatting.restsInTab){this.formatting.restsInTab=false}if(!this.formatting.hideFingering){this.formatting.hideFingering=false}};this.handleBarsPerStaff=function(){function d(C,v){if(C.jumpDecoration){var e=window.ABCXJS.parse.clone(C.jumpDecoration);delete C.jumpDecoration;delete v.jumpDecoration;for(var s=0;s<e.length;s++){if((".coda.fine.dacapo.dacoda.dasegno.").indexOf("."+e[s].type+".")>=0){C.jumpDecoration=C.jumpDecoration||[];C.jumpDecoration.push(e[s])}else{v.jumpDecoration=v.jumpDecoration||[];v.jumpDecoration.push(e[s])}}}if(C.jumpPoint&&C.jumpPoint.type==="segno"){delete C.jumpInfo}if(v.jumpInfo){delete v.jumpInfo}if(v.jumpPoint&&v.jumpPoint.type!=="segno"){delete v.jumpInfo}delete C.startEnding;delete C.barNumber;delete C.barNumberVisible;switch(C.type){case"bar_dbl_repeat":case"bar_right_repeat":C.type="bar_right_repeat";break;case"bar_thin":case"bar_left_repeat":C.type="bar_thin"}delete v.endEnding;delete v.endDrawEnding;switch(v.type){case"bar_dbl_repeat":case"bar_left_repeat":v.type="bar_left_repeat";break;case"bar_thin":case"bar_right_repeat":v.type="bar_thin"}}function c(v,s){if(s===undefined){return}if(s.jumpPoint){v.jumpPoint=s.jumpPoint}if(s.jumpInfo){v.jumpInfo=s.jumpInfo}if(s.jumpDecoration){for(var e=0;e<s.jumpDecoration.length;e++){v.jumpDecoration=v.jumpDecoration||[];v.jumpDecoration.push(s.jumpDecoration[e])}}if(s.startEnding){v.startEnding=s.startEnding}if(s.barNumber){v.barNumber=s.barNumber;v.barNumberVisible=s.barNumberVisible}if(v.type==="bar_right_repeat"){v.type=s.type==="bar_left_repeat"?"bar_dbl_repeat":"bar_right_repeat"}else{v.type=s.type==="bar_left_repeat"?"bar_left_repeat":"bar_thin"}}if(!this.formatting.barsperstaff){return}var r=this.formatting.barsperstaff+1;var g=0,h;var u=0;for(var x=0;x<this.lines.length;x++){if(this.lines[x].staffs!==undefined){u=(this.lines[x+1]===undefined||this.lines[x+1].staffs!==undefined)?x+1:x+2;for(var m=0;m<this.lines[x].staffs.length;m++){for(var l=0;l<this.lines[x].staffs[m].voices.length;l++){var j=0;for(var q=0;q<this.lines[x].staffs[m].voices[l].length;q++){if(this.lines[x].staffs[m].voices[l][q].el_type==="bar"){j++;if(r===j){g=q;h=this.lines[x].staffs[m].voices[l][q].type}}if(q===this.lines[x].staffs[m].voices[l].length-1&&j<r&&x<this.lines.length-1){var k=JSON.parse(JSON.stringify(this.lines[u]));this.lines.splice(u,1);for(var t=0;t<this.lines[x].staffs.length;t++){for(var p=0;p<this.lines[x].staffs[t].voices.length;p++){var a=this.lines[x].staffs[t].voices[p];var B=k.staffs[t].voices[p].splice(1);c(a[a.length-1],k.staffs[t].voices[p][0]);this.lines[x].staffs[t].voices[p]=a.concat(B);try{var o=Math.max(this.lines[x].staffs[t].lyricsRows,this.lines[u].staffs[t].lyricsRows);this.lines[x].staffs[t].lyricsRows=o}catch(z){}}}}}var w=j-r;var y=(x===this.lines.length-1);if((!y&&w>0)||(y&&w>1)){if(y){var k=JSON.parse(JSON.stringify(this.lines[x]));this.lines.push(window.ABCXJS.parse.clone(k));for(var t=0;t<this.lines[x+1].staffs.length;t++){for(var p=0;p<this.lines[x+1].staffs[t].voices.length;p++){this.lines[u].staffs[t].voices[p]=[]}}}var a=this.lines[x].staffs[m].voices[l].slice(0,g+1);var B=this.lines[x].staffs[m].voices[l].slice(g);var A=this.lines[u].staffs[m].voices[l].slice(1);B[0]=window.ABCXJS.parse.clone(B[0]);d(a[a.length-1],B[0]);c(B[B.length-1],this.lines[u].staffs[m].voices[l][0]);this.lines[x].staffs[m].voices[l]=a;this.lines[u].staffs[m].voices[l]=B.concat(A);
var o=Math.max(this.lines[x].staffs[m].lyricsRows,this.lines[u].staffs[m].lyricsRows);this.lines[u].staffs[m].lyricsRows=o}}}}}};this.checkJumpMarkers=function(l){var d=[];for(var j=0;j<this.lines.length;j++){if(this.lines[j].staffs!==undefined){for(var q=0;q<this.lines[j].staffs.length;q++){for(var o=0;o<this.lines[j].staffs[q].voices.length;o++){d.push({el:0,sf:q,vc:o})}}break}}var p=d[0];var e=d[d.length-1];for(var j=0;j<this.lines.length;j++){if(this.lines[j].staffs!==undefined){for(var a=0;a<d.length;a++){d[a].el=0}if(!this.lines[j].staffs[p.sf]||!this.lines[j].staffs[e.sf]){continue}this.lines[j].staffs[p.sf].voices[p.vc].firstVoice=true;this.lines[j].staffs[e.sf].voices[e.vc].lastVoice=true;if(d.length<2){continue}var c=this.lines[j].staffs[p.sf].voices[p.vc];while(p.el<c.length){while(p.el<c.length&&c[p.el].el_type!=="bar"){p.el++}if(!c[p.el]||c[p.el].el_type!=="bar"){break}var k=c[p.el];p.el++;for(var o=1;o<d.length;o++){var h=d[o];var m=this.lines[j].staffs[h.sf].voices[h.vc];while(h.el<m.length&&m[h.el].el_type!=="bar"){h.el++}if(!m[h.el]||m[h.el].el_type!=="bar"){l("Line: "+(j+1)+", Staff: "+(h.sf+1)+" - Numero de barras diferente da primeira voz")}else{var g=m[h.el];h.el++;if(k.type!==g.type||k.repeat!==g.repeat){l("Line: "+(j+1)+", Staff: "+(h.sf+1)+" - Ajustando tipo de barra de compasso "+k.barNumber+".");g.type=k.type;g.repeat=k.repeat}if(k.startEnding&&k.startEnding!==g.startEnding){l("Line: "+(j+1)+", Staff: "+(h.sf+1)+" - Ajustando ending do compasso "+k.barNumber+".");g.startEnding=k.startEnding}if(k.endEnding&&k.endEnding!==g.endEnding){l("Line: "+(j+1)+", Staff: "+(h.sf+1)+" - Ajustando ending do compasso "+k.barNumber+".");g.endEnding=k.endEnding}g.jumpPoint=k.jumpPoint;g.jumpInfo=k.jumpInfo;g.jumpDecoration=k.jumpDecoration}}}}}};this.cleanUp=function(){function e(D){var C=[];var A;var B=function(E,j,G){if(C[G]===undefined){for(A=0;A<C.length;A++){if(C[A]!==undefined){G=A;break}}if(C[G]===undefined){var F=G*100;window.ABCXJS.parse.each(E.endSlur,function(H){if(F===H){--F}});C[G]=[F]}}var x;for(var p=0;p<j;p++){x=C[G].pop();E.endSlur.push(x)}if(C[G].length===0){delete C[G]}return x};var u=function(E,j,F,x){E.startSlur=[];if(C[F]===undefined){C[F]=[]}var G=F*100+1;for(var p=0;p<j;p++){if(x){window.ABCXJS.parse.each(x,function(H){if(G===H){++G}});window.ABCXJS.parse.each(x,function(H){if(G===H){++G}});window.ABCXJS.parse.each(x,function(H){if(G===H){++G}})}window.ABCXJS.parse.each(C[F],function(H){if(G===H){++G}});window.ABCXJS.parse.each(C[F],function(H){if(G===H){++G}});C[F].push(G);E.startSlur.push({label:G});G++}};for(var v=0;v<D.length;v++){var q=D[v];if(q.el_type==="note"){if(q.gracenotes){for(var w=0;w<q.gracenotes.length;w++){if(q.gracenotes[w].endSlur){var y=q.gracenotes[w].endSlur;q.gracenotes[w].endSlur=[];for(var m=0;m<y;m++){B(q.gracenotes[w],1,20)}}if(q.gracenotes[w].startSlur){A=q.gracenotes[w].startSlur;u(q.gracenotes[w],A,20)}}}if(q.endSlur){A=q.endSlur;q.endSlur=[];B(q,A,0)}if(q.startSlur){A=q.startSlur;u(q,A,0)}if(q.pitches){var z=[];for(var o=0;o<q.pitches.length;o++){if(q.pitches[o].endSlur){var s=q.pitches[o].endSlur;q.pitches[o].endSlur=[];for(var t=0;t<s;t++){var r=B(q.pitches[o],1,o+1);z.push(r)}}}for(o=0;o<q.pitches.length;o++){if(q.pitches[o].startSlur){A=q.pitches[o].startSlur;u(q.pitches[o],A,o+1,z)}}if(q.gracenotes&&q.pitches[0].endSlur&&q.pitches[0].endSlur[0]===100&&q.pitches[0].startSlur){if(q.gracenotes[0].endSlur){q.gracenotes[0].endSlur.push(q.pitches[0].startSlur[0].label)}else{q.gracenotes[0].endSlur=[q.pitches[0].startSlur[0].label]}if(q.pitches[0].endSlur.length===1){delete q.pitches[0].endSlur}else{if(q.pitches[0].endSlur[0]===100){q.pitches[0].endSlur.shift()}else{if(q.pitches[0].endSlur[q.pitches[0].endSlur.length-1]===100){q.pitches[0].endSlur.pop()}}}if(C[1].length===1){delete C[1]}else{C[1].pop()}}}}}}function l(j){window.ABCXJS.parse.parseKeyVoice.fixClef(j)}this.closeLine();var a=false;var g,h,c;for(g=0;g<this.lines.length;g++){if(this.lines[g].staffs!==undefined){var k=false;for(h=0;h<this.lines[g].staffs.length;h++){if(this.lines[g].staffs[h]===undefined){a=true;this.lines[g].staffs[h]=null}else{delete this.lines[g].staffs[h].workingClef;for(c=0;c<this.lines[g].staffs[h].voices.length;c++){if(this.lines[g].staffs[h].voices[c]===undefined){this.lines[g].staffs[h].voices[c]=[]}else{if(this.containsNotes(this.lines[g].staffs[h].voices[c])){k=true}}}}}if(!k){this.lines[g]=null;a=true}}}if(a){this.lines=window.ABCXJS.parse.compact(this.lines);window.ABCXJS.parse.each(this.lines,function(j){if(j.staffs){j.staffs=window.ABCXJS.parse.compact(j.staffs)}})}for(this.lineNum=0;this.lineNum<this.lines.length;this.lineNum++){if(this.lines[this.lineNum].staffs){for(this.staffNum=0;this.staffNum<this.lines[this.lineNum].staffs.length;this.staffNum++){if(this.lines[this.lineNum].staffs[this.staffNum].clef){l(this.lines[this.lineNum].staffs[this.staffNum].clef)}for(this.voiceNum=0;this.voiceNum<this.lines[this.lineNum].staffs[this.staffNum].voices.length;this.voiceNum++){e(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]);for(var d=0;d<this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum].length;d++){if(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum][d].el_type==="clef"){l(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum][d])}}}}}}delete this.staffNum;delete this.voiceNum;delete this.lineNum;delete this.vskipPending};this.getLastNote=function(){if(this.lines[this.lineNum]&&this.lines[this.lineNum].staffs&&this.lines[this.lineNum].staffs[this.staffNum]&&this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]){for(var a=this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum].length-1;a>=0;a--){var c=this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum][a];if(c.el_type==="note"){return c}}}return null};this.addTieToLastNote=function(){var a=this.getLastNote();if(a&&a.pitches&&a.pitches.length>0){a.pitches[0].startTie={};return true}return false};this.getDuration=function(a){return a.duration?a.duration:0};this.closeLine=function(){if(this.potentialStartBeam&&this.potentialEndBeam){this.potentialStartBeam.startBeam=true;this.potentialEndBeam.endBeam=true}delete this.potentialStartBeam;delete this.potentialEndBeam};this.addPosition=function(c,a,g,d,e){if(ABCXJS.math.isNumber(c)&&ABCXJS.math.isNumber(a)&&ABCXJS.math.isNumber(g)){d.position={anchor:{line:c,ch:a},head:{line:c,ch:g}}}if(e&&e.staffNum===0&&e.index===0){d.position.selectable=true}};this.appendElement=function(k,m,o,h,a,l){var d=this;var j=function(r){if(r.pitches!==undefined){var p=d.lines[d.lineNum].staffs[d.staffNum].workingClef.verticalPos;window.ABCXJS.parse.each(r.pitches,function(s){s.verticalPos=s.pitch-p})}if(r.gracenotes!==undefined){var q=d.lines[d.lineNum].staffs[d.staffNum].workingClef.verticalPos;window.ABCXJS.parse.each(r.gracenotes,function(s){s.verticalPos=s.pitch-q})}d.lines[d.lineNum].staffs[d.staffNum].voices[d.voiceNum].push(r)
};a.el_type=k;this.addPosition(m,o,h,a,l);var e=function(){d.potentialStartBeam.startBeam=true;a.endBeam=true;delete d.potentialStartBeam;delete d.potentialEndBeam};var g=function(){if(d.potentialStartBeam!==undefined&&d.potentialEndBeam!==undefined){d.potentialStartBeam.startBeam=true;d.potentialEndBeam.endBeam=true}delete d.potentialStartBeam;delete d.potentialEndBeam};if(k==="note"){var c=d.getDuration(a);if(c>=0.25){g()}else{if(a.force_end_beam_last&&d.potentialStartBeam!==undefined){g()}else{if(a.end_beam&&d.potentialStartBeam!==undefined){if(a.rest===undefined){e()}else{g()}}else{if(a.rest===undefined){if(d.potentialStartBeam===undefined){if(!a.end_beam){d.potentialStartBeam=a;delete d.potentialEndBeam}}else{d.potentialEndBeam=a}}}}}}else{g()}delete a.end_beam;delete a.force_end_beam_last;j(a)};this.appendStartingElement=function(h,k,l,e,d){this.closeLine();var c;if(h==="key"){c=d.impliedNaturals;delete d.impliedNaturals}var a=window.ABCXJS.parse.clone(d);if(h==="clef"){this.lines[this.lineNum].staffs[this.staffNum].workingClef=a;if(a.type==="accordionTab"){this.hasTablature=true;this.tabStaffPos=this.staffNum}}if(this.lines[this.lineNum].staffs.length<=this.staffNum){waterbug.log("o que é isso?");waterbug.show();this.lines[this.lineNum].staffs[this.staffNum]={};this.lines[this.lineNum].staffs[this.staffNum].clef=window.ABCXJS.parse.clone(this.lines[this.lineNum].staffs[0].clef);this.lines[this.lineNum].staffs[this.staffNum].key=window.ABCXJS.parse.clone(this.lines[this.lineNum].staffs[0].key);this.lines[this.lineNum].staffs[this.staffNum].meter=window.ABCXJS.parse.clone(this.lines[this.lineNum].staffs[0].meter);this.lines[this.lineNum].staffs[this.staffNum].workingClef=window.ABCXJS.parse.clone(this.lines[this.lineNum].staffs[0].workingClef);this.lines[this.lineNum].staffs[this.staffNum].voices=[];this.lines[this.lineNum].staffs[this.staffNum].stem=[]}var j=this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum];for(var g=0;g<j.length;g++){if(j[g].el_type==="note"||j[g].el_type==="bar"){a.el_type=h;this.addPosition(k,l,e,a);if(c){a.accidentals=c.concat(a.accidentals)}j.push(a);return}if(j[g].el_type===h){a.el_type=h;this.addPosition(k,l,e,a);if(c){a.accidentals=c.concat(a.accidentals)}j[g]=a;return}}this.lines[this.lineNum].staffs[this.staffNum][h]=d};this.getNumLines=function(){return this.lines.length};this.pushLine=function(a){if(this.vskipPending){a.vskip=this.vskipPending;delete this.vskipPending}this.lines.push(a)};this.addSubtitle=function(a){this.subtitle=a};this.addSpacing=function(a){this.vskipPending=a};this.addNewPage=function(a){this.pushLine({newpage:a})};this.addSeparator=function(d,c,a){this.pushLine({separator:{spaceAbove:d,spaceBelow:c,lineLength:a}})};this.addText=function(a){this.pushLine({text:a})};this.addCentered=function(a){this.pushLine({text:[{text:a,center:true}]})};this.containsNotes=function(c){for(var a=0;a<c.length;a++){if(c[a].el_type==="note"||c[a].el_type==="bar"){return true}}return false};this.containsNotesStrict=function(c){for(var a=0;a<c.length;a++){if(c[a].el_type==="note"&&c[a].rest===undefined){return true}}return false};this.startNewLine=function(g){var e=this;this.closeLine();var d=function(h){e.lines[e.lineNum].staffs[e.staffNum].voices[e.voiceNum]=[];if(e.isFirstLine(e.lineNum)){if(h.stem){e.lines[e.lineNum].staffs[e.staffNum].stem[e.voiceNum]=h.stem}if(h.name){if(!e.lines[e.lineNum].staffs[e.staffNum].title){e.lines[e.lineNum].staffs[e.staffNum].title=[]}e.lines[e.lineNum].staffs[e.staffNum].title[e.voiceNum]=h.name}}else{e.lines[e.lineNum].staffs[e.staffNum].stem[e.voiceNum]=e.lines[0].staffs[e.staffNum].stem[e.voiceNum];if(h.subname){if(!e.lines[e.lineNum].staffs[e.staffNum].title){e.lines[e.lineNum].staffs[e.staffNum].title=[]}e.lines[e.lineNum].staffs[e.staffNum].title[e.voiceNum]=h.subname}}if(h.style){e.appendElement("style",null,null,null,{head:h.style})}if(h.scale){e.appendElement("scale",null,null,null,{size:h.scale})}};var a=function(h){if(h.transpose){h.clef.transpose=h.transpose}e.lines[e.lineNum].staffs[e.staffNum]={voices:[],stem:[],clef:h.clef,key:h.key,workingClef:h.clef,subtitle:h.subtitle,lyricsRows:0};if(h.vocalfont){e.lines[e.lineNum].staffs[e.staffNum].vocalfont=h.vocalfont}if(h.bracket){e.lines[e.lineNum].staffs[e.staffNum].bracket=h.bracket}if(h.brace){e.lines[e.lineNum].staffs[e.staffNum].brace=h.brace}if(h.connectBarLines){e.lines[e.lineNum].staffs[e.staffNum].connectBarLines=h.connectBarLines}if(h.clef.type==="accordionTab"){e.hasTablature=true;e.tabStaffPos=e.staffNum}d(h);if(h.part){e.appendElement("part",null,null,null,{title:h.part})}if(h.meter!==undefined){e.lines[e.lineNum].staffs[e.staffNum].meter=h.meter}};var c=function(h){e.lines[e.lineNum]={staffs:[]};a(h)};if(this.lines[this.lineNum]===undefined){c(g)}else{if(this.lines[this.lineNum].staffs===undefined){this.lineNum++;this.startNewLine(g)}else{if(this.lines[this.lineNum].staffs[this.staffNum]===undefined){a(g)}else{if(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]===undefined){d(g)}else{if(!this.containsNotes(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum])){return}else{this.lineNum++;this.startNewLine(g)}}}}}};this.hasBeginMusic=function(){return this.lines.length>0};this.isFirstLine=function(a){for(var c=a-1;c>=0;c--){if(this.lines[c].staffs!==undefined){return false}}return true};this.getCurrentStaff=function(){if(this.lines[this.lineNum]!==undefined&&this.lines[this.lineNum].staffs[this.staffNum]!==undefined){return this.lines[this.lineNum].staffs[this.staffNum]}else{return null}};this.getCurrentVoice=function(){if(this.lines[this.lineNum]!==undefined&&this.lines[this.lineNum].staffs[this.staffNum]!==undefined&&this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]!==undefined){return this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]}else{return null}};this.setCurrentVoice=function(d,c){this.staffNum=d||0;this.voiceNum=c||0;for(var a=0;a<this.lines.length;a++){if(this.lines[a].staffs){if(this.lines[a].staffs[d]===undefined||this.lines[a].staffs[d].voices[c]===undefined||!this.containsNotes(this.lines[a].staffs[d].voices[c])){this.lineNum=a;return}}}this.lineNum=a};this.addMetaText=function(a,c){if(this.metaText[a]===undefined){this.metaText[a]=c}else{this.metaText[a]+="\n"+c}};this.addMetaTextArray=function(a,c){if(this.metaText[a]===undefined){this.metaText[a]=[c]}else{this.metaText[a].push(c)}};this.addMetaTextObj=function(a,c){this.metaText[a]=c};this.reset()};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.math={}}window.ABCXJS.math.isNumber=function(a){return !isNaN(parseFloat(a))&&isFinite(a)};if(!window.ABCXJS.parse){window.ABCXJS.misc={}}window.ABCXJS.misc.isOpera=function(){return((!!window.opr&&!!opr.addons)||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0)};window.ABCXJS.misc.isChrome=function(){return(!!window.chrome&&!!window.chrome.webstore)};window.ABCXJS.misc.isChromium=function(){var c=((!!window.chrome&&!ABCXJS.misc.isOpera())>0);
if(!c){return false}for(var a=0;a<navigator.plugins.length;a++){if(navigator.plugins[a].name==="Chrome PDF Viewer"){return false}}return true};window.ABCXJS.misc.isFirefox=function(){return(typeof InstallTrigger!=="undefined")};window.ABCXJS.misc.isSafari=function(){return(/constructor/i.test(window.HTMLElement)||(function(a){return a.toString()==="[object SafariRemoteNotification]"})(!window.safari||(typeof safari!=="undefined"&&safari.pushNotification)))};window.ABCXJS.misc.isIE=function(){if(false||!!document.documentMode){return true}if(navigator.appName.indexOf("Internet Explorer")!==-1){return true}return false};window.ABCXJS.misc.isEdge=function(){return(!ABCXJS.misc.isIE()&&!!window.StyleMedia)};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.clone=function(e){if(null===e||"object"!==typeof e){return e}if(e instanceof Date){var g=new Date();g.setTime(e.getTime());return g}if(e instanceof Array){var g=[];for(var d=0,c=e.length;d<c;d++){g[d]=window.ABCXJS.parse.clone(e[d])}return g}if(e instanceof Object){var g={};for(var a in e){if(e.hasOwnProperty(a)){g[a]=window.ABCXJS.parse.clone(e[a])}}return g}throw new Error("Unable to copy obj! Its type isn't supported.")};window.ABCXJS.parse.getBarLine=function(c,d){var e=d;var a=2;switch(c.charAt(d)){case"]":++d;switch(c.charAt(d)){case"|":return{len:2,token:"bar_thick_thin"};case"[":++d;if((c.charAt(d)>="1"&&c.charAt(d)<="9")||c.charAt(d)==='"'){return{len:2,token:"bar_invisible"}}return{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}break;case":":++d;while(c.charAt(d)===":"){++d;a++}switch(c.charAt(d)){case"|":++d;switch(c.charAt(d)){case"]":++d;switch(c.charAt(d)){case"|":++d;if(c.charAt(d)===":"){while(c.charAt(d)===":"){++d}return{len:d-e,token:"bar_dbl_repeat",repeat:a}}return{len:d-e,token:"bar_right_repeat",repeat:a};default:return{len:d-e,token:"bar_right_repeat",repeat:a}}break;case":":while(c.charAt(d)===":"){++d}return{len:d-e,token:"bar_dbl_repeat",repeat:a};case"|":++d;if(c.charAt(d)===":"){while(c.charAt(d)===":"){++d}return{len:d-e,token:"bar_dbl_repeat",repeat:a}}return{len:d-e,token:"bar_right_repeat",repeat:a};default:return{len:d-e,token:"bar_right_repeat",repeat:a}}break;default:return{len:d-e,token:"bar_dbl_repeat"}}break;case"[":++d;if(c.charAt(d)==="|"){++d;switch(c.charAt(d)){case":":while(c.charAt(d)===":"){++d}return{len:d-e,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}}else{if((c.charAt(d)>="1"&&c.charAt(d)<="9")||c.charAt(d)==='"'){return{len:1,token:"bar_invisible"}}return{len:0}}break;case"|":++d;switch(c.charAt(d)){case"]":return{len:2,token:"bar_thin_thick"};case"|":++d;if(c.charAt(d)===":"){while(c.charAt(d)===":"){++d}return{len:d-e,token:"bar_left_repeat"}}return{len:2,token:"bar_thin_thin"};case":":while(c.charAt(d)===":"){++d}return{len:d-e,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}break}return{len:0}};window.ABCXJS.parse.normalizeAcc=function(a){return a.replace(/([ABCDEFG])#/g,"$1♯").replace(/([ABCDEFG])b/g,"$1♭")};window.ABCXJS.parse.denormalizeAcc=function(a){return a.replace(/([ABCDEFG])♯/g,"$1#").replace(/([ABCDEFG])♭/g,"$1b")};window.ABCXJS.parse.gsub=function(d,c,a){return d.split(c).join(a)};window.ABCXJS.parse.strip=function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")};window.ABCXJS.parse.startsWith=function(c,a){return c.indexOf(a)===0};window.ABCXJS.parse.endsWith=function(e,a){var c=e.length-a.length;return c>=0&&e.lastIndexOf(a)===c};window.ABCXJS.parse.each=function(a,e,d){for(var c=0,g=a.length;c<g;c++){e.apply(d,[a[c],c])}};window.ABCXJS.parse.last=function(a){if(a.length===0){return null}return a[a.length-1]};window.ABCXJS.parse.compact=function(a){var c=[];for(var d=0;d<a.length;d++){if(a[d]){c.push(a[d])}}return c};window.ABCXJS.parse.detect=function(a,d){for(var c=0;c<a.length;c++){if(d(a[c])){return true}}return false};window.ABCXJS.parse.pitches={C:0,D:1,E:2,F:3,G:4,A:5,B:6,c:7,d:8,e:9,f:10,g:11,a:12,b:13};window.ABCXJS.parse.key2br={C:"Dó","C♯":"Dó♯","D♭":"Ré♭",D:"Ré","D♯":"Ré♯","E♭":"Mi♭",E:"Mi",F:"Fá","F♯":"Fá♯","G♭":"Sol♭",G:"Sol","G♯":"Sol♯","A♭":"Lá♭",A:"Lá","A♯":"Lá♯","B♭":"Si♭",B:"Si"};window.ABCXJS.parse.key2number={C:0,"C♯":1,"D♭":1,D:2,"D♯":3,"E♭":3,E:4,F:5,"F♯":6,"G♭":6,G:7,"G♯":8,"A♭":8,A:9,"A♯":10,"B♭":10,B:11};window.ABCXJS.parse.number2keyflat=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"];window.ABCXJS.parse.number2keysharp=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"];window.ABCXJS.parse.number2key=["C","C♯","D","E♭","E","F","F♯","G","G♯","A","B♭","B"];window.ABCXJS.parse.number2staff=[{note:"C",acc:""},{note:"D",acc:"flat"},{note:"D",acc:""},{note:"E",acc:"flat"},{note:"E",acc:""},{note:"F",acc:""},{note:"G",acc:"flat"},{note:"G",acc:""},{note:"A",acc:"flat"},{note:"A",acc:""},{note:"B",acc:"flat"},{note:"B",acc:""}];window.ABCXJS.parse.number2staffSharp=[{note:"C",acc:""},{note:"C",acc:"sharp"},{note:"D",acc:""},{note:"D",acc:"sharp"},{note:"E",acc:""},{note:"F",acc:""},{note:"F",acc:"sharp"},{note:"G",acc:""},{note:"G",acc:"sharp"},{note:"A",acc:""},{note:"A",acc:"sharp"},{note:"B",acc:""}];window.ABCXJS.parse.stringify=function(d){var a=[];var c=JSON.stringify(d,function(e,g){if(typeof g==="object"&&g!==null){if(a.indexOf(g)!==-1){return}a.push(g)}return g});return c};String.prototype.replaceAll=function(a,c){var d=this;return d.split(a).join(c)};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.Parse=function(p,w){this.tieCnt=1;this.slurCnt=1;var t=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","fine","dacapo","dasegno","dacoda","dcalfine","dcalcoda","dsalfine","dsalcoda","crescendo(","crescendo)","diminuendo(","diminuendo)","p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz","repeatbar","repeatbar2","slide","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x"];var y=[["D.C.","dacapo"],["D.S.","dasegno"],["<","accent"],[">","accent"],["tr","trill"],["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"],["plus","+"],["emphasis","accent"]];var G={segno:{decorationNextBar:false,jumpNextBar:false,upper:true},coda:{decorationNextBar:true,jumpNextBar:true,upper:true},fine:{decorationNextBar:true,jumpNextBar:true,upper:true},dacoda:{decorationNextBar:true,jumpNextBar:true,upper:true},dacapo:{decorationNextBar:true,jumpNextBar:true,upper:true},dasegno:{decorationNextBar:true,jumpNextBar:true,upper:true},dcalfine:{decorationNextBar:false,jumpNextBar:true,upper:false},dcalcoda:{decorationNextBar:false,jumpNextBar:true,upper:false},dsalfine:{decorationNextBar:false,jumpNextBar:true,upper:false},dsalcoda:{decorationNextBar:false,jumpNextBar:true,upper:false}};
if(p){this.transposer=p}if(w){this.accordion=w}var j;var r;var A;var v="";this.getTune=function(){return j};this.getStrTune=function(){return v};var E={reset:function(){for(var H in this){if(this.hasOwnProperty(H)&&typeof this[H]!=="function"){delete this[H]}}this.iChar=0;this.key={accidentals:[],root:"none",acc:"",mode:""};this.meter={type:"specified",value:[{num:"4",den:"4"}]};this.origMeter={type:"specified",value:[{num:"4",den:"4"}]};this.hasMainTitle=false;this.default_length=0.125;this.clef={type:"treble",verticalPos:0};this.subtitle="";this.next_note_duration=0;this.start_new_line=true;this.is_in_header=true;this.is_in_history=false;this.partForNextLine="";this.havent_set_length=true;this.voices={};this.staves=[];this.macros={};this.inTextBlock=false;this.inPsBlock=false;this.ignoredDecorations=[];this.textBlock="";this.score_is_present=false;this.currentVoice=undefined}};this.getMultilineVars=function(){return E};var F=function(H){if(!E.warnings){E.warnings=[]}E.warnings.push(H)};var d=function(I){var H=window.ABCXJS.parse.gsub(I,"\x12"," ");H=window.ABCXJS.parse.gsub(H,"&","&amp;");H=window.ABCXJS.parse.gsub(H,"<","&lt;");return window.ABCXJS.parse.gsub(H,">","&gt;")};var D=function(L,H,K){var J=H.charAt(K);if(J===" "){J="SPACE"}var I=d(H.substring(0,K))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+J+"</span>"+d(H.substring(K+1));F("Music Line:"+j.getNumLines()+":"+(K+1)+": "+L+":  "+I)};this.getWarnings=function(){return E.warnings};this.addTuneElement=function(K,O,I,J,L,H){switch(K){case"bar":E.measureNotEmpty=false;if(E.addJumpPointNextBar){L.jumpPoint=ABCXJS.parse.clone(E.addJumpPointNextBar);delete E.addJumpPointNextBar}if(E.addJumpInfoNextBar){L.jumpInfo=ABCXJS.parse.clone(E.addJumpInfoNextBar);delete E.addJumpInfoNextBar}if(E.addJumpDecorationNextBar){L.jumpDecoration=ABCXJS.parse.clone(E.addJumpDecorationNextBar);delete E.addJumpDecorationNextBar}E.barAccidentals=[];E.lastBarElem=L;break;case"note":E.measureNotEmpty=true;if(E.barNumOnNextNote){var N=E.currentVoice;if(E.lastBarElem){E.lastBarElem.barNumber=E.barNumOnNextNote;E.lastBarElem.barNumberVisible=(E.barNumOnNextNoteVisible&&(N===undefined||(N.staffNum===0&&N.index===0)))}E.barNumOnNextNote=null;E.barNumOnNextNoteVisible=null}if(L.pitches){L.pitches.forEach(function(P){if(P.accidental===undefined&&E.barAccidentals[P.pitch]!==undefined){P.barAccidental=E.barAccidentals[P.pitch]}})}break}try{this.handleTie(L);this.handleSlur(L,H,I);j.appendElement(K,E.currTexLineNum,I,J,L,E.currentVoice)}catch(M){D("Unknown character ignored",H,I)}};this.handleTie=function(K){var H=this;if(!K.pitches){return}if(this.anyTieEnd(K)){var I=this.tieCnt;var J=this.aTies.pop();if(J&&J.pitches){J.pitches.forEach(function(L){if(K.pitches){K.pitches.forEach(function(M){if(H.equalsPitch(M,L)){if(!L.tie){L.tie={}}L.tie.id_start=I;M.tie={id_end:I};I++}})}})}this.tieCnt=I}if(this.anyTieStart(K)){if(!this.aTies){this.aTies=[]}this.aTies.push(K)}};this.handleSlur=function(O,H,L){var I=this;if(!O.pitches){return}var K=this.anySlurEnd(O);while(K){var J=this.tieCnt;var M=this.aSlurs.pop();if(M===undefined){D("Slur not open",H,L);return}if(M.qtd>1){M.qtd--;this.aSlurs.push(M)}var N=M.el;if(N&&N.pitches){N.pitches.forEach(function(P){if(O.pitches){O.pitches.forEach(function(Q){if(I.equalsPitch(Q,P)){if(P.tie){P.tie.id_start=J}else{P.tie={id_start:J,slur:true}}if(Q.tie){P.tie.id_end=J}else{Q.tie={id_end:J,slur:true}}J++}})}})}this.tieCnt=J;K--}K=this.anySlurStart(O);if(K){if(!this.aSlurs){this.aSlurs=[]}this.aSlurs.push({el:O,qtd:K,cnt:++this.slurCnt})}};this.anySlurEnd=function(H){var I=0;if(H.endSlur){return H.endSlur}if(H.pitches){H.pitches.forEach(function(J){if(J.endSlur){I=J.endSlur}})}return I};this.equalsPitch=function(K,J){var I="natural",H="natural";if(K.accidental!==undefined){I=K.accidental}else{if(K.barAccidental!==undefined){I=K.barAccidental}}if(J.accidental!==undefined){H=J.accidental}else{if(J.barAccidental!==undefined){H=J.barAccidental}}return(K.pitch===J.pitch&&I===H)};this.anySlurStart=function(H){var I=0;if(H.startSlur){return H.startSlur}if(H.pitches){H.pitches.forEach(function(J){if(J.startSlur){I=J.startSlur}})}return I};this.anyTieEnd=function(H){var I=false;if(H.endTie){return true}if(H.pitches){H.pitches.forEach(function(J){if(J.endTie){I=true}})}return I};this.anyTieStart=function(H){var I=false;if(H.startTie){return true}if(H.pitches){H.pitches.forEach(function(J){if(J.startTie){I=true}})}return I};var z=function(J,K){if(J.charAt(K)==='"'){var L=r.getBrackettedSubstring(J,K,5);if(!L[2]){D("Missing the closing quote while parsing the chord symbol",J,K)}if(L[0]>0&&L[1].length>0&&L[1].charAt(0)==="^"){L[1]=L[1].substring(1);L[2]="above"}else{if(L[0]>0&&L[1].length>0&&L[1].charAt(0)==="_"){L[1]=L[1].substring(1);L[2]="below"}else{if(L[0]>0&&L[1].length>0&&L[1].charAt(0)==="<"){L[1]=L[1].substring(1);L[2]="left"}else{if(L[0]>0&&L[1].length>0&&L[1].charAt(0)===">"){L[1]=L[1].substring(1);L[2]="right"}else{if(L[0]>0&&L[1].length>0&&L[1].charAt(0)==="@"){L[1]=L[1].substring(1);var H=r.getFloat(L[1]);if(H.digits===0){D("Missing first position in absolutely positioned annotation.",J,K)}L[1]=L[1].substring(H.digits);if(L[1][0]!==","){D("Missing comma absolutely positioned annotation.",J,K)}L[1]=L[1].substring(1);var M=r.getFloat(L[1]);if(M.digits===0){D("Missing second position in absolutely positioned annotation.",J,K)}L[1]=L[1].substring(M.digits);var I=r.skipWhiteSpace(L[1]);L[1]=L[1].substring(I);L[2]=null;L[3]={x:H.value,y:M.value}}else{L[1]=ABCXJS.parse.normalizeAcc(L[1]);L[2]="default"}}}}}return L}return[0,""]};var l=function(H,J){var K=E.macros[H.charAt(J)];if(K!==undefined){if(K.charAt(0)==="!"||K.charAt(0)==="+"){K=K.substring(1)}if(K.charAt(K.length-1)==="!"||K.charAt(K.length-1)==="+"){K=K.substring(0,K.length-1)}if(window.ABCXJS.parse.detect(t,function(L){return(K===L)})){return[1,K]}else{if(!window.ABCXJS.parse.detect(E.ignoredDecorations,function(L){return(K===L)})){D("Unknown macro: "+K,H,J)}return[1,""]}}switch(H.charAt(J)){case".":return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"];case"!":case"+":var I=r.getBrackettedSubstring(H,J,5);if(I[1].length>0&&(I[1].charAt(0)==="^"||I[1].charAt(0)==="_")){I[1]=I[1].substring(1)}if(window.ABCXJS.parse.detect(t,function(L){return(I[1]===L)})){return I}if(window.ABCXJS.parse.detect(y,function(L){if(I[1]===L[0]){I[1]=L[1];return true}else{return false}})){return I}if(H.charAt(J)==="!"&&(I[0]===1)){return[1,null]}D("Unknown decoration: "+I[1],H,J);I[1]="";return I}return[0,0]};var h=function(H,I){var J=I;while(r.isWhiteSpace(H.charAt(I))){I++}return[I-J]};var x=function(J,M){var K=r.getBarLine(J,M);if(K.len===0){return[0,""]}if(K.warn){D(K.warn,J,M);
return[K.len,""]}for(var I=0;I<J.length;I++){if(J.charAt(M+K.len+I)!==" "){break}}var N=K.len;if(J.charAt(M+K.len+I)==="["){K.len+=I+1}if(J.charAt(M+K.len)==='"'&&J.charAt(M+K.len-1)==="["){var H=r.getBrackettedSubstring(J,M+K.len,5);return[K.len+H[0],K.token,K.repeat,H[1]]}var L=r.getTokenOf(J.substring(M+K.len),"1234567890-,");if(L.len===0||L.token[0]==="-"){return[N,K.token,K.repeat]}return[K.len+L.len,K.token,K.repeat,L.token]};var s=function(H,J){var I={};var K=J;while(H.charAt(J)==="("||r.isWhiteSpace(H.charAt(J))){if(H.charAt(J)==="("){if(J+1<H.length&&(H.charAt(J+1)>="2"&&H.charAt(J+1)<="9")){if(I.triplet!==undefined){D("Can't nest triplets",H,J)}else{I.triplet=H.charAt(J+1)-"0";if(J+2<H.length&&H.charAt(J+2)===":"){if(J+3<H.length&&H.charAt(J+3)===":"){if(J+4<H.length&&(H.charAt(J+4)>="1"&&H.charAt(J+4)<="9")){I.num_notes=H.charAt(J+4)-"0";J+=3}else{D("expected number after the two colons after the triplet to mark the duration",H,J)}}else{if(J+3<H.length&&(H.charAt(J+3)>="1"&&H.charAt(J+3)<="9")){if(J+4<H.length&&H.charAt(J+4)===":"){if(J+5<H.length&&(H.charAt(J+5)>="1"&&H.charAt(J+5)<="9")){I.num_notes=H.charAt(J+5)-"0";J+=4}}else{I.num_notes=I.triplet;J+=3}}else{D("expected number after the triplet to mark the duration",H,J)}}}}J++}else{if(I.startSlur===undefined){I.startSlur=1}else{I.startSlur++}}}J++}I.consumed=J-K;return I};var q=function(P,Q,N,K){N=window.ABCXJS.parse.strip(N);if(N.charAt(N.length-1)!=="-"){N=N+" "}var M=[];P.lyricsRows++;var I=0;var J=false;var H=function(R){var S=window.ABCXJS.parse.strip(N.substring(I,R));if(K&&S.trim()!==""&&".1.2.3.4.5.23.24.25.34.35.45.234.345.2345.*.".indexOf("."+S.trim()+".")<0){D("Alien fingering detected",N,R-S.trim().length)}I=R+1;if(S.length>0){if(J){S=window.ABCXJS.parse.gsub(S,"~"," ")}var T=N.charAt(R);if(T!=="_"&&T!=="-"){T=" "}M.push({syllable:r.translateString(S),divider:T});J=false;return true}return false};for(var L=0;L<N.length;L++){switch(N.charAt(L)){case" ":case"\x12":H(L);break;case"-":if(!H(L)&&M.length>0){window.ABCXJS.parse.last(M).divider="-";M.push({skip:true,to:"next"})}break;case"_":H(L);M.push({skip:true,to:"slur"});break;case"*":H(L);M.push({skip:true,to:"next"});break;case"|":H(L);M.push({skip:true,to:"bar"});break;case"~":J=true;break}}var O=false;window.ABCXJS.parse.each(Q,function(R){if(M.length!==0){if(M[0].skip){switch(M[0].to){case"next":if(R.el_type==="note"&&R.pitches!==null&&!O){M.shift()}break;case"slur":if(R.el_type==="note"&&R.pitches!==null){M.shift()}break;case"bar":if(R.el_type==="bar"){M.shift()}break}}else{if(R.el_type==="note"&&R.rest===undefined&&!O){var S=M.shift();if(K){if(R.fingering===undefined){R.fingering=[S]}else{R.fingering.push(S)}}else{if(R.lyric===undefined){R.lyric=[S]}else{R.lyric.push(S)}}}}}})};var g=function(I,O){if(!I){D("Can't add symbols before the first line of mulsic",I,0);return}O=window.ABCXJS.parse.strip(O);if(O.charAt(O.length-1)!=="-"){O=O+" "}var N=[];var M=0;var K=false;var H=function(P){var Q=window.ABCXJS.parse.strip(O.substring(M,P));M=P+1;if(Q.length>0){if(K){Q=window.ABCXJS.parse.gsub(Q,"~"," ")}var R=O.charAt(P);if(R!=="_"&&R!=="-"){R=" "}N.push({syllable:r.translateString(Q),divider:R});K=false;return true}return false};for(var J=0;J<O.length;J++){switch(O.charAt(J)){case" ":case"\x12":H(J);break;case"-":if(!H(J)&&N.length>0){window.ABCXJS.parse.last(N).divider="-";N.push({skip:true,to:"next"})}break;case"_":H(J);N.push({skip:true,to:"slur"});break;case"*":H(J);N.push({skip:true,to:"next"});break;case"|":H(J);N.push({skip:true,to:"bar"});break;case"~":K=true;break}}var L=false;window.ABCXJS.each(I,function(Q){if(N.length!==0){if(N[0].skip){switch(N[0].to){case"next":if(Q.el_type==="note"&&Q.pitches!==null&&!L){N.shift()}break;case"slur":if(Q.el_type==="note"&&Q.pitches!==null){N.shift()}break;case"bar":if(Q.el_type==="bar"){N.shift()}break}}else{if(Q.el_type==="note"&&Q.rest===undefined&&!L){var P=N.shift();if(Q.lyric===undefined){Q.lyric=[P]}else{Q.lyric.push(P)}}}}})};var c=function(H,I){switch(H.charAt(I)){case">":if(I<H.length-1&&H.charAt(I+1)===">"){return[2,1.75,0.25]}else{return[1,1.5,0.5]}break;case"<":if(I<H.length-1&&H.charAt(I+1)==="<"){return[2,0.25,1.75]}else{return[1,0.5,1.5]}break}return null};var k=function(H){if(H.duration!==undefined&&H.duration<=0.25){H.end_beam=true}return H};var o=ABCXJS.parse.pitches;var a={x:"invisible",y:"spacer",z:"rest",Z:"multimeasure"};var m=function(Q,N,J,H){var O=function(R){return(R==="octave"||R==="duration"||R==="Zduration"||R==="broken_rhythm"||R==="end_slur")};var I="startSlur";var K=false;while(1){switch(Q.charAt(N)){case"(":if(I==="startSlur"){if(J.startSlur===undefined){J.startSlur=1}else{J.startSlur++}}else{if(O(I)){J.endChar=N;return J}else{return null}}break;case")":if(O(I)){if(J.endSlur===undefined){J.endSlur=1}else{J.endSlur++}}else{return null}break;case"^":if(I==="startSlur"){J.accidental="sharp";I="sharp2"}else{if(I==="sharp2"){J.accidental="dblsharp";I="pitch"}else{if(O(I)){J.endChar=N;return J}else{return null}}}break;case"_":if(I==="startSlur"){J.accidental="flat";I="flat2"}else{if(I==="flat2"){J.accidental="dblflat";I="pitch"}else{if(O(I)){J.endChar=N;return J}else{return null}}}break;case"=":if(I==="startSlur"){J.accidental="natural";I="pitch"}else{if(O(I)){J.endChar=N;return J}else{return null}}break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(I==="startSlur"||I==="sharp2"||I==="flat2"||I==="pitch"){J.pitch=o[Q.charAt(N)];I="octave";if(H&&E.next_note_duration!==0){J.duration=E.next_note_duration;E.next_note_duration=0;K=true}else{J.duration=E.default_length}}else{if(O(I)){J.endChar=N;return J}else{return null}}break;case",":if(I==="octave"){J.pitch-=7}else{if(O(I)){J.endChar=N;return J}else{return null}}break;case"'":if(I==="octave"){J.pitch+=7}else{if(O(I)){J.endChar=N;return J}else{return null}}break;case"x":case"y":case"z":case"Z":if(I==="startSlur"){J.rest={type:a[Q.charAt(N)]};delete J.accidental;delete J.startSlur;delete J.startTie;delete J.endSlur;delete J.endTie;delete J.end_beam;delete J.grace_notes;if(J.rest.type==="multimeasure"){J.duration=1;I="Zduration"}else{if(H&&E.next_note_duration!==0){J.duration=E.next_note_duration;E.next_note_duration=0;K=true}else{J.duration=E.default_length}I="duration"}}else{if(O(I)){J.endChar=N;return J}else{return null}}break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":case".":if(I==="octave"||I==="duration"){var P=r.getFraction(Q,N);if(!K){J.duration=J.duration*P.value}J.endChar=P.index;while(P.index<Q.length&&(r.isWhiteSpace(Q.charAt(P.index))||Q.charAt(P.index)==="-")){if(Q.charAt(P.index)==="-"){J.startTie={}}else{J=k(J)}P.index++}N=P.index-1;I="broken_rhythm"}else{if(I==="sharp2"){J.accidental="quartersharp";I="pitch"}else{if(I==="flat2"){J.accidental="quarterflat";I="pitch"}else{if(I==="Zduration"){var M=r.getNumber(Q,N);J.duration=M.num;J.endChar=M.index;return J}else{return null}}}}break;case"-":if(I==="startSlur"){j.addTieToLastNote();
J.endTie=true}else{if(I==="octave"||I==="duration"||I==="end_slur"){J.startTie={};if(!K&&H){I="broken_rhythm"}else{if(r.isWhiteSpace(Q.charAt(N+1))){k(J)}J.endChar=N+1;return J}}else{if(I==="broken_rhythm"){J.endChar=N;return J}else{return null}}}break;case" ":case"\t":if(O(I)){J.end_beam=true;do{if(Q.charAt(N)==="-"){J.startTie={}}N++}while(N<Q.length&&(r.isWhiteSpace(Q.charAt(N))||Q.charAt(N)==="-"));J.endChar=N;if(!K&&H&&(Q.charAt(N)==="<"||Q.charAt(N)===">")){N--;I="broken_rhythm"}else{return J}}else{return null}break;case">":case"<":if(O(I)){if(H){var L=c(Q,N);N+=L[0]-1;E.next_note_duration=L[2]*J.duration;J.duration=L[1]*J.duration;I="end_slur"}else{J.endChar=N;return J}}else{return null}break;default:if(O(I)){J.endChar=N;return J}return null}N++;if(N===Q.length){if(O(I)){J.endChar=N;return J}else{return null}}}return null};function B(){var J={startChar:-1,endChar:-1};if(E.partForNextLine.length){J.part=E.partForNextLine}var I=E.currentVoice;J.clef=window.ABCXJS.parse.clone(I&&I.clef!==undefined?I.clef:E.clef);J.key=window.ABCXJS.parse.parseKeyVoice.deepCopyKey(E.key);window.ABCXJS.parse.parseKeyVoice.addPosToKey(J.clef,J.key);if(E.meter!==null){if(E.currentVoice){window.ABCXJS.parse.each(E.staves,function(K){K.meter=E.meter});J.meter=E.staves[E.currentVoice.staffNum].meter;E.staves[E.currentVoice.staffNum].meter=null}else{J.meter=E.meter}E.meter=null}else{if(E.currentVoice&&E.staves[E.currentVoice.staffNum].meter){J.meter=E.staves[E.currentVoice.staffNum].meter;E.staves[E.currentVoice.staffNum].meter=null}}if(E.currentVoice&&E.currentVoice.name){J.name=E.currentVoice.name}if(E.vocalfont){J.vocalfont=E.vocalfont}if(E.style){J.style=E.style}if(E.currentVoice){var H=E.staves[E.currentVoice.staffNum];if(H.brace){J.brace=H.brace}if(H.bracket){J.bracket=H.bracket}if(H.connectBarLines){J.connectBarLines=H.connectBarLines}if(H.name){J.name=H.name[E.currentVoice.index]}if(H.subname){J.subname=H.subname[E.currentVoice.index]}if(E.subtitle){J.subtitle=E.subtitle;E.subtitle=""}if(E.currentVoice.stem){J.stem=E.currentVoice.stem}if(E.currentVoice.scale){J.scale=E.currentVoice.scale}if(E.currentVoice.style){J.style=E.currentVoice.style}if(E.currentVoice.transpose){J.transpose=E.currentVoice.transpose}}j.startNewLine(J);E.partForNextLine="";var I=E.currentVoice;if(I){if(E.measureNotEmpty){I.currBarNumber++}E.barNumOnNextNote=I.currBarNumber;if(E.barNumbers===1||(E.barNumbers===0&&E.barsperstaff===undefined&&I.currBarNumber>1)){E.barNumOnNextNoteVisible=true}}}var e=function(K,I){var H=0;if(K.pitches){for(var J=0;J<K.pitches.length;++J){H+=K.pitches[J].pitch}I.triplet.avgPitch+=(H/K.pitches.length)}else{I.triplet.avgPitch+=6}I.notesLeft--;if(I.notesLeft===0){K.endTriplet=true;I.triplet.avgPitch=(I.triplet.avgPitch/I.triplet.notes);I.triplet=false}};var C=function(I,K){if(I.charAt(K)==="{"){var J=r.getBrackettedSubstring(I,K,1,"}");if(!J[2]){D("Missing the closing '}' while parsing grace note",I,K)}if(I[K+J[0]]===")"){J[0]++;J[1]+=")"}var H=[];var M=0;var N=false;while(M<J[1].length){var O=false;if(J[1].charAt(M)==="/"){O=true;M++}var L=m(J[1],M,{},false);if(L!==null){if(O){L.acciaccatura=true}H.push(L);if(N){L.endTie=true;N=false}if(L.startTie){N=true}M=L.endChar;delete L.endChar}else{if(J[1].charAt(M)===" "){if(H.length>0){H[H.length-1].end_beam=true}}else{D("Unknown character '"+J[1].charAt(M)+"' while parsing grace note",I,K)}M++}}if(H.length){return[J[0],H]}}return[0]};var u="ABCDEFGabcdefgxyzZ[]|^_{";this.handleJump=function(J,I,H,K){if(I.decorationNextBar){if(!E.addJumpDecorationNextBar){E.addJumpDecorationNextBar=[]}E.addJumpDecorationNextBar.push({type:J,upper:I.upper})}else{if(E.lastBarElem){if(!E.lastBarElem.jumpDecoration){E.lastBarElem.jumpDecoration=[]}E.lastBarElem.jumpDecoration.push({type:J,upper:I.upper})}else{D("Ignoring jump decoration marker before the first bar.",H,K)}}if((".segno.coda.fine.").indexOf(J)>0){if(I.jumpNextBar){if(E.addJumpPointNextBar){D("Overriding previous jump point",H,K)}E.addJumpPointNextBar={type:J}}else{if(E.lastBarElem){if(E.lastBarElem.jumpPoint){D("Overriding previous jump point",H,K)}E.lastBarElem.jumpPoint={type:J}}else{D("Ignoring jump point marker before the first bar.",H,K)}}}else{if(I.jumpNextBar){if(E.addJumpInfoNextBar){D("Overriding previous jump information",H,K)}E.addJumpInfoNextBar={type:J}}else{if(E.lastBarElem){if(E.lastBarElem.jumpInfo){D("Overriding previous jump information",H,K)}E.lastBarElem.jumpInfo={type:J}}else{D("Ignoring jump info marker before the first bar.",H,K)}}}};this.parseRegularMusicLine=function(R){if(!E.voices[0]){if(!E.clef){E.clef={type:"treble",verticalPos:0}}E.voices[0]={clef:E.clef,index:0,staffNum:0,currBarNumber:1};E.staves[0]={clef:E.clef,index:0,meter:null,numVoices:1,inTie:[false],inTieChord:[false],inEnding:[false]};E.currentVoice=E.voices[0]}E.barAccidentals=[];A.resolveTempo();E.is_in_header=false;var Y=0;var X=E.iChar;while(r.isWhiteSpace(R.charAt(Y))&&Y<R.length){Y++}if(Y===R.length||R.charAt(Y)==="%"){return}var ab=E.start_new_line;E.start_new_line=(E.continueall===undefined);var af={notesLeft:0,triplet:false};var U=A.letter_to_body_header(R,Y);if(U[0]>0){Y+=U[0]}var J={};while(Y<R.length){var K=Y;if(R.charAt(Y)==="%"){break}var I=A.letter_to_inline_header(R,Y);if(I[0]>0){Y+=I[0]}else{if(ab){B();ab=false}var ad;while(1){ad=r.eatWhiteSpace(R,Y);if(ad>0){Y+=ad}if(Y>0&&R.charAt(Y-1)==="\x12"){ad=A.letter_to_body_header(R,Y);if(ad[0]>0){Y=ad[0];E.start_new_line=false}}ad=h(R,Y);if(ad[0]>0){Y+=ad[0]}ad=z(R,Y);if(ad[0]>0){if(!J.chord){J.chord=[]}var O=r.translateString(ad[1]);O=O.replace(/;/g,"\n");var N=false;for(var S=0;S<J.chord.length;S++){if(J.chord[S].position===ad[2]){N=true;J.chord[S].name+="\n"+O}}if(N===false){if(ad[2]===null&&ad[3]){J.chord.push({name:O,rel_position:ad[3]})}else{J.chord.push({name:O,position:ad[2]})}}Y+=ad[0];var T=r.skipWhiteSpace(R.substring(Y));if(T>0){J.force_end_beam_last=true}Y+=T}else{if(u.indexOf(R.charAt(Y))===-1){ad=l(R,Y)}else{ad=[0]}if(ad[0]>0){if(ad[1]===null){if(Y+1<R.length){B()}}else{if(ad[1].length>0){var L=G[ad[1]];if(L){this.handleJump(ad[1],L,R,Y)}else{if(J.decoration===undefined){J.decoration=[]}J.decoration.push(ad[1])}}}Y+=ad[0]}else{ad=C(R,Y);if(ad[0]>0){J.gracenotes=ad[1];Y+=ad[0]}else{break}}}}ad=x(R,Y);if(ad[0]>0){if(J.gracenotes!==undefined){J.rest={type:"spacer"};J.duration=0.125;this.addTuneElement("note",X,Y,Y+ad[0],J);J={}}var aa={type:ad[1],repeat:ad[2]};if(aa.type.length===0){D("Unknown bar type",R,Y)}else{if(E.staves[E.currentVoice.staffNum].inEnding[E.currentVoice.index]){aa.endDrawEnding=true;if(aa.type!=="bar_thin"){aa.endEnding=true;E.staves[E.currentVoice.staffNum].inEnding[E.currentVoice.index]=false}}if(ad[3]){aa.startEnding=ad[3];if(E.staves[E.currentVoice.staffNum].inEnding[E.currentVoice.index]){aa.endDrawEnding=true;aa.endEnding=true}E.staves[E.currentVoice.staffNum].inEnding[E.currentVoice.index]=true}if(J.decoration!==undefined){aa.decoration=J.decoration}if(J.chord!==undefined){aa.chord=J.chord}var ae=E.currentVoice;
if(aa.type!=="bar_invisible"&&E.measureNotEmpty){ae.currBarNumber++;E.barNumOnNextNote=ae.currBarNumber;if((E.barNumbers&&(ae.currBarNumber%E.barNumbers===0))||(E.barsperstaff!==undefined&&ae.currBarNumber&&((ae.currBarNumber-1)%E.barsperstaff)===0)){E.barNumOnNextNoteVisible=true}}this.addTuneElement("bar",X,Y,Y+ad[0],aa);J={}}Y+=ad[0]}else{if(R[Y]==="&"){D("Overlay not yet supported",R,Y);Y++}else{ad=s(R,Y);if(ad.consumed>0){if(ad.startSlur!==undefined){J.startSlur=ad.startSlur}if(ad.triplet!==undefined){if(af.notesLeft>0){D("Can't nest triplets",R,Y)}else{af.notesLeft=ad.num_notes===undefined?ad.triplet:ad.num_notes;af.triplet={num:ad.triplet,notes:af.notesLeft,avgPitch:0};J.startTriplet=af.triplet}}Y+=ad.consumed}if(R.charAt(Y)==="["){Y++;var H=null;var W=false;while(!W){var Q=m(R,Y,{},false);if(Q!==null){if(Q.end_beam){J.end_beam=true;delete Q.end_beam}if(Q.rest){}else{if(J.pitches===undefined){J.duration=Q.duration;J.pitches=[Q]}else{J.pitches.push(Q)}if(E.staves[E.currentVoice.staffNum].inTieChord[E.currentVoice.index][J.pitches.length]){Q.endTie=true;E.staves[E.currentVoice.staffNum].inTieChord[E.currentVoice.index][J.pitches.length]=undefined}if(Q.startTie){E.staves[E.currentVoice.staffNum].inTieChord[E.currentVoice.index][J.pitches.length]=true}}Y=Q.endChar;delete Q.endChar;delete Q.duration}else{if(R.charAt(Y)===" "){D("Spaces are not allowed in chords",R,Y);Y++}else{if(Y<R.length&&R.charAt(Y)==="]"){Y++;if(E.next_note_duration!==0){J.duration=J.duration*E.next_note_duration;E.next_note_duration=0}if(E.staves[E.currentVoice.staffNum].inTie[E.currentVoice.index]){window.ABCXJS.parse.each(J.pitches,function(ag){ag.endTie=true});E.staves[E.currentVoice.staffNum].inTie[E.currentVoice.index]=false}if(af.notesLeft>0){e(J,af)}var P=false;while(Y<R.length&&!P){switch(R.charAt(Y)){case" ":case"\t":k(J);break;case")":if(J.endSlur===undefined){J.endSlur=1}else{J.endSlur++}break;case"-":window.ABCXJS.parse.each(J.pitches,function(ag){ag.startTie={}});E.staves[E.currentVoice.staffNum].inTie[E.currentVoice.index]=true;break;case">":case"<":var ac=c(R,Y);Y+=ac[0]-1;E.next_note_duration=ac[2];H=ac[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":case".":var M=r.getFraction(R,Y);H=M.value;Y=M.index;if(R.charAt(Y).match(/[-\s\)]/g)){Y--}else{P=true}break;default:P=true;break}if(!P){Y++}}}else{D("Expected ']' to end the chords",R,Y)}if(J.pitches!==undefined){if(H!==null){J.duration=J.duration*H}this.addTuneElement("note",X,K,Y,J);J={}}W=true}}}}else{var V={};var Z=m(R,Y,V,true);if(V.endTie!==undefined){E.staves[E.currentVoice.staffNum].inTie[E.currentVoice.index]=true}if(Z!==null){if(Z.pitch!==undefined){J.pitches=[{}];J.pitches[0].pitch=Z.pitch;if(Z.accidental!==undefined){J.pitches[0].accidental=Z.accidental;E.barAccidentals[Z.pitch]=Z.accidental}if(Z.endSlur!==undefined){J.pitches[0].endSlur=Z.endSlur}if(Z.endTie!==undefined){J.pitches[0].endTie=Z.endTie}if(Z.startSlur!==undefined){J.pitches[0].startSlur=Z.startSlur}if(J.startSlur!==undefined){J.pitches[0].startSlur=J.startSlur}if(Z.startTie!==undefined){J.pitches[0].startTie=Z.startTie}if(J.startTie!==undefined){J.pitches[0].startTie=J.startTie}}else{J.rest=Z.rest;if(Z.endSlur!==undefined){J.endSlur=Z.endSlur}if(Z.endTie!==undefined){J.rest.endTie=Z.endTie}if(Z.startSlur!==undefined){J.startSlur=Z.startSlur}if(Z.startTie!==undefined){J.rest.startTie=Z.startTie}if(J.startTie!==undefined){J.rest.startTie=J.startTie}}if(Z.chord!==undefined){J.chord=Z.chord}if(Z.duration!==undefined){J.duration=Z.duration}if(Z.decoration!==undefined){J.decoration=Z.decoration}if(Z.graceNotes!==undefined){J.graceNotes=Z.graceNotes}delete J.startSlur;if(E.staves.length){if(E.staves[E.currentVoice.staffNum].inTie[E.currentVoice.index]){if(J.pitches!==undefined){J.pitches[0].endTie=true}else{J.rest.endTie=true}E.staves[E.currentVoice.staffNum].inTie[E.currentVoice.index]=false}if(Z.startTie||J.startTie){E.staves[E.currentVoice.staffNum].inTie[E.currentVoice.index]=true}}Y=Z.endChar;if(af.notesLeft>0){e(J,af)}if(Z.end_beam){k(J)}this.addTuneElement("note",X,K,Y,J,R);J={}}}if(Y===K){if(R.charAt(Y)!==" "&&R.charAt(Y)!=="`"){D("Unknown character ignored",R,Y)}Y++}}}}}};this.parseLine=function(I,H){var J=A.parseHeader(I,H);if(J.regular){if(E.clef&&E.clef.type==="accordionTab"){if(this.accordion){if(this.transposer&&this.transposer.offSet!==0){this.transposer.deleteTabLine(H)}else{var L=this.accordion.parseTabVoice(J.str,this.getMultilineVars(),this.getTune());if(L.length>0){B();for(var K=0;K<L.length;K++){j.appendElement(L[K].el_type,E.currTexLineNum,L[K].startChar,L[K].endChar,L[K],E.currentVoice)}}}}else{F("+Warn: Cannot parse tablature line: no accordion defined!")}}else{if(this.transposer&&this.transposer.offSet!==0){J.str=this.transposer.transposeRegularMusicLine(I,H,E)}this.parseRegularMusicLine(J.str)}}if(J.newline&&E.continueall===undefined){B()}if(J.fingering){q(j.getCurrentStaff(),j.getCurrentVoice(),I.substring(2),true)}if(J.words){q(j.getCurrentStaff(),j.getCurrentVoice(),I.substring(2),false)}if(J.symbols){g(j.getCurrentVoice(),I.substring(2))}if(J.recurse){this.parseLine(J.str)}};this.strTuneHouseKeeping=function(){v=window.ABCXJS.parse.gsub(v,"\r\n","\n");v=window.ABCXJS.parse.gsub(v,"\r","\n");v+=v.charAt(v.length-1)==="\n"?"":"\n";v=v.replace(/\n\\.*\n/g,"\n");var I=function(K,M,N){var J="                                                                                                                                                                                                     ";var L=N?J.substring(0,N.length):"";return M+" \x12"+L};v=v.replace(/\\([ \t]*)(%.*)*\n/g,I);var H=v.split("\n");while(window.ABCXJS.parse.last(H).length===0){H.pop()}return H};this.parse=function(M,L){v=M;j=new window.ABCXJS.data.Tune();r=new window.ABCXJS.parse.tokenizer();A=new window.ABCXJS.parse.ParseHeader(r,D,E,j,this.transposer);if(L&&L.print){j.media="print"}E.reset();A.reset(r,D,E,j);var J=this.strTuneHouseKeeping();try{for(var H=0;H<J.length;H++){E.currTexLineNum=H;var I=J[H];if(L){if(L.header_only&&E.is_in_header===false){throw"normal_abort"}if(L.stop_on_warning&&E.warnings){throw"normal_abort"}}if(E.is_in_history){if(I.charAt(1)===":"){E.is_in_history=false;this.parseLine(I)}else{j.addMetaText("history",r.translateString(r.stripComment(I)))}}else{if(E.inTextBlock){if(window.ABCXJS.parse.startsWith(I,"%%endtext")){j.addText(E.textBlock);E.inTextBlock=false}else{if(window.ABCXJS.parse.startsWith(I,"%%")){E.textBlock+=" "+I.substring(2)}else{E.textBlock+=" "+I}}}else{if(E.inPsBlock){if(window.ABCXJS.parse.startsWith(I,"%%endps")){E.inPsBlock=false}else{E.textBlock+=" "+I}}else{this.parseLine(I,H)}}}E.iChar+=I.length+1}if(this.transposer&&this.transposer.offSet!==0){v=this.transposer.updateEditor(J)}if(j.hasTablature){if(j.lines[0].staffs[j.tabStaffPos].voices[0].length===0){(j.tabStaffPos===0)&&F("AccordionTab não deve ser a primeira voz!");for(var K=1;K<j.lines.length;K++){if(j.lines[K].staffs&&!j.lines[K].staffs[j.tabStaffPos]){j.lines[K].staffs[j.tabStaffPos]=window.ABCXJS.parse.clone(j.lines[0].staffs[j.tabStaffPos]);
j.lines[K].staffs[j.tabStaffPos].meter=null;j.lines[K].staffs[j.tabStaffPos].subtitle=""}}if(this.accordion){this.accordion.inferTablature(j,E,F);v+=this.accordion.getTabLines()}else{F("Impossível inferir a tablatura: acordeon não definido!")}}else{if(E.InvalidBass){F("Baixo incompatível com movimento do fole no(s) compasso(s): "+E.InvalidBass.substring(1,E.InvalidBass.length-1)+".");delete E.InvalidBass}if(E.missingNotes){F("Notas não encontradas no(s) compasso(s): "+E.missingNotes.substring(1,E.missingNotes.length-1)+".");delete E.missingNotes}}}j.setFormat(E);j.handleBarsPerStaff();j.checkJumpMarkers(F);j.cleanUp()}catch(N){if(N!=="normal_abort"){throw N}}}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.parseDirective={};(function(){var c;var e;var a;var d;window.ABCXJS.parse.parseDirective.initialize=function(k,h,j,g){c=k;e=h;a=j;d=g};window.ABCXJS.parse.parseDirective.parseFontChangeLine=function(j){var g=j.split("$");if(g.length>1&&a.setfont){var k=[{text:g[0]}];for(var h=1;h<g.length;h++){if(g[h].charAt(0)==="0"){k.push({text:g[h].substring(1)})}else{if(g[h].charAt(0)==="1"&&a.setfont[1]){k.push({font:a.setfont[1],text:g[h].substring(1)})}else{if(g[h].charAt(0)==="2"&&a.setfont[2]){k.push({font:a.setfont[2],text:g[h].substring(1)})}else{if(g[h].charAt(0)==="3"&&a.setfont[3]){k.push({font:a.setfont[3],text:g[h].substring(1)})}else{if(g[h].charAt(0)==="4"&&a.setfont[4]){k.push({font:a.setfont[4],text:g[h].substring(1)})}else{k[k.length-1].text+="$"+g[h]}}}}}}if(k.length>1){return k}}return j};window.ABCXJS.parse.parseDirective.addDirective=function(Q){var Z=function(t,ak){var p=c.getMeasurement(ak);if(p.used===0||ak.length!==0){return{error:'Directive "'+t+'" requires a measurement as a parameter.'}}return p.value};var V=function(t,ak){var p=c.getMeasurement(ak);if(p.used===0||ak.length!==0){return'Directive "'+t+'" requires a measurement as a parameter.'}d.formatting[t]=p.value;return null};var F=function(al){var p={};var t=window.ABCXJS.parse.last(al);if(t.type==="number"){p.size=parseInt(t.token);al.pop()}if(al.length>0){var ak="";window.ABCXJS.parse.each(al,function(am){if(am.token!=="-"){if(ak.length>0){ak+=" "}ak+=am.token}});p.font=ak}return p};var o=function(p,t){if(t.length===0){return'Directive "'+p+'" requires a font as a parameter.'}a[p]=F(t);return null};var v=function(p,t){if(t.length===0){return'Directive "'+p+'" requires a font as a parameter.'}d.formatting[p]=F(t);return null};var j=function(al,am,an,ak,p){if(an.length!==1||an[0].type!=="number"){return'Directive "'+am+'" requires a number as a parameter.'}var t=an[0].intt;if(ak!==undefined&&t<ak){return'Directive "'+am+'" requires a number greater than or equal to '+ak+" as a parameter."}if(p!==undefined&&t>p){return'Directive "'+am+'" requires a number less than or equal to '+p+" as a parameter."}a[al]=t;return null};var I=function(p,t,ak){var al=j(p,t,ak,0,1);if(al!==null){return al}a[p]=(a[p]===1);return null};var O=c.tokenize(Q,0,Q.length);if(O.length===0||O[0].type!=="alpha"){return null}var h=Q.substring(Q.indexOf(O[0].token)+O[0].token.length);h=c.stripComment(h);var ad=O.shift().token.toLowerCase();var ag;var m="";switch(ad){case"bagpipes":d.formatting.bagpipes=true;break;case"hidefingering":d.formatting.hideFingering=true;break;case"restsintab":d.formatting.restsInTab=true;break;case"slurgraces":d.formatting.slurgraces=true;break;case"stretchlast":d.formatting.stretchlast=true;break;case"titleleft":d.formatting.titleleft=true;break;case"measurebox":d.formatting.measurebox=true;break;case"landscape":a.landscape=true;break;case"papersize":a.papersize=h;break;case"titlecaps":a.titlecaps=true;break;case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return V(ad,O);case"vskip":var l=Z(ad,O);if(l.error){return l.error}d.addSpacing(l);return null;case"tabinferenceopts":m="";window.ABCXJS.parse.each(O,function(p){m+=p.token});ag=parseFloat(m);if(isNaN(ag)||ag===0){return'Directive "'+ad+'" requires positive or negativenumber a number as a parameter.'}d.formatting.tabInferenceOpts=ag;break;case"scale":m="";window.ABCXJS.parse.each(O,function(p){m+=p.token});ag=parseFloat(m);if(isNaN(ag)||ag===0){return'Directive "'+ad+'" requires a number as a parameter.'}d.formatting.scale=ag;break;case"sep":if(O.length===0){d.addSeparator()}else{var U=c.getMeasurement(O);if(U.used===0){return'Directive "'+ad+'" requires 3 numbers: space above, space below, length of line'}var N=U.value;U=c.getMeasurement(O);if(U.used===0){return'Directive "'+ad+'" requires 3 numbers: space above, space below, length of line'}var aj=U.value;U=c.getMeasurement(O);if(U.used===0||O.length!==0){return'Directive "'+ad+'" requires 3 numbers: space above, space below, length of line'}var E=U.value;d.addSeparator(N,aj,E)}break;case"barsperstaff":m=j("barsperstaff",ad,O);if(m!==null){return m}break;case"staffnonote":m=I("staffnonote",ad,O);if(m!==null){return m}break;case"printtempo":m=I("printTempo",ad,O);if(m!==null){return m}break;case"pagenumbering":a.pagenumbering=true;break;case"measurenb":case"barnumbers":m=j("barNumbers",ad,O);if(m!==null){return m}break;case"begintext":a.inTextBlock=true;break;case"continueall":a.continueall=true;break;case"beginps":a.inPsBlock=true;e("Postscript ignored",Q,0);break;case"deco":if(h.length>0){a.ignoredDecorations.push(h.substring(0,h.indexOf(" ")))}e("Decoration redefinition ignored",Q,0);break;case"text":var aa=c.translateString(h);d.addText(window.ABCXJS.parse.parseDirective.parseFontChangeLine(aa));break;case"center":var g=c.translateString(h);d.addCentered(window.ABCXJS.parse.parseDirective.parseFontChangeLine(g));break;case"font":break;case"setfont":var C=c.tokenize(h,0,h.length);var K=false;if(C.length>=4){if(C[0].token==="-"&&C[1].type==="number"){var k=parseInt(C[1].token);if(k>=1&&k<=4){if(!a.setfont){a.setfont=[]}var H=C.pop();if(H.type==="number"){H=parseInt(H.token);var y="";for(var A=2;A<C.length;A++){y+=C[A].token}a.setfont[k]={font:y,size:H};K=true}}}}if(!K){return"Bad parameters: "+ad}break;case"gchordfont":case"partsfont":case"vocalfont":case"textfont":return o(ad,O);case"barlabelfont":case"barnumberfont":case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":return v(ad,O);case"barnumfont":return v("barnumberfont",O);case"staves":case"score":a.score_is_present=true;var ai=function(an,ak,am,al,t){if(ak||a.staves.length===0){a.staves.push({index:a.staves.length,numVoices:0,inEnding:[],inTie:[],inTieChord:[]})}var p=window.ABCXJS.parse.last(a.staves);if(am!==undefined){p.bracket=am}if(al!==undefined){p.brace=al}if(t){p.connectBarLines="end"}if(a.voices[an]===undefined){p.inEnding[p.numVoices]=false;
p.inTie[p.numVoices]=false;p.inTieChord[p.numVoices]={};a.voices[an]={staffNum:p.index,index:p.numVoices,currBarNumber:1};p.numVoices++}};var S=false;var ac=false;var s=false;var T=false;var q=false;var u=false;var r=false;var x;var ah=function(){r=true;if(x){var p="start";if(x.staffNum>0){if(a.staves[x.staffNum-1].connectBarLines==="start"||a.staves[x.staffNum-1].connectBarLines==="continue"){p="continue"}}a.staves[x.staffNum].connectBarLines=p}};while(O.length){var X=O.shift();switch(X.token){case"(":if(S){e("Can't nest parenthesis in %%score",Q,X.start)}else{S=true;T=true}break;case")":if(!S||T){e("Unexpected close parenthesis in %%score",Q,X.start)}else{S=false}break;case"[":if(ac){e("Can't nest brackets in %%score",Q,X.start)}else{ac=true;q=true}break;case"]":if(!ac||q){e("Unexpected close bracket in %%score",Q,X.start)}else{ac=false;a.staves[x.staffNum].bracket="end"}break;case"{":if(s){e("Can't nest braces in %%score",Q,X.start)}else{s=true;u=true}break;case"}":if(!s||u){e("Unexpected close brace in %%score",Q,X.start)}else{s=false;a.staves[x.staffNum].brace="end"}break;case"|":ah();break;default:var G="";while(X.type==="alpha"||X.type==="number"){G+=X.token;if(X.continueId){X=O.shift()}else{break}}var M=!S||T;var P=q?"start":ac?"continue":undefined;var D=u?"start":s?"continue":undefined;ai(G,M,P,D,r);T=false;q=false;u=false;r=false;x=a.voices[G];if(ad==="staves"){ah()}break}}break;case"newpage":var z=c.getInt(h);d.addNewPage(z.digits===0?-1:z.value);break;case"abc-copyright":case"abc-creator":case"abc-version":case"abc-charset":case"abc-edited-by":d.addMetaText(ad,h);break;case"header":case"footer":var W=c.getMeat(h,0,h.length);W=h.substring(W.start,W.end);if(W.charAt(0)==='"'&&W.charAt(W.length-1)==='"'){W=W.substring(1,W.length-2)}var J=W.split("\t");var w={};if(J.length===1){w={left:"",center:J[0],right:""}}else{if(J.length===2){w={left:J[0],center:J[1],right:""}}else{w={left:J[0],center:J[1],right:J[2]}}}if(J.length>3){e("Too many tabs in "+ad+": "+J.length+" found.",h,0)}d.addMetaTextObj(ad,w);break;case"midi":var ab=c.tokenize(h,0,h.length);if(ab.length>0&&ab[0].token==="="){ab.shift()}if(ab.length===0){e("Expected midi command",h,0)}else{var B=function(ak){if(ak.length>0){var al=ak.shift();var am=al.token;if(al.type==="number"){am=al.intt}return am}else{return null}};if(d.formatting[ad]===undefined){d.formatting[ad]={}}var L=ab.shift().token;var R=true;if(L==="program"){var af=B(ab);if(af){var ae=B(ab);if(ae){R={channel:af,program:ae}}else{R={program:af}}}}else{var Y=B(ab);if(Y!==null){R=Y}}d.formatting[ad][L]=R}break;case"playtempo":case"auquality":case"continuous":case"nobarcheck":d.formatting[ad]=h;break;default:return"Unknown directive: "+ad}return null}})();if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.ParseHeader=function(e,h,c,g,a){this.reset=function(k,m,j,l){window.ABCXJS.parse.parseKeyVoice.initialize(k,m,j,l);window.ABCXJS.parse.parseDirective.initialize(k,m,j,l)};this.reset(e,h,c,g);this.setTitle=function(j){if(c.hasMainTitle){c.subtitle=e.translateString(e.stripComment(j));g.addSubtitle(c.subtitle)}else{g.addMetaText("title",e.translateString(e.theReverser(e.stripComment(j))));c.hasMainTitle=true}};this.setMeter=function(s){s=e.stripComment(s);if(s==="C"){if(c.havent_set_length===true){c.default_length=0.125}return{type:"common_time"}}else{if(s==="C|"){if(c.havent_set_length===true){c.default_length=0.125}return{type:"cut_time"}}else{if(s==="o"){if(c.havent_set_length===true){c.default_length=0.125}return{type:"tempus_perfectum"}}else{if(s==="c"){if(c.havent_set_length===true){c.default_length=0.125}return{type:"tempus_imperfectum"}}else{if(s==="o."){if(c.havent_set_length===true){c.default_length=0.125}return{type:"tempus_perfectum_prolatio"}}else{if(s==="c."){if(c.havent_set_length===true){c.default_length=0.125}return{type:"tempus_imperfectum_prolatio"}}else{if(s.length===0||s.toLowerCase()==="none"){if(c.havent_set_length===true){c.default_length=0.125}return null}else{var p=e.tokenize(s,0,s.length);try{var o=function(){var u={value:0,num:""};var t=p.shift();if(t.token==="("){t=p.shift()}while(1){if(t.type!=="number"){throw"Expected top number of meter"}u.value+=parseInt(t.token);u.num+=t.token;if(p.length===0||p[0].token==="/"){return u}t=p.shift();if(t.token===")"){if(p.length===0||p[0].token==="/"){return u}throw"Unexpected paren in meter"}if(t.token!=="."&&t.token!=="+"){throw"Expected top number of meter"}u.num+=t.token;if(p.length===0){throw"Expected top number of meter"}t=p.shift()}return u};var j=function(){var u=o();if(p.length===0){return u}var t=p.shift();if(t.token!=="/"){throw"Expected slash in meter"}t=p.shift();if(t.type!=="number"){throw"Expected bottom number of meter"}u.den=t.token;u.value=u.value/parseInt(u.den);return u};if(p.length===0){throw"Expected meter definition in M: line"}var k={type:"specified",value:[]};var q=0;while(1){var m=j();q+=m.value;var r={num:m.num};if(m.den!==undefined){r.den=m.den}k.value.push(r);if(p.length===0){break}}if(c.havent_set_length===true){c.default_length=q<0.75?0.0625:0.125}return k}catch(l){h(l,s,0)}}}}}}}}return null};this.calcTempo=function(j){var l=1/4;if(c.meter&&c.meter.type==="specified"){l=1/parseInt(c.meter.value[0].den)}else{if(c.origMeter&&c.origMeter.type==="specified"){l=1/parseInt(c.origMeter.value[0].den)}}for(var k=0;k<j.duration;k++){j.duration[k]=l*j.duration[k]}return j};this.resolveTempo=function(){if(c.tempo){this.calcTempo(c.tempo);g.metaText.tempo=c.tempo;delete c.tempo}};this.addUserDefinition=function(k,q,j){var l=k.indexOf("=",q);if(l===-1){h("Need an = in a macro definition",k,q);return}var o=window.ABCXJS.parse.strip(k.substring(q,l));var p=window.ABCXJS.parse.strip(k.substring(l+1));if(o.length!==1){h("Macro definitions can only be one character",k,q);return}var m="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(m.indexOf(o)===-1){h("Macro definitions must be H-Y, h-w, or tilde",k,q);return}if(p.length===0){h("Missing macro definition",k,q);return}if(c.macros===undefined){c.macros={}}c.macros[o]=p};this.setDefaultLength=function(l,q,k){var j=window.ABCXJS.parse.gsub(l.substring(q,k)," ","");var p=j.split("/");if(p.length===2){var o=parseInt(p[0]);var m=parseInt(p[1]);if(m>0){c.default_length=o/m;c.havent_set_length=false}}};this.setTempo=function(t,j,m){try{var q=e.tokenize(t,j,m);if(q.length===0){throw"Missing parameter in Q: field"}var o={};var s=true;var l=q.shift();if(l.type==="quote"){o.preString=l.token;l=q.shift();if(q.length===0){return{type:"immediate",tempo:o}}}if(l.type==="alpha"&&l.token==="C"){if(q.length===0){throw"Missing tempo after C in Q: field"}l=q.shift();if(l.type==="punct"&&l.token==="="){if(q.length===0){throw"Missing tempo after = in Q: field"}l=q.shift();if(l.type!=="number"){throw"Expected number after = in Q: field"}o.duration=[1];o.bpm=parseInt(l.token)}else{if(l.type==="number"){o.duration=[parseInt(l.token)];if(q.length===0){throw"Missing = after duration in Q: field"}l=q.shift();
if(l.type!=="punct"||l.token!=="="){throw"Expected = after duration in Q: field"}if(q.length===0){throw"Missing tempo after = in Q: field"}l=q.shift();if(l.type!=="number"){throw"Expected number after = in Q: field"}o.bpm=parseInt(l.token)}else{throw"Expected number or equal after C in Q: field"}}}else{if(l.type==="number"){var p=parseInt(l.token);if(q.length===0||q[0].type==="quote"){o.duration=[1];o.bpm=p}else{s=false;l=q.shift();if(l.type!=="punct"&&l.token!=="/"){throw"Expected fraction in Q: field"}l=q.shift();if(l.type!=="number"){throw"Expected fraction in Q: field"}var r=parseInt(l.token);o.duration=[p/r];while(q.length>0&&q[0].token!=="="&&q[0].type!=="quote"){l=q.shift();if(l.type!=="number"){throw"Expected fraction in Q: field"}p=parseInt(l.token);l=q.shift();if(l.type!=="punct"&&l.token!=="/"){throw"Expected fraction in Q: field"}l=q.shift();if(l.type!=="number"){throw"Expected fraction in Q: field"}r=parseInt(l.token);o.duration.push(p/r)}l=q.shift();if(l.type!=="punct"&&l.token!=="="){throw"Expected = in Q: field"}l=q.shift();if(l.type!=="number"){throw"Expected tempo in Q: field"}o.bpm=parseInt(l.token)}}else{throw"Unknown value in Q: field"}}if(q.length!==0){l=q.shift();if(l.type==="quote"){o.postString=l.token;l=q.shift()}if(q.length!==0){throw"Unexpected string at end of Q: field"}}if(c.printTempo===false){o.suppress=true}return{type:s?"delaySet":"immediate",tempo:o}}catch(k){h(k,t,j);return{type:"none"}}};this.letter_to_inline_header=function(l,o){var k=e.eatWhiteSpace(l,o);o+=k;if(l.length>=o+5&&l.charAt(o)==="["&&l.charAt(o+2)===":"){var r=l.indexOf("]",o);switch(l.substring(o,o+3)){case"[I:":var p=window.ABCXJS.parse.parseDirective.addDirective(l.substring(o+3,r));if(p){h(p,l,o)}return[r-o+1+k];case"[M:":var q=this.setMeter(l.substring(o+3,r));if(g.hasBeginMusic()&&q){g.appendStartingElement("meter",c.currTexLineNum,-1,-1,q)}else{c.meter=q}return[r-o+1+k];case"[K:":var j=window.ABCXJS.parse.parseKeyVoice.parseKey(l.substring(o+3,r));if(j.foundClef&&g.hasBeginMusic()){g.appendStartingElement("clef",c.currTexLineNum,-1,-1,c.clef)}if(j.foundKey&&g.hasBeginMusic()){g.appendStartingElement("key",c.currTexLineNum,-1,-1,window.ABCXJS.parse.parseKeyVoice.fixKey(c.clef,c.key))}return[r-o+1+k];case"[P:":g.appendElement("part",c.currTexLineNum,-1,-1,{title:l.substring(o+3,r)});return[r-o+1+k];case"[L:":this.setDefaultLength(l,o+3,r);return[r-o+1+k];case"[Q:":if(r>0){var m=this.setTempo(l,o+3,r);if(m.type==="delaySet"){g.appendElement("tempo",c.currTexLineNum,-1,-1,this.calcTempo(m.tempo))}else{if(m.type==="immediate"){g.appendElement("tempo",c.currTexLineNum,-1,-1,m.tempo)}}return[r-o+1+k,l.charAt(o+1),l.substring(o+3,r)]}break;case"[V:":if(r>0){window.ABCXJS.parse.parseKeyVoice.parseVoice(l,o+3,r);return[r-o+1+k,l.charAt(o+1),l.substring(o+3,r)]}break;default:}}return[0]};this.letter_to_body_header=function(k,m){if(k.length>=m+3){switch(k.substring(m,m+2)){case"I:":var o=window.ABCXJS.parse.parseDirective.addDirective(k.substring(m+2));if(o){h(o,k,m)}return[k.length];case"M:":var p=this.setMeter(k.substring(m+2));if(g.hasBeginMusic()&&p){g.appendStartingElement("meter",c.currTexLineNum,-1,-1,p)}return[k.length];case"K:":var j=window.ABCXJS.parse.parseKeyVoice.parseKey(k.substring(m+2),a);if(j.foundClef&&g.hasBeginMusic()){g.appendStartingElement("clef",c.currTexLineNum,-1,-1,c.clef)}if(j.foundKey&&g.hasBeginMusic()){g.appendStartingElement("key",c.currTexLineNum,-1,-1,window.ABCXJS.parse.parseKeyVoice.fixKey(c.clef,c.key))}return[k.length];case"P:":if(g.hasBeginMusic()){g.appendElement("part",c.currTexLineNum,-1,-1,{title:k.substring(m+2)})}return[k.length];case"L:":this.setDefaultLength(k,m+2,k.length);return[k.length];case"Q:":var q=k.indexOf("\x12",m+2);if(q===-1){q=k.length}var l=this.setTempo(k,m+2,q);if(l.type==="delaySet"){g.appendElement("tempo",c.currTexLineNum,-1,-1,this.calcTempo(l.tempo))}else{if(l.type==="immediate"){g.appendElement("tempo",c.currTexLineNum,-1,-1,l.tempo)}}return[q,k.charAt(m),window.ABCXJS.parse.strip(k.substring(m+2))];case"V:":window.ABCXJS.parse.parseKeyVoice.parseVoice(k,2,k.length);return[k.length,k.charAt(m),window.ABCXJS.parse(k.substring(m+2))];default:}}return[0]};var d={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription",X:"pieceId"};this.parseHeader=function(l,k){if(window.ABCXJS.parse.startsWith(l,"%%")){var p=window.ABCXJS.parse.parseDirective.addDirective(l.substring(2));if(p){h(p,l,2)}return{}}l=e.stripComment(l);if(l.length===0){return{}}if(l.length>=2){if(l.charAt(1)===":"){var o="";if(l.indexOf("\x12")>=0&&l.charAt(0)!=="w"){o=l.substring(l.indexOf("\x12")+1);l=l.substring(0,l.indexOf("\x12"))}var q=d[l.charAt(0)];if(q!==undefined){if(q==="unalignedWords"){g.addMetaTextArray(q,window.ABCXJS.parse.parseDirective.parseFontChangeLine(e.translateString(e.stripComment(l.substring(2)))))}else{g.addMetaText(q,e.translateString(e.stripComment(l.substring(2))))}return{}}else{switch(l.charAt(0)){case"H":g.addMetaText("history",e.translateString(e.stripComment(l.substring(2))));c.is_in_history=true;break;case"K":this.resolveTempo();var j=window.ABCXJS.parse.parseKeyVoice.parseKey(l.substring(2),a,l,k);if(!c.is_in_header&&g.hasBeginMusic()){if(j.foundClef){g.appendStartingElement("clef",c.currTexLineNum,-1,-1,c.clef)}if(j.foundKey){g.appendStartingElement("key",c.currTexLineNum,-1,-1,window.ABCXJS.parse.parseKeyVoice.fixKey(c.clef,c.key))}}c.is_in_header=false;break;case"L":this.setDefaultLength(l,2,l.length);break;case"M":c.origMeter=c.meter=this.setMeter(l.substring(2));break;case"P":if(c.is_in_header){g.addMetaText("partOrder",e.translateString(e.stripComment(l.substring(2))))}else{c.partForNextLine=e.translateString(e.stripComment(l.substring(2)))}break;case"Q":var m=this.setTempo(l,2,l.length);if(m.type==="delaySet"){c.tempo=m.tempo}else{if(m.type==="immediate"){g.metaText.tempo=m.tempo}}break;case"T":this.setTitle(l.substring(2));break;case"U":this.addUserDefinition(l,2,l.length);break;case"V":window.ABCXJS.parse.parseKeyVoice.parseVoice(l,2,l.length);if(!c.is_in_header){return{newline:true}}break;case"s":return{symbols:true};case"f":return{fingering:true};case"w":return{words:true};case"E":case"m":h("Ignored header",l,0);break;default:if(o.length){o="\x12"+o}return{regular:true,str:l+o}}}if(o.length>0){return{recurse:true,str:o}}return{}}}return{regular:true,str:l}}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.parseKeyVoice={};(function(){var l;var h;var c;var g;window.ABCXJS.parse.parseKeyVoice.initialize=function(r,p,q,o){l=r;h=p;c=q;g=o};window.ABCXJS.parse.parseKeyVoice.standardKey=function(B){var r={acc:"sharp",note:"f"};var w={acc:"sharp",note:"c"};var A={acc:"sharp",note:"g"};var p={acc:"sharp",note:"d"};var u={acc:"sharp",note:"A"};var z={acc:"sharp",note:"e"};var D={acc:"sharp",note:"B"};var y={acc:"flat",note:"B"};var x={acc:"flat",note:"e"};
var v={acc:"flat",note:"A"};var t={acc:"flat",note:"d"};var s={acc:"flat",note:"G"};var q={acc:"flat",note:"c"};var o={acc:"flat",note:"F"};var C={"C#":[r,w,A,p,u,z,D],"A#m":[r,w,A,p,u,z,D],"G#Mix":[r,w,A,p,u,z,D],"D#Dor":[r,w,A,p,u,z,D],"E#Phr":[r,w,A,p,u,z,D],"F#Lyd":[r,w,A,p,u,z,D],"B#Loc":[r,w,A,p,u,z,D],"F#":[r,w,A,p,u,z],"D#m":[r,w,A,p,u,z],"C#Mix":[r,w,A,p,u,z],"G#Dor":[r,w,A,p,u,z],"A#Phr":[r,w,A,p,u,z],BLyd:[r,w,A,p,u,z],"E#Loc":[r,w,A,p,u,z],B:[r,w,A,p,u],"G#m":[r,w,A,p,u],"F#Mix":[r,w,A,p,u],"C#Dor":[r,w,A,p,u],"D#Phr":[r,w,A,p,u],ELyd:[r,w,A,p,u],"A#Loc":[r,w,A,p,u],E:[r,w,A,p],"C#m":[r,w,A,p],BMix:[r,w,A,p],"F#Dor":[r,w,A,p],"G#Phr":[r,w,A,p],ALyd:[r,w,A,p],"D#Loc":[r,w,A,p],A:[r,w,A],"F#m":[r,w,A],EMix:[r,w,A],BDor:[r,w,A],"C#Phr":[r,w,A],DLyd:[r,w,A],"G#Loc":[r,w,A],D:[r,w],Bm:[r,w],AMix:[r,w],EDor:[r,w],"F#Phr":[r,w],GLyd:[r,w],"C#Loc":[r,w],G:[r],Em:[r],DMix:[r],ADor:[r],BPhr:[r],CLyd:[r],"F#Loc":[r],C:[],Am:[],GMix:[],DDor:[],EPhr:[],FLyd:[],BLoc:[],F:[y],Dm:[y],CMix:[y],GDor:[y],APhr:[y],BbLyd:[y],ELoc:[y],Bb:[y,x],Gm:[y,x],FMix:[y,x],CDor:[y,x],DPhr:[y,x],EbLyd:[y,x],ALoc:[y,x],Eb:[y,x,v],Cm:[y,x,v],BbMix:[y,x,v],FDor:[y,x,v],GPhr:[y,x,v],AbLyd:[y,x,v],DLoc:[y,x,v],Ab:[y,x,v,t],Fm:[y,x,v,t],EbMix:[y,x,v,t],BbDor:[y,x,v,t],CPhr:[y,x,v,t],DbLyd:[y,x,v,t],GLoc:[y,x,v,t],Db:[y,x,v,t,s],Bbm:[y,x,v,t,s],AbMix:[y,x,v,t,s],EbDor:[y,x,v,t,s],FPhr:[y,x,v,t,s],GbLyd:[y,x,v,t,s],CLoc:[y,x,v,t,s],Gb:[y,x,v,t,s,q],Ebm:[y,x,v,t,s,q],DbMix:[y,x,v,t,s,q],AbDor:[y,x,v,t,s,q],BbPhr:[y,x,v,t,s,q],CbLyd:[y,x,v,t,s,q],FLoc:[y,x,v,t,s,q],Cb:[y,x,v,t,s,q,o],Abm:[y,x,v,t,s,q,o],GbMix:[y,x,v,t,s,q,o],DbDor:[y,x,v,t,s,q,o],EbPhr:[y,x,v,t,s,q,o],FbLyd:[y,x,v,t,s,q,o],BbLoc:[y,x,v,t,s,q,o],"A#":[y,x],"B#":[],"D#":[y,x,v],"E#":[y],"G#":[y,x,v,t],Gbm:[r,w,A,p,u,z,D]};return C[B]};var d={accordionTab:{clef:"accordionTab",pitch:7.5,mid:0},treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6}};var m=function(r,o){var q=d[r];var p=q?q.mid:0;return p+o};window.ABCXJS.parse.parseKeyVoice.fixClef=function(p){var o=d[p.type];if(o){p.clefPos=o.pitch;p.type=o.clef}};window.ABCXJS.parse.parseKeyVoice.deepCopyKey=function(p){var o={accidentals:[],root:p.root,acc:p.acc,mode:p.mode};window.ABCXJS.parse.each(p.accidentals,function(q){o.accidentals.push(window.ABCXJS.parse.clone(q))});return o};var e={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};window.ABCXJS.parse.parseKeyVoice.addPosToKey=function(q,p){var o=q.verticalPos;window.ABCXJS.parse.each(p.accidentals,function(r){var s=e[r.note];s=s-o;r.verticalPos=s});if(p.impliedNaturals){window.ABCXJS.parse.each(p.impliedNaturals,function(r){var s=e[r.note];s=s-o;r.verticalPos=s})}if(o<-10){window.ABCXJS.parse.each(p.accidentals,function(r){r.verticalPos-=7;if(r.verticalPos>=11||(r.verticalPos===10&&r.acc==="flat")){r.verticalPos-=7}if(r.note==="A"&&r.acc==="sharp"){r.verticalPos-=7}if((r.note==="G"||r.note==="F")&&r.acc==="flat"){r.verticalPos-=7}});if(p.impliedNaturals){window.ABCXJS.parse.each(p.impliedNaturals,function(r){r.verticalPos-=7;if(r.verticalPos>=11||(r.verticalPos===10&&r.acc==="flat")){r.verticalPos-=7}if(r.note==="A"&&r.acc==="sharp"){r.verticalPos-=7}if((r.note==="G"||r.note==="F")&&r.acc==="flat"){r.verticalPos-=7}})}}else{if(o<-4){window.ABCXJS.parse.each(p.accidentals,function(r){r.verticalPos-=7;if(o===-8&&(r.note==="f"||r.note==="g")&&r.acc==="sharp"){r.verticalPos-=7}});if(p.impliedNaturals){window.ABCXJS.parse.each(p.impliedNaturals,function(r){r.verticalPos-=7;if(o===-8&&(r.note==="f"||r.note==="g")&&r.acc==="sharp"){r.verticalPos-=7}})}}else{if(o>=7){window.ABCXJS.parse.each(p.accidentals,function(r){r.verticalPos+=7});if(p.impliedNaturals){window.ABCXJS.parse.each(p.impliedNaturals,function(r){r.verticalPos+=7})}}}}};window.ABCXJS.parse.parseKeyVoice.fixKey=function(q,o){var p=window.ABCXJS.parse.clone(o);window.ABCXJS.parse.parseKeyVoice.addPosToKey(q,p);return p};var a=function(q){var o=e[q.charAt(0)];for(var p=1;p<q.length;p++){if(q.charAt(p)===","){o-=7}else{if(q.charAt(p)===","){o+=7}else{break}}}return{mid:o-6,str:q.substring(p)}};var k=function(o){for(var p=0;p<o.length;p++){if(o[p].note==="b"){o[p].note="B"}else{if(o[p].note==="a"){o[p].note="A"}else{if(o[p].note==="F"){o[p].note="f"}else{if(o[p].note==="E"){o[p].note="e"}else{if(o[p].note==="D"){o[p].note="d"}else{if(o[p].note==="C"){o[p].note="c"}else{if(o[p].note==="G"&&o[p].acc==="sharp"){o[p].note="g"}else{if(o[p].note==="g"&&o[p].acc==="flat"){o[p].note="G"}}}}}}}}}};window.ABCXJS.parse.parseKeyVoice.parseKey=function(D,v,x,C){if(D.length===0){D="none"}var B=l.tokenize(D,0,D.length);var J={};switch(B[0].token){case"HP":window.ABCXJS.parse.parseDirective.addDirective("bagpipes");c.key={root:"HP",accidentals:[],acc:"",mode:""};J.foundKey=true;B.shift();break;case"Hp":window.ABCXJS.parse.parseDirective.addDirective("bagpipes");c.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""};J.foundKey=true;B.shift();break;case"none":c.key={root:"none",accidentals:[],acc:"",mode:""};J.foundKey=true;B.shift();break;default:if(v){B=v.transposeKey(D,x,C)}var t=l.getKeyPitch(B[0].token);if(t.len>0){J.foundKey=true;var q="";var A="";if(B[0].token.length>1){B[0].token=B[0].token.substring(1)}else{B.shift()}var K=t.token;if(B.length>0){var o=l.getSharpFlat(B[0].token);if(o.len>0){if(B[0].token.length>1){B[0].token=B[0].token.substring(1)}else{B.shift()}K+=o.token;q=o.token}if(B.length>0){var I=l.getMode(B[0].token);if(I.len>0){B.shift();K+=I.token;A=I.token}}}var w=window.ABCXJS.parse.parseKeyVoice.deepCopyKey(c.key);c.key=window.ABCXJS.parse.parseKeyVoice.deepCopyKey({accidentals:window.ABCXJS.parse.parseKeyVoice.standardKey(K)});c.key.root=t.token;c.key.acc=q;c.key.mode=A;if(w){var p;for(var F=0;F<c.key.accidentals.length;
F++){for(p=0;p<w.accidentals.length;p++){if(w.accidentals[p].note&&c.key.accidentals[F].note.toLowerCase()===w.accidentals[p].note.toLowerCase()){w.accidentals[p].note=null}}}for(p=0;p<w.accidentals.length;p++){if(w.accidentals[p].note){if(!c.key.impliedNaturals){c.key.impliedNaturals=[]}c.key.impliedNaturals.push({acc:"natural",note:w.accidentals[p].note})}}}}break}if(B.length===0){return J}if(B[0].token==="exp"){B.shift()}if(B.length===0){return J}if(B[0].token==="oct"){B.shift()}if(B.length===0){return J}var y=l.getKeyAccidentals2(B);if(y.warn){h(y.warn,D,0)}if(y.accs){if(!J.foundKey){J.foundKey=true;c.key={root:"none",acc:"",mode:"",accidentals:[]}}k(y.accs);for(var H=0;H<y.accs.length;H++){var z=false;for(var G=0;G<c.key.accidentals.length&&!z;G++){if(c.key.accidentals[G].note===y.accs[H].note){z=true;c.key.accidentals[G].acc=y.accs[H].acc}}if(!z){c.key.accidentals.push(y.accs[H]);if(c.key.impliedNaturals){for(var s=0;s<c.key.impliedNaturals.length;s++){if(c.key.impliedNaturals[s].note===y.accs[H].note){c.key.impliedNaturals.splice(s,1)}}}}}}var r;while(B.length>0){switch(B[0].token){case"m":case"middle":B.shift();if(B.length===0){h("Expected = after middle",D,0);return J}r=B.shift();if(r.token!=="="){h("Expected = after middle",D,r.start);break}if(B.length===0){h("Expected parameter after middle=",D,0);return J}var u=l.getPitchFromTokens(B);if(u.warn){h(u.warn,D,0)}if(u.position){c.clef.verticalPos=u.position-6}break;case"transpose":B.shift();if(B.length===0){h("Expected = after transpose",D,0);return J}r=B.shift();if(r.token!=="="){h("Expected = after transpose",D,r.start);break}if(B.length===0){h("Expected parameter after transpose=",D,0);return J}if(B[0].type!=="number"){h("Expected number after transpose",D,B[0].start);break}c.clef.transpose=B[0].intt;B.shift();break;case"stafflines":B.shift();if(B.length===0){h("Expected = after stafflines",D,0);return J}r=B.shift();if(r.token!=="="){h("Expected = after stafflines",D,r.start);break}if(B.length===0){h("Expected parameter after stafflines=",D,0);return J}if(B[0].type!=="number"){h("Expected number after stafflines",D,B[0].start);break}c.clef.stafflines=B[0].intt;B.shift();break;case"staffscale":B.shift();if(B.length===0){h("Expected = after staffscale",D,0);return J}r=B.shift();if(r.token!=="="){h("Expected = after staffscale",D,r.start);break}if(B.length===0){h("Expected parameter after staffscale=",D,0);return J}if(B[0].type!=="number"){h("Expected number after staffscale",D,B[0].start);break}c.clef.staffscale=B[0].floatt;B.shift();break;case"style":B.shift();if(B.length===0){h("Expected = after style",D,0);return J}r=B.shift();if(r.token!=="="){h("Expected = after style",D,r.start);break}if(B.length===0){h("Expected parameter after style=",D,0);return J}switch(B[0].token){case"normal":case"harmonic":case"rhythm":case"x":c.style=B[0].token;B.shift();break;default:h("error parsing style element: "+B[0].token,D,B[0].start);break}break;case"clef":B.shift();if(B.length===0){h("Expected = after clef",D,0);return J}r=B.shift();if(r.token!=="="){h("Expected = after clef",D,r.start);break}if(B.length===0){h("Expected parameter after clef=",D,0);return J}case"treble":case"accordionTab":case"bass":case"alto":case"tenor":case"perc":var E=B.shift();switch(E.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"accordionTab":E.token="accordionTab";break;case"C":E.token="alto";break;case"F":E.token="bass";break;case"G":E.token="treble";break;case"c":E.token="alto";break;case"f":E.token="bass";break;case"g":E.token="treble";break;default:h("Expected clef name. Found "+E.token,D,E.start);break}if(B.length>0&&B[0].type==="number"){E.token+=B[0].token;B.shift()}if(B.length>1&&(B[0].token==="-"||B[0].token==="+")&&B[1].token==="8"){E.token+=B[0].token+B[1].token;B.shift();B.shift()}c.clef={type:E.token,verticalPos:m(E.token,0)};J.foundClef=true;break;default:h("Unknown parameter: "+B[0].token,D,B[0].start);B.shift()}}return J};var j=function(o){c.currentVoice=c.voices[o];g.setCurrentVoice(c.currentVoice.staffNum,c.currentVoice.index)};window.ABCXJS.parse.parseKeyVoice.parseVoice=function(r,B,C){var G=l.getMeat(r,B,C);var p=G.start;var o=G.end;var x=l.getToken(r,p,o);if(x.length===0){h("Expected a voice id",r,p);return}var E=false;if(c.voices[x]===undefined){c.voices[x]={currBarNumber:1};E=true;if(c.score_is_present&&x.toLowerCase().substr(0,3)!=="tab"){h("Can't have an unknown V: id when the %score directive is present",r,p)}}p+=x.length;p+=l.eatWhiteSpace(r,p);var u={startStaff:E};var H=function(v){var s=l.getVoiceToken(r,p,o);if(s.warn!==undefined){h("Expected value for "+v+" in voice: "+s.warn,r,p)}else{if(s.token.length===0&&r.charAt(p)!=='"'){h("Expected value for "+v+" in voice",r,p)}else{u[v]=s.token}}p+=s.len};var D=function(J,v,I){var s=l.getVoiceToken(r,p,o);if(s.warn!==undefined){h("Expected value for "+v+" in voice: "+s.warn,r,p)}else{if(s.token.length===0&&r.charAt(p)!=='"'){h("Expected value for "+v+" in voice",r,p)}else{if(I==="number"){s.token=parseFloat(s.token)}c.voices[J][v]=s.token}}p+=s.len};while(p<o){var q=l.getVoiceToken(r,p,o);p+=q.len;if(q.warn){h("Error parsing voice: "+q.warn,r,p)}else{var z=null;switch(q.token){case"clef":case"cl":H("clef");var y=0;if(u.clef!==undefined){u.clef=u.clef.replace(/[',]/g,"");if(u.clef.indexOf("+16")!==-1){y+=14;u.clef=u.clef.replace("+16","")}u.verticalPos=m(u.clef,y);c.clef={type:u.clef,verticalPos:u.verticalPos};c.voices[x].clef={type:u.clef,verticalPos:u.verticalPos}}break;case"accordionTab":case"treble":case"bass":case"tenor":case"alto":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var A=0;u.clef=q.token.replace(/[',]/g,"");u.verticalPos=m(u.clef,A);c.clef={type:u.clef,verticalPos:u.verticalPos};c.voices[x].clef=c.clef;break;case"staves":case"stave":case"stv":H("staves");break;case"brace":case"brc":H("brace");break;case"bracket":case"brk":H("bracket");break;case"name":case"nm":H("name");break;case"subname":case"sname":case"snm":H("subname");break;case"merge":u.startStaff=false;break;case"stem":case"stems":z=l.getVoiceToken(r,p,o);if(z.warn!==undefined){h("Expected value for stems in voice: "+z.warn,r,p)}else{if(z.token==="up"||z.token==="down"){c.voices[x].stem=z.token}else{h("Expected up or down for voice stem",r,p)}}p+=z.len;break;case"up":case"down":c.voices[x].stem=q.token;break;case"middle":case"m":H("verticalPos");u.verticalPos=a(u.verticalPos).mid;break;case"gchords":case"gch":c.voices[x].suppressChords=true;break;case"space":case"spc":H("spacing");break;case"scale":D(x,"scale","number");break;case"transpose":D(x,"transpose","number");break;default:h("Error parsing voice. Unknown token: "+q.token,r,p)}}p+=l.eatWhiteSpace(r,p)}if(u.startStaff||c.staves.length===0){c.staves.push({index:c.staves.length,meter:c.origMeter,inEnding:[false],inTie:[false],inTieChord:[{}]});
if(!c.score_is_present){c.staves[c.staves.length-1].numVoices=0}}if(c.voices[x].staffNum===undefined){c.voices[x].staffNum=c.staves.length-1;var F=0;for(var t in c.voices){if(c.voices.hasOwnProperty(t)){if(c.voices[t].staffNum===c.voices[x].staffNum){F++}}}c.voices[x].index=F-1}var w=c.staves[c.voices[x].staffNum];if(!c.score_is_present){w.numVoices++}if(u.clef){w.clef={type:u.clef,verticalPos:u.verticalPos}}if(u.spacing){w.spacing_below_offset=u.spacing}if(u.verticalPos){w.verticalPos=u.verticalPos}if(u.name){if(w.name){w.name.push(u.name)}else{w.name=[u.name]}}if(u.subname){if(w.subname){w.subname.push(u.subname)}else{w.subname=[u.subname]}}j(x)}})();if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.tokenizer=function(){this.skipWhiteSpace=function(l){for(var k=0;k<l.length;k++){if(!this.isWhiteSpace(l.charAt(k))){return k}}return l.length};var j=function(l,k){return k>=l.length};this.eatWhiteSpace=function(k,l){for(var m=l;m<k.length;m++){if(!this.isWhiteSpace(k.charAt(m))){return m-l}}return m-l};this.getKeyPitch=function(l){var k=this.skipWhiteSpace(l);if(j(l,k)){return{len:0}}switch(l.charAt(k)){case"A":return{len:k+1,token:"A"};case"B":return{len:k+1,token:"B"};case"C":return{len:k+1,token:"C"};case"D":return{len:k+1,token:"D"};case"E":return{len:k+1,token:"E"};case"F":return{len:k+1,token:"F"};case"G":return{len:k+1,token:"G"}}return{len:0}};this.getSharpFlat=function(k){if(k==="bass"){return{len:0}}switch(k.charAt(0)){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}};this.getMode=function(o){var m=function(p,q){while(q<p.length&&((p.charAt(q)>="a"&&p.charAt(q)<="z")||(p.charAt(q)>="A"&&p.charAt(q)<="Z"))){q++}return q};var l=this.skipWhiteSpace(o);if(j(o,l)){return{len:0}}var k=o.substring(l,l+3).toLowerCase();if(k.length>1&&k.charAt(1)===" "||k.charAt(1)==="^"||k.charAt(1)==="_"||k.charAt(1)==="="){k=k.charAt(0)}switch(k){case"mix":return{len:m(o,l),token:"Mix"};case"dor":return{len:m(o,l),token:"Dor"};case"phr":return{len:m(o,l),token:"Phr"};case"lyd":return{len:m(o,l),token:"Lyd"};case"loc":return{len:m(o,l),token:"Loc"};case"aeo":return{len:m(o,l),token:"m"};case"maj":return{len:m(o,l),token:""};case"ion":return{len:m(o,l),token:""};case"min":return{len:m(o,l),token:"m"};case"m":return{len:m(o,l),token:"m"}}return{len:0}};this.getClef=function(q,p){var k=q;var o=this.skipWhiteSpace(q);if(j(q,o)){return{len:0}}var s=false;var r=q.substring(o);if(window.ABCXJS.parse.startsWith(r,"clef=")){s=true;r=r.substring(5);o+=5}if(r.length===0&&s){return{len:o+5,warn:"No clef specified: "+k}}var m=this.skipWhiteSpace(r);if(j(r,m)){return{len:0}}if(m>0){o+=m;r=r.substring(m)}var l=null;if(window.ABCXJS.parse.startsWith(r,"treble")){l="treble"}else{if(window.ABCXJS.parse.startsWith(r,"bass3")){l="bass3"}else{if(window.ABCXJS.parse.startsWith(r,"bass")){l="bass"}else{if(window.ABCXJS.parse.startsWith(r,"tenor")){l="tenor"}else{if(window.ABCXJS.parse.startsWith(r,"alto2")){l="alto2"}else{if(window.ABCXJS.parse.startsWith(r,"alto1")){l="alto1"}else{if(window.ABCXJS.parse.startsWith(r,"alto")){l="alto"}else{if(!p&&(s&&window.ABCXJS.parse.startsWith(r,"none"))){l="none"}else{if(window.ABCXJS.parse.startsWith(r,"perc")){l="perc"}else{if(!p&&(s&&window.ABCXJS.parse.startsWith(r,"C"))){l="tenor"}else{if(!p&&(s&&window.ABCXJS.parse.startsWith(r,"F"))){l="bass"}else{if(!p&&(s&&window.ABCXJS.parse.startsWith(r,"G"))){l="treble"}else{return{len:o+5,warn:"Unknown clef specified: "+k}}}}}}}}}}}}}r=r.substring(l.length);m=this.isMatch(r,"+8");if(m>0){l+="+8"}else{m=this.isMatch(r,"-8");if(m>0){l+="-8"}}return{len:o+l.length,token:l,explicit:s}};this.getBarLine=function(k,l){var m=ABCXJS.parse.getBarLine(k,l);if(!m.repeat){m.repeat=1}return m};this.getTokenOf=function(m,l){for(var k=0;k<m.length;k++){if(l.indexOf(m.charAt(k))<0){return{len:k,token:m.substring(0,k)}}}return{len:k,token:m}};this.getToken=function(m,o,k){var l=o;while(l<k&&!this.isWhiteSpace(m.charAt(l))){l++}return m.substring(o,l)};this.isMatch=function(m,k){var l=this.skipWhiteSpace(m);if(j(m,l)){return 0}if(window.ABCXJS.parse.startsWith(m.substring(l),k)){return l+k.length}return 0};this.getPitchFromTokens=function(m){var k={};var l=ABCXJS.parse.pitches;k.position=l[m[0].token];if(k.position===undefined){return{warn:"Pitch expected. Found: "+m[0].token}}m.shift();while(m.length){switch(m[0].token){case",":k.position-=7;m.shift();break;case"'":k.position+=7;m.shift();break;default:return k}}return k};this.getKeyAccidentals2=function(m){var k;while(m.length>0){var l;if(m[0].token==="^"){l="sharp";m.shift();if(m.length===0){return{accs:k,warn:"Expected note name after "+l}}switch(m[0].token){case"^":l="dblsharp";m.shift();break;case"/":l="quartersharp";m.shift();break}}else{if(m[0].token==="="){l="natural";m.shift()}else{if(m[0].token==="_"){l="flat";m.shift();if(m.length===0){return{accs:k,warn:"Expected note name after "+l}}switch(m[0].token){case"_":l="dblflat";m.shift();break;case"/":l="quarterflat";m.shift();break}}else{return{accs:k}}}}if(m.length===0){return{accs:k,warn:"Expected note name after "+l}}switch(m[0].token.charAt(0)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":if(k===undefined){k=[]}k.push({acc:l,note:m[0].token.charAt(0)});if(m[0].token.length===1){m.shift()}else{m[0].token=m[0].token.substring(1)}break;default:return{accs:k,warn:"Expected note name after "+l+" Found: "+m[0].token}}}return{accs:k}};this.getKeyAccidental=function(o){var m={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"};var k=this.skipWhiteSpace(o);if(j(o,k)){return{len:0}}var l=null;switch(o.charAt(k)){case"^":case"_":case"=":l=o.charAt(k);break;default:return{len:0}}k++;if(j(o,k)){return{len:1,warn:"Expected note name after accidental"}}switch(o.charAt(k)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:k+1,token:{acc:m[l],note:o.charAt(k)}};case"^":case"_":case"/":l+=o.charAt(k);k++;if(j(o,k)){return{len:2,warn:"Expected note name after accidental"}}switch(o.charAt(k)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:k+1,token:{acc:m[l],note:o.charAt(k)}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}};this.isWhiteSpace=function(k){return k===" "||k==="\t"||k==="\x12"};this.getMeat=function(l,o,k){var m=l.indexOf("%",o);if(m>=0&&m<k){k=m}while(o<k&&(l.charAt(o)===" "||l.charAt(o)==="\t"||l.charAt(o)==="\x12")){o++}while(o<k&&(l.charAt(k-1)===" "||l.charAt(k-1)==="\t"||l.charAt(k-1)==="\x12")){k--}return{start:o,end:k}};var e=function(k){return(k>="A"&&k<="Z")||(k>="a"&&k<="z")};var d=function(k){return(k>="0"&&k<="9")};this.tokenize=function(u,l,m){var q=this.getMeat(u,l,m);l=q.start;m=q.end;var s=[];
var o;while(l<m){if(u.charAt(l)==='"'){o=l+1;while(o<m&&u.charAt(o)!=='"'){o++}s.push({type:"quote",token:u.substring(l+1,o),start:l+1,end:o});o++}else{if(e(u.charAt(l))){o=l+1;while(o<m&&e(u.charAt(o))){o++}s.push({type:"alpha",token:u.substring(l,o),continueId:d(u.charAt(o)),start:l,end:o});l=o+1}else{if(u.charAt(l)==="."&&d(u.charAt(o+1))){o=l+1;var t=null;var p=null;while(o<m&&d(u.charAt(o))){o++}p=parseFloat(u.substring(l,o));s.push({type:"number",token:u.substring(l,o),intt:t,floatt:p,continueId:e(u.charAt(o)),start:l,end:o});l=o+1}else{if(d(u.charAt(l))||(u.charAt(l)==="-"&&d(u.charAt(o+1)))){o=l+1;var k=null;var r=null;while(o<m&&d(u.charAt(o))){o++}if(u.charAt(o)==="."&&d(u.charAt(o+1))){o++;while(o<m&&d(u.charAt(o))){o++}}else{k=parseInt(u.substring(l,o))}r=parseFloat(u.substring(l,o));s.push({type:"number",token:u.substring(l,o),intt:k,floatt:r,continueId:e(u.charAt(o)),start:l,end:o});l=o+1}else{if(u.charAt(l)===" "||u.charAt(l)==="\t"){o=l+1}else{s.push({type:"punct",token:u.charAt(l),start:l,end:l+1});o=l+1}}}}}l=o}return s};this.getVoiceToken=function(l,q,k){var m=q;while(m<k&&this.isWhiteSpace(l.charAt(m))||l.charAt(m)==="="){m++}if(l.charAt(m)==='"'){var p=l.indexOf('"',m+1);if(p===-1||p>=k){return{len:1,err:"Missing close quote"}}return{len:p-q+1,token:this.translateString(l.substring(m+1,p))}}else{var o=m;while(o<k&&!this.isWhiteSpace(l.charAt(o))&&l.charAt(o)!=="="){o++}return{len:o-q+1,token:l.substring(m,o)}}};var h={"`a":"à","'a":"á","^a":"â","~a":"ã",'"a':"ä",oa:"å","=a":"ā",ua:"ă",";a":"ą","`e":"è","'e":"é","^e":"ê",'"e':"ë","=e":"ē",ue:"ĕ",";e":"ę",".e":"ė","`i":"ì","'i":"í","^i":"î",'"i':"ï","=i":"ī",ui:"ĭ",";i":"į","`o":"ò","'o":"ó","^o":"ô","~o":"õ",'"o':"ö","=o":"ō",uo:"ŏ","/o":"ø","`u":"ù","'u":"ú","^u":"û","~u":"ũ",'"u':"ü",ou:"ů","=u":"ū",uu:"ŭ",";u":"ų","`A":"À","'A":"Á","^A":"Â","~A":"Ã",'"A':"Ä",oA:"Å","=A":"Ā",uA:"Ă",";A":"Ą","`E":"È","'E":"É","^E":"Ê",'"E':"Ë","=E":"Ē",uE:"Ĕ",";E":"Ę",".E":"Ė","`I":"Ì","'I":"Í","^I":"Î","~I":"Ĩ",'"I':"Ï","=I":"Ī",uI:"Ĭ",";I":"Į",".I":"İ","`O":"Ò","'O":"Ó","^O":"Ô","~O":"Õ",'"O':"Ö","=O":"Ō",uO:"Ŏ","/O":"Ø","`U":"Ù","'U":"Ú","^U":"Û","~U":"Ũ",'"U':"Ü",oU:"Ů","=U":"Ū",uU:"Ŭ",";U":"Ų",ae:"æ",AE:"Æ",oe:"œ",OE:"Œ",ss:"ß","'c":"ć","^c":"ĉ",uc:"č",cc:"ç",".c":"ċ",cC:"Ç","'C":"Ć","^C":"Ĉ",uC:"Č",".C":"Ċ","~n":"ñ","=s":"š",vs:"š",vz:"ž"};var g={"#":"♯",b:"♭","=":"♮"};var c={"201":"♯","202":"♭","203":"♮","241":"¡","242":"¢","252":"a","262":"2","272":"o","302":"Â","312":"Ê","322":"Ò","332":"Ú","342":"â","352":"ê","362":"ò","372":"ú","243":"£","253":"«","263":"3","273":"»","303":"Ã","313":"Ë","323":"Ó","333":"Û","343":"ã","353":"ë","363":"ó","373":"û","244":"¤","254":"¬","264":"  ́","274":"1⁄4","304":"Ä","314":"Ì","324":"Ô","334":"Ü","344":"ä","354":"ì","364":"ô","374":"ü","245":"¥","255":"-","265":"μ","275":"1⁄2","305":"Å","315":"Í","325":"Õ","335":"Ý","345":"å","355":"í","365":"õ","375":"ý","246":"¦","256":"®","266":"¶","276":"3⁄4","306":"Æ","316":"Î","326":"Ö","336":"Þ","346":"æ","356":"î","366":"ö","376":"þ","247":"§","257":" ̄","267":"·","277":"¿","307":"Ç","317":"Ï","327":"×","337":"ß","347":"ç","357":"ï","367":"÷","377":"ÿ","250":" ̈","260":"°","270":" ̧","300":"À","310":"È","320":"Ð","330":"Ø","340":"à","350":"è","360":"ð","370":"ø","251":"©","261":"±","271":"1","301":"Á","311":"É","321":"Ñ","331":"Ù","341":"á","351":"é","361":"ñ","371":"ù"};this.translateString=function(m){var k=m.split("\\");if(k.length===1){return m}var l=null;window.ABCXJS.parse.each(k,function(o){if(l===null){l=o}else{var p=h[o.substring(0,2)];if(p!==undefined){l+=p+o.substring(2)}else{p=c[o.substring(0,3)];if(p!==undefined){l+=p+o.substring(3)}else{p=g[o.substring(0,1)];if(p!==undefined){l+=p+o.substring(1)}else{l+="\\"+o}}}}});return l};this.getNumber=function(k,m){var l=0;while(m<k.length){switch(k.charAt(m)){case"0":l=l*10;m++;break;case"1":l=l*10+1;m++;break;case"2":l=l*10+2;m++;break;case"3":l=l*10+3;m++;break;case"4":l=l*10+4;m++;break;case"5":l=l*10+5;m++;break;case"6":l=l*10+6;m++;break;case"7":l=l*10+7;m++;break;case"8":l=l*10+8;m++;break;case"9":l=l*10+9;m++;break;default:return{num:l,index:m}}}return{num:l,index:m}};this.getFraction=function(t,o){var m=1;var r=1;if(t.charAt(o)!=="/"&&t.charAt(o)!=="."){var p=this.getNumber(t,o);m=p.num;o=p.index}if(t.charAt(o)==="."){o++;var p=this.getNumber(t,o);var l=p.num;o=p.index;m=parseFloat(m+"."+l)}if(t.charAt(o)==="/"){o++;if(t.charAt(o)==="/"){var k=0.5;while(t.charAt(o++)==="/"){k=k/2}return{value:m*k,index:o-1}}else{var s=o;var q=this.getNumber(t,o);if(q.num===0&&s===o){q.num=2}if(q.num!==0){r=q.num}o=q.index}}return{value:m/r,index:o}};this.theReverser=function(k){if(window.ABCXJS.parse.endsWith(k,", The")){return"The "+k.substring(0,k.length-5)}if(window.ABCXJS.parse.endsWith(k,", A")){return"A "+k.substring(0,k.length-3)}return k};this.stripComment=function(l){var k=l.indexOf("%");if(k>=0){return window.ABCXJS.parse.strip(l.substring(0,k))}return window.ABCXJS.parse.strip(l)};this.getInt=function(o){var k=parseInt(o);if(isNaN(k)){return{digits:0}}var m=""+k;var l=o.indexOf(m);return{value:k,digits:l+m.length}};this.getFloat=function(o){var k=parseFloat(o);if(isNaN(k)){return{digits:0}}var m=""+k;var l=o.indexOf(m);return{value:k,digits:l+m.length}};this.getMeasurement=function(o){if(o.length===0){return{used:0}}var m=1;var l="";if(o[0].token==="-"){o.shift();l="-";m++}else{if(o[0].type!=="number"){return{used:0}}}l+=o.shift().token;if(o.length===0){return{used:1,value:parseInt(l)}}var k=o.shift();if(k.token==="."){m++;if(o.length===0){return{used:m,value:parseInt(l)}}if(o[0].type==="number"){k=o.shift();l=l+"."+k.token;m++;if(o.length===0){return{used:m,value:parseFloat(l)}}}k=o.shift()}switch(k.token){case"pt":return{used:m+1,value:parseFloat(l)};case"cm":return{used:m+1,value:parseFloat(l)/2.54*72};case"in":return{used:m+1,value:parseFloat(l)*72};default:o.unshift(k);return{used:m,value:parseFloat(l)}}return{used:0}};var a=function(k){while(k.indexOf("\\n")!==-1){k=k.replace("\\n","\n")}return k};this.getBrackettedSubstring=function(k,l,r,p){var o=p||k.charAt(l);var m=k.substr(l+1).indexOf(o);if(m===-1){if(k.charAt(l+1)===" "){return[1,"",false,0]}else{var m=k.substr(l+1).indexOf(" ");if(m===-1){m=l+r>k.length-1?k.length-1:l+r;return[m-l+1,a(k.substring(l+1,m)),false]}}}var q=k.substr(l+1,m).split(":");return[m+2,q[0],true,q[1]===undefined?0:q[1]]}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.Transposer=function(a){this.pitches=ABCXJS.parse.pitches;this.tokenizer=new ABCXJS.parse.tokenizer();this.reset(a)};window.ABCXJS.parse.Transposer.prototype.reset=function(a){this.offSet=a;this.currKey=[];this.newKeyAcc=[];this.oldKeyAcc=[];this.changedLines=[];this.deletedLines=[];this.newX=0;this.workingX=0;this.workingLine=-1;this.workingLineIdx=-1};window.ABCXJS.parse.Transposer.prototype.numberToStaff=function(g,d){var e;if(d.length>0&&d[0].acc==="flat"){e=ABCXJS.parse.number2staff[g]}else{e=ABCXJS.parse.number2staffSharp[g]
}e.octVar=0;if(e.acc===""&&("EFBC").indexOf(e.note)>=0){var h;switch(e.note){case"E":h={note:"F",acc:"flat",octVar:0};break;case"F":h={note:"E",acc:"sharp",octVar:0};break;case"B":h={note:"C",acc:"flat",octVar:1};break;case"C":h={note:"B",acc:"sharp",octVar:-1};break}for(var c=0;c<d.length;c++){if(d[c].note.toUpperCase()===h.note&&d[c].acc===h.acc){e=h;break}}}return e};window.ABCXJS.parse.Transposer.prototype.transposeRegularMusicLine=function(s,g,e){var m=0;var r=false;var j=false;var c=0;var a=0;var p=-1;var q=-1;var d="^_=";var l="ABCDEFGabcdefg";var h=",'";var k='"!+';this.workingLine=s;this.vars=e;this.isBass=(this.vars.currentVoice.clef.type==="bass")||false;this.isChord=false;this.workingLineIdx=this.changedLines.length;this.changedLines[this.workingLineIdx]={line:g,text:s};this.workingX=0;this.newX=0;this.baraccidentals=[];this.baraccidentalsNew=[];while(m<s.length){r=false;j=false;a=0;while(m<s.length&&!r&&s.charAt(m)!=="%"){if(!j&&k.indexOf(s.charAt(m))>=0){var o=s.substr(m+1).indexOf(s.charAt(m));if(o<0){m=s.length}else{if(s.charAt(m)==='"'){this.transposeChord(m+1,o)}m+=o+2}continue}if(s.charAt(m)==="|"){this.baraccidentals=[];this.baraccidentalsNew=[]}c=d.indexOf(s.charAt(m))>=0?1:l.indexOf(s.charAt(m))>=0?2:h.indexOf(s.charAt(m))>=0?3:0;if((c<a&&j)||(a===2&&c===2&&j)){r=true;q=m}else{if(c>a&&!j){j=true;p=m}}a=c;c=0;if(r){this.transposeNote(p,q-p)}else{if(s.charAt(m)==="["){m=this.checkForInlineFields(m)}else{if(s.charAt(m)==="]"){this.isChord=false;delete this.lastPitch}m++}}}if(j&&!r){this.transposeNote(p,m-p)}if(s.charAt(m)==="%"){m=s.length}}return this.changedLines[this.workingLineIdx].text};window.ABCXJS.parse.Transposer.prototype.checkForInlineFields=function(a){var h=this.workingLine.substring(a);var g=h.match(/^\[([IKLMmNPQRrUV]\:.*?)\]/g);var e=a;if(g){var d=g[0].substr(1,g[0].length-2).split(":");switch(d[0]){case"K":this.transposeChord(a+3,d[1].length);e+=g[0].length;break;case"V":this.updateVoiceInfo(d[1]);e+=g[0].length;break;default:e+=g[0].length}}else{this.isChord=1;e+=1}return e};window.ABCXJS.parse.Transposer.prototype.updateVoiceInfo=function(a){this.vars.currentVoice=this.vars.voices[a];this.isBass=(this.vars.currentVoice.clef.type==="bass")||false};window.ABCXJS.parse.Transposer.prototype.transposeChord=function(j,m){var h=this.denormalizeAcc(this.workingLine.substring(j,j+m));var d=h.match(/([ABCDEFG][#b]*[M+m°]*[0-9]*(\/[ABCDEFG0-9])*)/g);if(Math.abs(this.offSet)%12===0||!d||h!==d[0]){return}var g=h;d=h.match(/([ABCDEFG].*(\/[ABCDEFG]).*)/g);h=d===null?[h]:h.split("/");for(var l=0;l<h.length;l++){var a=this.parseKey(h[l]);var k=this.keyToNumber(a);var e=this.denormalizeAcc(this.numberToKey(k+this.offSet,this.offSet));g=g.replace(a,e)}this.updateWorkingLine(g,j,m)};window.ABCXJS.parse.Transposer.prototype.transposeNote=function(q,o){var c=this.workingLine.substr(q,o);var w=this.makeElem(c);var j=w.pitch;var t=this.extractStaffOctave(j);var g=this.staffNoteToCromatic(this.extractStaffNote(j));var a=w.accidental;var k=this.getAccOffset(a);if(w.accidental){this.baraccidentals[j]=k}var s=this.getKeyAccOffset(this.numberToKey(g,this.offSet),this.oldKeyAcc);var m=0;if(this.baraccidentals[j]!==undefined){m=g+this.baraccidentals[j]+this.offSet}else{m=g+s+this.offSet}var l=this.extractCromaticOctave(m);var m=this.extractCromaticNote(m);var d=this.numberToStaff(m,this.newKeyAcc);var u=this.getKeyAccOffset(d.note,this.newKeyAcc);var v=l+d.octVar;if(this.isBass){if(this.isChord&&this.isChord>1){var r=this.getPitch(d.note,t+v);if(this.offset>0){if(r<w.pitch){v++}}else{if(r>w.pitch){v--}}r=this.getPitch(d.note,t+v);if(r<this.lastPitch){v++}}else{v=0}this.isChord&&this.isChord++}this.lastPitch=j=this.getPitch(d.note,t+v);k=this.getAccOffset(d.acc);var e={};e.pitch=j;if(d.acc!==""){e.accidental=d.acc}var h=this.getAccOffset(this.baraccidentalsNew[e.pitch]);if(k===0){if(h&&h!==0||u!==0){e.accidental="natural"}}else{if(h&&h!==0){if(h===k){delete e.accidental}}else{if(u!==0){if(u===k){delete e.accidental}}}}if(e.accidental){this.baraccidentalsNew[e.pitch]=e.accidental}t=this.extractStaffOctave(j);var x=this.numberToKey(this.staffNoteToCromatic(this.extractStaffNote(j)),this.offSet);a=e.accidental;c=this.getAbcNote(x,a,t);this.updateWorkingLine(c,q,o);return e};window.ABCXJS.parse.Transposer.prototype.updateWorkingLine=function(d,a,c){var h=this.changedLines[this.workingLineIdx].text.substr(0,this.newX);var g=this.workingLine.substr(this.workingX,a-this.workingX);var e=this.workingLine.substr(a+c);this.workingX=a+c;this.changedLines[this.workingLineIdx].text=h+g+d;this.newX=this.changedLines[this.workingLineIdx].text.length;this.changedLines[this.workingLineIdx].text+=e};window.ABCXJS.parse.Transposer.prototype.getAbcNote=function(c,e,a){var d="";if(a>=5){c=c.toLowerCase();d=Array(a-4).join("'")}else{c=c.toUpperCase();d=Array(4-(a-1)).join(",")}return this.accNameToABC(e)+c+d};window.ABCXJS.parse.Transposer.prototype.transposeKey=function(j,e,d){var c=this.parseKey(j);this.currKey[this.currKey.length]=c;if(Math.abs(this.offSet)%12===0||!c){return this.tokenizer.tokenize(j,0,j.length)}var h=this.keyToNumber(c);var a=this.denormalizeAcc(this.numberToKey(h+this.offSet,this.offSet));this.currKey[this.currKey.length-1]=a;var g=j.replace(c,a);var k=e.substr(0,e.indexOf(j))+g;this.changedLines[this.changedLines.length]={line:d,text:k};this.oldKeyAcc=ABCXJS.parse.parseKeyVoice.standardKey(this.denormalizeAcc(j));this.newKeyAcc=ABCXJS.parse.parseKeyVoice.standardKey(this.denormalizeAcc(g));return this.tokenizer.tokenize(g,0,g.length)};window.ABCXJS.parse.Transposer.prototype.parseKey=function(e){var a=null;var d=this.tokenizer.tokenize(e,0,e.length);var g=this.tokenizer.getKeyPitch(d[0].token);if(g.len>0){a=g.token;if(d[0].token.length>1){d[0].token=d[0].token.substring(1)}else{d.shift()}if(d.length>0){var c=this.tokenizer.getSharpFlat(d[0].token);if(c.len>0){a+=c.token}}}return a};window.ABCXJS.parse.Transposer.prototype.deleteTabLine=function(a){this.deletedLines[a]=true};window.ABCXJS.parse.Transposer.prototype.updateEditor=function(a){for(d=0;d<this.changedLines.length;d++){a[this.changedLines[d].line]=this.changedLines[d].text}var c=a[0];for(var d=1;d<a.length;d++){if(!this.deletedLines[d]){c+="\n"+a[d]}}this.deletedLines=[];this.changedLines=[];return c+"\n"};window.ABCXJS.parse.Transposer.prototype.getKeyVoice=function(a){return(this.currKey[a]?this.currKey[a]:"C")};window.ABCXJS.parse.Transposer.prototype.normalizeAcc=function(a){return ABCXJS.parse.normalizeAcc(a)};window.ABCXJS.parse.Transposer.prototype.denormalizeAcc=function(a){return ABCXJS.parse.denormalizeAcc(a)};window.ABCXJS.parse.Transposer.prototype.getKeyAccOffset=function(d,e){for(var c=0;c<e.length;c++){if(e[c].note.toLowerCase()===d.toLowerCase()){return this.getAccOffset(e[c].acc)}}return 0};window.ABCXJS.parse.Transposer.prototype.staffNoteToCromatic=function(a){return a*2+(a>2?-1:0)};window.ABCXJS.parse.Transposer.prototype.extractStaffNote=function(a){a=a%7;return a<0?a+=7:a};window.ABCXJS.parse.Transposer.prototype.extractCromaticOctave=function(a){return Math.floor(a/12)
};window.ABCXJS.parse.Transposer.prototype.extractCromaticNote=function(a){a=a%12;return a<0?a+=12:a};window.ABCXJS.parse.Transposer.prototype.extractStaffOctave=function(a){return Math.floor((28+a)/7)};window.ABCXJS.parse.Transposer.prototype.numberToKey=function(c,d){var a=c;a%=ABCXJS.parse.number2keysharp.length;if(a<0){a+=ABCXJS.parse.number2keysharp.length}if(d>0){a=ABCXJS.parse.number2keysharp[a]}else{a=ABCXJS.parse.number2keyflat[a]}return a};window.ABCXJS.parse.Transposer.prototype.keyToNumber=function(a){a=this.normalizeAcc(a);return ABCXJS.parse.key2number[a]};window.ABCXJS.parse.Transposer.prototype.getAccOffset=function(c){var a=0;switch(c){case"accidentals.dblsharp":case"dblsharp":a=2;break;case"accidentals.sharp":case"sharp":a=1;break;case"accidentals.nat":case"nat":case"natural":a=0;break;case"accidentals.flat":case"flat":a=-1;break;case"accidentals.dblflat":case"dblflat":a=-2;break}return a};window.ABCXJS.parse.Transposer.prototype.accNameToABC=function(c){var a="";switch(c){case"accidentals.dblsharp":case"dblsharp":a="^^";break;case"accidentals.sharp":case"sharp":a="^";break;case"accidentals.nat":case"nat":case"natural":a="=";break;case"accidentals.flat":case"flat":a="_";break;case"accidentals.dblflat":case"dblflat":a="__";break}return a};window.ABCXJS.parse.Transposer.prototype.accAbcToName=function(c){var a="";switch(c){case"^^":a="dblsharp";break;case"^":a="sharp";break;case"=":a="natural";break;case"_":a="flat";break;case"__":a="dblflat";break}return a};window.ABCXJS.parse.Transposer.prototype.getAccName=function(c){var a=["dblflat","flat","natural","sharp","dblsharp"];return a[c+2]};window.ABCXJS.parse.Transposer.prototype.getPitch=function(a,c){return this.pitches[a]+(c-4)*7};window.ABCXJS.parse.Transposer.prototype.makeElem=function(d){var a="ABCDEFGabcdefg";var c=0;while(a.indexOf(d.charAt(c))===-1){c++}var e=this.accAbcToName(d.substr(0,c));var g=this.pitches[d.charAt(c)];while(c<d.length){switch(d.charAt(c)){case"'":g+=7;break;case",":g-=7;break}c++}return(e?{pitch:g,accidental:e}:{pitch:g})};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}}ABCXJS.write.Glyphs=function(){var a={"n.0":{d:[["M",4.83,-14.97],["c",0.33,-0.03,1.11,0,1.47,0.06],["c",1.68,0.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,0.81,6.96,-0.9,9.27],["c",-0.78,1.08,-1.71,1.71,-2.91,1.95],["c",-0.45,0.09,-1.32,0.09,-1.77,0],["c",-0.81,-0.18,-1.47,-0.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",0.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,0.87],["c",-0.21,-0.06,-0.69,-0.09,-0.87,-0.06],["c",-0.54,0.12,-0.87,0.42,-1.17,0.99],["c",-0.36,0.66,-0.51,1.56,-0.6,3],["c",-0.03,0.75,-0.03,4.59,-0,5.31],["c",0.09,1.5,0.27,2.4,0.6,3.06],["c",0.24,0.48,0.57,0.78,0.96,0.9],["c",0.27,0.09,0.78,0.09,1.05,-0],["c",0.39,-0.12,0.72,-0.42,0.96,-0.9],["c",0.33,-0.66,0.51,-1.56,0.6,-3.06],["c",0.03,-0.72,0.03,-4.56,-0,-5.31],["c",-0.09,-1.47,-0.27,-2.37,-0.6,-3.03],["c",-0.24,-0.48,-0.54,-0.78,-0.93,-0.9],["z"]],w:10.78,h:14.959},"n.1":{d:[["M",3.3,-15.06],["c",0.06,-0.06,0.21,-0.03,0.66,0.15],["c",0.81,0.39,1.08,0.39,1.83,0.03],["c",0.21,-0.09,0.39,-0.15,0.42,-0.15],["c",0.12,0,0.21,0.09,0.27,0.21],["c",0.06,0.12,0.06,0.33,0.06,5.94],["c",0,3.93,0,5.85,0.03,6.03],["c",0.06,0.36,0.15,0.69,0.27,0.96],["c",0.36,0.75,0.93,1.17,1.68,1.26],["c",0.3,0.03,0.39,0.09,0.39,0.3],["c",0,0.15,-0.03,0.18,-0.09,0.24],["c",-0.06,0.06,-0.09,0.06,-0.48,0.06],["c",-0.42,-0,-0.69,-0.03,-2.1,-0.24],["c",-0.9,-0.15,-1.77,-0.15,-2.67,-0],["c",-1.41,0.21,-1.68,0.24,-2.1,0.24],["c",-0.39,-0,-0.42,-0,-0.48,-0.06],["c",-0.06,-0.06,-0.06,-0.09,-0.06,-0.24],["c",0,-0.21,0.06,-0.27,0.36,-0.3],["c",0.75,-0.09,1.32,-0.51,1.68,-1.26],["c",0.12,-0.27,0.21,-0.6,0.27,-0.96],["c",0.03,-0.18,0.03,-1.59,0.03,-4.29],["c",0,-3.87,0,-4.05,-0.06,-4.14],["c",-0.09,-0.15,-0.18,-0.24,-0.39,-0.24],["c",-0.12,-0,-0.15,0.03,-0.21,0.06],["c",-0.03,0.06,-0.45,0.99,-0.96,2.13],["c",-0.48,1.14,-0.9,2.1,-0.93,2.16],["c",-0.06,0.15,-0.21,0.24,-0.33,0.24],["c",-0.24,0,-0.42,-0.18,-0.42,-0.39],["c",0,-0.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},"n.2":{d:[["M",4.23,-14.97],["c",0.57,-0.06,1.68,0,2.34,0.18],["c",0.69,0.18,1.5,0.54,2.01,0.9],["c",1.35,0.96,1.95,2.25,1.77,3.81],["c",-0.15,1.35,-0.66,2.34,-1.68,3.15],["c",-0.6,0.48,-1.44,0.93,-3.12,1.65],["c",-1.32,0.57,-1.8,0.81,-2.37,1.14],["c",-0.57,0.33,-0.57,0.33,-0.24,0.27],["c",0.39,-0.09,1.26,-0.09,1.68,0],["c",0.72,0.15,1.41,0.45,2.1,0.9],["c",0.99,0.63,1.86,0.87,2.55,0.75],["c",0.24,-0.06,0.42,-0.15,0.57,-0.3],["c",0.12,-0.09,0.3,-0.42,0.3,-0.51],["c",0,-0.09,0.12,-0.21,0.24,-0.24],["c",0.18,-0.03,0.39,0.12,0.39,0.3],["c",0,0.12,-0.15,0.57,-0.3,0.87],["c",-0.54,1.02,-1.56,1.74,-2.79,2.01],["c",-0.42,0.09,-1.23,0.09,-1.62,0.03],["c",-0.81,-0.18,-1.32,-0.45,-2.01,-1.11],["c",-0.45,-0.45,-0.63,-0.57,-0.96,-0.69],["c",-0.84,-0.27,-1.89,0.12,-2.25,0.9],["c",-0.12,0.21,-0.21,0.54,-0.21,0.72],["c",0,0.12,-0.12,0.21,-0.27,0.24],["c",-0.15,0,-0.27,-0.03,-0.33,-0.15],["c",-0.09,-0.21,0.09,-1.08,0.33,-1.71],["c",0.24,-0.66,0.66,-1.26,1.29,-1.89],["c",0.45,-0.45,0.9,-0.81,1.92,-1.56],["c",1.29,-0.93,1.89,-1.44,2.34,-1.98],["c",0.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-0.06,-1.29,-0.39,-2.31,-0.96,-2.91],["c",-0.36,-0.33,-0.72,-0.51,-1.17,-0.54],["c",-0.84,-0.03,-1.53,0.42,-1.59,1.05],["c",-0.03,0.33,0.12,0.6,0.57,1.14],["c",0.45,0.54,0.54,0.87,0.42,1.41],["c",-0.15,0.63,-0.54,1.11,-1.08,1.38],["c",-0.63,0.33,-1.2,0.33,-1.83,0],["c",-0.24,-0.12,-0.33,-0.18,-0.54,-0.39],["c",-0.18,-0.18,-0.27,-0.3,-0.36,-0.51],["c",-0.24,-0.45,-0.27,-0.84,-0.21,-1.38],["c",0.12,-0.75,0.45,-1.41,1.02,-1.98],["c",0.72,-0.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.993},"n.3":{d:[["M",3.78,-14.97],["c",0.3,-0.03,1.41,0,1.83,0.06],["c",2.22,0.3,3.51,1.32,3.72,2.91],["c",0.03,0.33,0.03,1.26,-0.03,1.65],["c",-0.12,0.84,-0.48,1.47,-1.05,1.77],["c",-0.27,0.15,-0.36,0.24,-0.45,0.39],["c",-0.09,0.21,-0.09,0.36,0,0.57],["c",0.09,0.15,0.18,0.24,0.51,0.39],["c",0.75,0.42,1.23,1.14,1.41,2.13],["c",0.06,0.42,0.06,1.35,0,1.71],["c",-0.18,0.81,-0.48,1.38,-1.02,1.95],["c",-0.75,0.72,-1.8,1.2,-3.18,1.38],["c",-0.42,0.06,-1.56,0.06,-1.95,0],["c",-1.89,-0.33,-3.18,-1.29,-3.51,-2.64],["c",-0.03,-0.12,-0.03,-0.33,-0.03,-0.6],["c",0,-0.36,0,-0.42,0.06,-0.63],["c",0.12,-0.3,0.27,-0.51,0.51,-0.75],["c",0.24,-0.24,0.45,-0.39,0.75,-0.51],["c",0.21,-0.06,0.27,-0.06,0.6,-0.06],["c",0.33,0,0.39,0,0.6,0.06],["c",0.3,0.12,0.51,0.27,0.75,0.51],["c",0.36,0.33,0.57,0.75,0.6,1.2],["c",0,0.21,0,0.27,-0.06,0.42],["c",-0.09,0.18,-0.12,0.24,-0.54,0.54],["c",-0.51,0.36,-0.63,0.54,-0.6,0.87],["c",0.06,0.54,0.54,0.9,1.38,0.99],["c",0.36,0.06,0.72,0.03,0.96,-0.06],["c",0.81,-0.27,1.29,-1.23,1.44,-2.79],["c",0.03,-0.45,0.03,-1.95,-0.03,-2.37],["c",-0.09,-0.75,-0.33,-1.23,-0.75,-1.44],["c",-0.33,-0.18,-0.45,-0.18,-1.98,-0.18],["c",-1.35,0,-1.41,0,-1.5,-0.06],["c",-0.18,-0.12,-0.24,-0.39,-0.12,-0.6],["c",0.12,-0.15,0.15,-0.15,1.68,-0.15],["c",1.5,0,1.62,0,1.89,-0.15],["c",0.18,-0.09,0.42,-0.36,0.54,-0.57],["c",0.18,-0.42,0.27,-0.9,0.3,-1.95],["c",0.03,-1.2,-0.06,-1.8,-0.36,-2.37],["c",-0.24,-0.48,-0.63,-0.81,-1.14,-0.96],["c",-0.3,-0.06,-1.08,-0.06,-1.38,0.03],["c",-0.6,0.15,-0.9,0.42,-0.96,0.84],["c",-0.03,0.3,0.06,0.45,0.63,0.84],["c",0.33,0.24,0.42,0.39,0.45,0.63],["c",0.03,0.72,-0.57,1.5,-1.32,1.65],["c",-1.05,0.27,-2.1,-0.57,-2.1,-1.65],["c",0,-0.45,0.15,-0.96,0.39,-1.38],["c",0.12,-0.21,0.54,-0.63,0.81,-0.81],["c",0.57,-0.42,1.38,-0.69,2.25,-0.81],["z"]],w:9.735,h:14.967},"n.4":{d:[["M",8.64,-14.94],["c",0.27,-0.09,0.42,-0.12,0.54,-0.03],["c",0.09,0.06,0.15,0.21,0.15,0.3],["c",-0.03,0.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-0.03,0.06,0.12,0.06,2.55,0.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,0.03,-2.37,0.06,-2.46],["c",0.03,-0.06,0.21,-0.18,0.57,-0.42],["c",1.08,-0.72,1.38,-1.08,1.86,-2.16],["c",0.12,-0.3,0.24,-0.54,0.27,-0.57],["c",0.12,-0.12,0.39,-0.06,0.45,0.12],["c",0.06,0.09,0.06,0.57,0.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,0.06],["c",0.24,0.15,0.24,0.54,0,0.69],["c",-0.09,0.06,-0.15,0.06,-1.2,0.06],["l",-1.08,0],["l",0,0.33],["c",0,0.57,0.09,1.11,0.3,1.53],["c",0.36,0.75,0.93,1.17,1.68,1.26],["c",0.3,0.03,0.39,0.09,0.39,0.3],["c",0,0.15,-0.03,0.18,-0.09,0.24],["c",-0.06,0.06,-0.09,0.06,-0.48,0.06],["c",-0.42,0,-0.69,-0.03,-2.1,-0.24],["c",-0.9,-0.15,-1.77,-0.15,-2.67,0],["c",-1.41,0.21,-1.68,0.24,-2.1,0.24],["c",-0.39,0,-0.42,0,-0.48,-0.06],["c",-0.06,-0.06,-0.06,-0.09,-0.06,-0.24],["c",0,-0.21,0.06,-0.27,0.36,-0.3],["c",0.75,-0.09,1.32,-0.51,1.68,-1.26],["c",0.21,-0.42,0.3,-0.96,0.3,-1.53],["l",0,-0.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-0.15],["c",-0.18,-0.12,-0.3,-0.39,-0.27,-0.54],["c",0.03,-0.06,0.18,-0.24,0.33,-0.45],["c",0.75,-0.9,1.59,-2.07,2.13,-3.03],["c",0.33,-0.54,0.84,-1.62,1.05,-2.16],["c",0.57,-1.41,0.84,-2.64,0.9,-4.05],["c",0.03,-0.63,0.06,-0.72,0.24,-0.81],["l",0.12,-0.06],["l",0.45,0.12],["c",0.66,0.18,1.02,0.24,1.47,0.27],["c",0.6,0.03,1.23,-0.09,2.01,-0.33],["z"]],w:11.795,h:14.994},"n.5":{d:[["M",1.02,-14.94],["c",0.12,-0.09,0.03,-0.09,1.08,0.06],["c",2.49,0.36,4.35,0.36,6.96,-0.06],["c",0.57,-0.09,0.66,-0.06,0.81,0.06],["c",0.15,0.18,0.12,0.24,-0.15,0.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-0.6,0.09,-1.2,0.12,-1.71,0.12],["c",-0.39,0,-0.45,0,-0.57,0.06],["c",-0.09,0.06,-0.15,0.12,-0.21,0.21],["l",-0.06,0.12],["l",0,1.65],["l",0,1.65],["l",0.21,-0.21],["c",0.66,-0.57,1.41,-0.96,2.19,-1.14],["c",0.33,-0.06,1.41,-0.06,1.95,0],["c",2.61,0.36,4.02,1.74,4.26,4.14],["c",0.03,0.45,0.03,1.08,-0.03,1.44],["c",-0.18,1.02,-0.78,2.01,-1.59,2.7],["c",-0.72,0.57,-1.62,1.02,-2.49,1.2],["c",-1.38,0.27,-3.03,0.06,-4.2,-0.54],["c",-1.08,-0.54,-1.71,-1.32,-1.86,-2.28],["c",-0.09,-0.69,0.09,-1.29,0.57,-1.74],["c",0.24,-0.24,0.45,-0.39,0.75,-0.51],["c",0.21,-0.06,0.27,-0.06,0.6,-0.06],["c",0.33,0,0.39,0,0.6,0.06],["c",0.3,0.12,0.51,0.27,0.75,0.51],["c",0.36,0.33,0.57,0.75,0.6,1.2],["c",0,0.21,0,0.27,-0.06,0.42],["c",-0.09,0.18,-0.12,0.24,-0.54,0.54],["c",-0.18,0.12,-0.36,0.3,-0.42,0.33],["c",-0.36,0.42,-0.18,0.99,0.36,1.26],["c",0.51,0.27,1.47,0.36,2.01,0.27],["c",0.93,-0.21,1.47,-1.17,1.65,-2.91],["c",0.06,-0.45,0.06,-1.89,0,-2.31],["c",-0.15,-1.2,-0.51,-2.1,-1.05,-2.55],["c",-0.21,-0.18,-0.54,-0.36,-0.81,-0.39],["c",-0.3,-0.06,-0.84,-0.03,-1.26,0.06],["c",-0.93,0.18,-1.65,0.6,-2.16,1.2],["c",-0.15,0.21,-0.27,0.3,-0.39,0.3],["c",-0.15,0,-0.3,-0.09,-0.36,-0.18],["c",-0.06,-0.09,-0.06,-0.15,-0.06,-3.66],["c",0,-3.39,0,-3.57,0.06,-3.66],["c",0.03,-0.06,0.09,-0.15,0.15,-0.18],["z"]],w:10.212,h:14.997},"n.6":{d:[["M",4.98,-14.97],["c",0.36,-0.03,1.2,0,1.59,0.06],["c",0.9,0.15,1.68,0.51,2.25,1.05],["c",0.57,0.51,0.87,1.23,0.84,1.98],["c",-0.03,0.51,-0.21,0.9,-0.6,1.26],["c",-0.24,0.24,-0.45,0.39,-0.75,0.51],["c",-0.21,0.06,-0.27,0.06,-0.6,0.06],["c",-0.33,0,-0.39,0,-0.6,-0.06],["c",-0.3,-0.12,-0.51,-0.27,-0.75,-0.51],["c",-0.39,-0.36,-0.57,-0.78,-0.57,-1.26],["c",0,-0.27,0,-0.3,0.09,-0.42],["c",0.03,-0.09,0.18,-0.21,0.3,-0.3],["c",0.12,-0.09,0.3,-0.21,0.39,-0.27],["c",0.09,-0.06,0.21,-0.18,0.27,-0.24],["c",0.06,-0.12,0.09,-0.15,0.09,-0.33],["c",0,-0.18,-0.03,-0.24,-0.09,-0.36],["c",-0.24,-0.39,-0.75,-0.6,-1.38,-0.57],["c",-0.54,0.03,-0.9,0.18,-1.23,0.48],["c",-0.81,0.72,-1.08,2.16,-0.96,5.37],["l",0,0.63],["l",0.3,-0.12],["c",0.78,-0.27,1.29,-0.33,2.1,-0.27],["c",1.47,0.12,2.49,0.54,3.27,1.29],["c",0.48,0.51,0.81,1.11,0.96,1.89],["c",0.06,0.27,0.06,0.42,0.06,0.93],["c",0,0.54,0,0.69,-0.06,0.96],["c",-0.15,0.78,-0.48,1.38,-0.96,1.89],["c",-0.54,0.51,-1.17,0.87,-1.98,1.08],["c",-1.14,0.3,-2.4,0.33,-3.24,0.03],["c",-1.5,-0.48,-2.64,-1.89,-3.27,-4.02],["c",-0.36,-1.23,-0.51,-2.82,-0.42,-4.08],["c",0.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",0.66,7.41],["c",-0.27,-0.09,-0.81,-0.12,-1.08,-0.06],["c",-0.72,0.18,-1.08,0.69,-1.23,1.71],["c",-0.06,0.54,-0.06,3,0,3.54],["c",0.18,1.26,0.72,1.77,1.8,1.74],["c",0.39,-0.03,0.63,-0.09,0.9,-0.27],["c",0.66,-0.42,0.9,-1.32,0.9,-3.24],["c",0,-2.22,-0.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},"n.7":{d:[["M",0.21,-14.97],["c",0.21,-0.06,0.45,0,0.54,0.15],["c",0.06,0.09,0.06,0.15,0.06,0.39],["c",0,0.24,0,0.33,0.06,0.42],["c",0.06,0.12,0.21,0.24,0.27,0.24],["c",0.03,0,0.12,-0.12,0.24,-0.21],["c",0.96,-1.2,2.58,-1.35,3.99,-0.42],["c",0.15,0.12,0.42,0.3,0.54,0.45],["c",0.48,0.39,0.81,0.57,1.29,0.6],["c",0.69,0.03,1.5,-0.3,2.13,-0.87],["c",0.09,-0.09,0.27,-0.3,0.39,-0.45],["c",0.12,-0.15,0.24,-0.27,0.3,-0.3],["c",0.18,-0.06,0.39,0.03,0.51,0.21],["c",0.06,0.18,0.06,0.24,-0.27,0.72],["c",-0.18,0.24,-0.54,0.78,-0.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-0.03,0.33,-0.03,0.66,-0.03,1.26],["c",0,0.9,0,1.08,0.15,1.89],["c",0.06,0.45,0.06,0.48,0.03,0.6],["c",-0.06,0.09,-0.21,0.21,-0.3,0.21],["c",-0.03,0,-0.27,-0.06,-0.54,-0.15],["c",-0.84,-0.27,-1.11,-0.3,-1.65,-0.3],["c",-0.57,0,-0.84,0.03,-1.56,0.27],["c",-0.6,0.18,-0.69,0.21,-0.81,0.15],["c",-0.12,-0.06,-0.21,-0.18,-0.21,-0.3],["c",0,-0.15,0.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",0.21,-0.27,0.36,-0.48,0.33,-0.48],["c",0,0,-0.12,0.06,-0.27,0.12],["c",-0.54,0.3,-0.99,0.39,-1.56,0.39],["c",-0.75,0.03,-1.2,-0.18,-1.83,-0.75],["c",-0.99,-0.9,-1.83,-1.17,-2.31,-0.72],["c",-0.18,0.15,-0.36,0.51,-0.45,0.84],["c",-0.06,0.24,-0.06,0.33,-0.09,1.98],["c",0,1.62,-0.03,1.74,-0.06,1.8],["c",-0.15,0.24,-0.54,0.24,-0.69,0],["c",-0.06,-0.09,-0.06,-0.15,-0.06,-3.57],["c",0,-3.42,0,-3.48,0.06,-3.57],["c",0.03,-0.06,0.09,-0.12,0.15,-0.15],["z"]],w:10.561,h:15.093},"n.8":{d:[["M",4.98,-14.97],["c",0.33,-0.03,1.02,-0.03,1.32,0],["c",1.32,0.12,2.49,0.6,3.21,1.32],["c",0.39,0.39,0.66,0.81,0.78,1.29],["c",0.09,0.36,0.09,1.08,0,1.44],["c",-0.21,0.84,-0.66,1.59,-1.59,2.55],["l",-0.3,0.3],["l",0.27,0.18],["c",1.47,0.93,2.31,2.31,2.25,3.75],["c",-0.03,0.75,-0.24,1.35,-0.63,1.95],["c",-0.45,0.66,-1.02,1.14,-1.83,1.53],["c",-1.8,0.87,-4.2,0.87,-6,0.03],["c",-1.62,-0.78,-2.52,-2.16,-2.46,-3.66],["c",0.06,-0.99,0.54,-1.77,1.8,-2.97],["c",0.54,-0.51,0.54,-0.54,0.48,-0.57],["c",-0.39,-0.27,-0.96,-0.78,-1.2,-1.14],["c",-0.75,-1.11,-0.87,-2.4,-0.3,-3.6],["c",0.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,0.69],["c",-0.42,-0.09,-1.11,-0.12,-1.38,-0.06],["c",-0.3,0.06,-0.6,0.18,-0.81,0.3],["c",-0.21,0.12,-0.6,0.51,-0.72,0.72],["c",-0.51,0.87,-0.42,1.89,0.21,2.52],["c",0.21,0.21,0.36,0.3,1.95,1.23],["c",0.96,0.54,1.74,0.99,1.77,1.02],["c",0.09,0,0.63,-0.6,0.99,-1.11],["c",0.21,-0.36,0.48,-0.87,0.57,-1.23],["c",0.06,-0.24,0.06,-0.36,0.06,-0.72],["c",0,-0.45,-0.03,-0.66,-0.15,-0.99],["c",-0.39,-0.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-0.03,0,-0.18,0.15,-0.39,0.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",0.09,1.59,1.35,2.85,3.21,3.24],["c",0.33,0.06,0.45,0.06,0.93,0.06],["c",0.63,-0,0.81,-0.03,1.29,-0.27],["c",0.9,-0.42,1.47,-1.41,1.41,-2.4],["c",-0.06,-0.66,-0.39,-1.29,-0.9,-1.65],["c",-0.12,-0.09,-1.05,-0.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},"n.9":{d:[["M",4.23,-14.97],["c",0.42,-0.03,1.29,0,1.62,0.06],["c",0.51,0.12,0.93,0.3,1.38,0.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",0.18,2.55,-0.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-0.06,-2.31,-0.45,-3.03,-1.14],["c",-0.57,-0.51,-0.87,-1.23,-0.84,-1.98],["c",0.03,-0.51,0.21,-0.9,0.6,-1.26],["c",0.24,-0.24,0.45,-0.39,0.75,-0.51],["c",0.21,-0.06,0.27,-0.06,0.6,-0.06],["c",0.33,-0,0.39,-0,0.6,0.06],["c",0.3,0.12,0.51,0.27,0.75,0.51],["c",0.39,0.36,0.57,0.78,0.57,1.26],["c",0,0.27,0,0.3,-0.09,0.42],["c",-0.03,0.09,-0.18,0.21,-0.3,0.3],["c",-0.12,0.09,-0.3,0.21,-0.39,0.27],["c",-0.09,0.06,-0.21,0.18,-0.27,0.24],["c",-0.06,0.12,-0.06,0.15,-0.06,0.33],["c",0,0.18,0,0.24,0.06,0.36],["c",0.24,0.39,0.75,0.6,1.38,0.57],["c",0.54,-0.03,0.9,-0.18,1.23,-0.48],["c",0.81,-0.72,1.08,-2.16,0.96,-5.37],["l",0,-0.63],["l",-0.3,0.12],["c",-0.78,0.27,-1.29,0.33,-2.1,0.27],["c",-1.47,-0.12,-2.49,-0.54,-3.27,-1.29],["c",-0.48,-0.51,-0.81,-1.11,-0.96,-1.89],["c",-0.06,-0.27,-0.06,-0.42,-0.06,-0.96],["c",0,-0.51,0,-0.66,0.06,-0.93],["c",0.15,-0.78,0.48,-1.38,0.96,-1.89],["c",0.15,-0.12,0.33,-0.27,0.42,-0.36],["c",0.69,-0.51,1.62,-0.81,2.76,-0.93],["z"],["m",1.17,0.66],["c",-0.21,-0.06,-0.57,-0.06,-0.81,-0.03],["c",-0.78,0.12,-1.26,0.69,-1.41,1.74],["c",-0.12,0.63,-0.15,1.95,-0.09,2.79],["c",0.12,1.71,0.63,2.4,1.77,2.46],["c",1.08,0.03,1.62,-0.48,1.8,-1.74],["c",0.06,-0.54,0.06,-3,0,-3.54],["c",-0.15,-1.05,-0.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},f:{d:[["M",9.93,-14.28],["c",1.53,-0.18,2.88,0.45,3.12,1.5],["c",0.12,0.51,0,1.32,-0.27,1.86],["c",-0.15,0.3,-0.42,0.57,-0.63,0.69],["c",-0.69,0.36,-1.56,0.03,-1.83,-0.69],["c",-0.09,-0.24,-0.09,-0.69,0,-0.87],["c",0.06,-0.12,0.21,-0.24,0.45,-0.42],["c",0.42,-0.24,0.57,-0.45,0.6,-0.72],["c",0.03,-0.33,-0.09,-0.39,-0.63,-0.42],["c",-0.3,0,-0.45,0,-0.6,0.03],["c",-0.81,0.21,-1.35,0.93,-1.74,2.46],["c",-0.06,0.27,-0.48,2.25,-0.48,2.31],["c",0,0.03,0.39,0.03,0.9,0.03],["c",0.72,0,0.9,0,0.99,0.06],["c",0.42,0.15,0.45,0.72,0.03,0.9],["c",-0.12,0.06,-0.24,0.06,-1.17,0.06],["l",-1.05,0],["l",-0.78,2.55],["c",-0.45,1.41,-0.87,2.79,-0.96,3.06],["c",-0.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,0.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-0.18,-1.89,-0.78,-2.04,-1.59],["c",-0.12,-0.66,0.15,-1.71,0.54,-2.19],["c",0.69,-0.75,1.86,-0.54,2.22,0.39],["c",0.06,0.15,0.09,0.27,0.09,0.48],["c",-0,0.24,-0.03,0.27,-0.12,0.42],["c",-0.03,0.09,-0.15,0.18,-0.27,0.27],["c",-0.09,0.06,-0.27,0.21,-0.36,0.27],["c",-0.24,0.18,-0.36,0.36,-0.39,0.6],["c",-0.03,0.33,0.09,0.39,0.63,0.42],["c",0.42,0,0.63,-0.03,0.9,-0.15],["c",0.6,-0.3,0.96,-0.96,1.38,-2.64],["c",0.09,-0.42,0.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",-0,-0.03,-0.36,-0.03,-0.81,-0.03],["c",-0.72,0,-0.81,0,-0.93,-0.06],["c",-0.42,-0.18,-0.39,-0.75,0.03,-0.9],["c",0.09,-0.06,0.27,-0.06,1.05,-0.06],["l",0.96,0],["l",0,-0.09],["c",0.06,-0.18,0.3,-0.72,0.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",0.09,0,0.3,-0.03,0.45,-0.03],["c",0.24,0.03,0.3,0.03,0.45,0.12],["c",0.36,0.15,0.63,0.54,0.75,1.02],["l",0.03,0.21],["l",0.33,-0.3],["c",0.69,-0.69,1.38,-1.02,2.07,-1.02],["c",0.27,0,0.33,0,0.48,0.06],["c",0.21,0.09,0.48,0.36,0.63,0.6],["c",0.03,0.09,0.12,0.27,0.18,0.42],["c",0.03,0.15,0.09,0.27,0.12,0.27],["c",0,0,0.09,-0.09,0.18,-0.21],["c",0.33,-0.39,0.87,-0.81,1.29,-0.99],["c",0.78,-0.33,1.47,-0.21,2.01,0.33],["c",0.3,0.33,0.48,0.69,0.6,1.14],["c",0.09,0.42,0.06,0.54,-0.54,3.06],["c",-0.33,1.29,-0.57,2.4,-0.57,2.43],["c",0,0.12,0.09,0.21,0.21,0.21],["c",0.24,-0,0.75,-0.3,1.2,-0.72],["c",0.45,-0.39,0.6,-0.45,0.78,-0.27],["c",0.18,0.18,0.09,0.36,-0.45,0.87],["c",-1.05,0.96,-1.83,1.47,-2.58,1.71],["c",-0.93,0.33,-1.53,0.21,-1.8,-0.33],["c",-0.06,-0.15,-0.06,-0.21,-0.06,-0.45],["c",0,-0.24,0.03,-0.48,0.6,-2.82],["c",0.42,-1.71,0.6,-2.64,0.63,-2.79],["c",0.03,-0.57,-0.3,-0.75,-0.84,-0.48],["c",-0.24,0.12,-0.54,0.39,-0.66,0.63],["c",-0.03,0.09,-0.42,1.38,-0.9,3],["c",-0.9,3.15,-0.84,3,-1.14,3.15],["l",-0.15,0.09],["l",-0.78,0],["c",-0.6,0,-0.78,0,-0.84,-0.06],["c",-0.09,-0.03,-0.18,-0.18,-0.18,-0.27],["c",0,-0.03,0.36,-1.38,0.84,-2.97],["c",0.57,-2.04,0.81,-2.97,0.84,-3.12],["c",0.03,-0.54,-0.3,-0.72,-0.84,-0.45],["c",-0.24,0.12,-0.57,0.42,-0.66,0.63],["c",-0.06,0.09,-0.51,1.44,-1.05,2.97],["c",-0.51,1.56,-0.99,2.85,-0.99,2.91],["c",-0.06,0.12,-0.21,0.24,-0.36,0.3],["c",-0.12,0.06,-0.21,0.06,-0.9,0.06],["c",-0.6,0,-0.78,0,-0.84,-0.06],["c",-0.09,-0.03,-0.18,-0.18,-0.18,-0.27],["c",0,-0.03,0.45,-1.38,0.99,-2.97],["c",1.05,-3.18,1.05,-3.18,0.93,-3.45],["c",-0.12,-0.27,-0.39,-0.3,-0.72,-0.15],["c",-0.54,0.27,-1.14,1.17,-1.56,2.4],["c",-0.06,0.15,-0.15,0.3,-0.18,0.36],["c",-0.21,0.21,-0.57,0.27,-0.72,0.09],["c",-0.09,-0.09,-0.06,-0.21,0.06,-0.63],["c",0.48,-1.26,1.26,-2.46,2.01,-3.21],["c",0.57,-0.54,1.2,-0.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",0.27,-0.09,0.81,-0.06,1.11,0.03],["c",0.54,0.18,0.93,0.51,1.17,0.99],["c",0.09,0.15,0.15,0.33,0.18,0.36],["l",-0,0.12],["l",0.3,-0.27],["c",0.66,-0.6,1.35,-1.02,2.13,-1.2],["c",0.21,-0.06,0.33,-0.06,0.78,-0.06],["c",0.45,0,0.51,0,0.84,0.09],["c",1.29,0.33,2.07,1.32,2.25,2.79],["c",0.09,0.81,-0.09,2.01,-0.45,2.79],["c",-0.54,1.26,-1.86,2.55,-3.18,3.03],["c",-0.45,0.18,-0.81,0.24,-1.29,0.24],["c",-0.69,-0.03,-1.35,-0.18,-1.86,-0.45],["c",-0.3,-0.15,-0.51,-0.18,-0.69,-0.09],["c",-0.09,0.03,-0.18,0.09,-0.18,0.12],["c",-0.09,0.12,-1.05,2.94,-1.05,3.06],["c",0,0.24,0.18,0.48,0.51,0.63],["c",0.18,0.06,0.54,0.15,0.75,0.15],["c",0.21,0,0.36,0.06,0.42,0.18],["c",0.12,0.18,0.06,0.42,-0.12,0.54],["c",-0.09,0.03,-0.15,0.03,-0.78,0],["c",-1.98,-0.15,-3.81,-0.15,-5.79,0],["c",-0.63,0.03,-0.69,0.03,-0.78,0],["c",-0.24,-0.15,-0.24,-0.57,0.03,-0.66],["c",0.06,-0.03,0.48,-0.09,0.99,-0.12],["c",0.87,-0.06,1.11,-0.09,1.35,-0.21],["c",0.18,-0.06,0.33,-0.18,0.39,-0.3],["c",0.06,-0.12,3.24,-9.42,3.27,-9.6],["c",0.06,-0.33,0.03,-0.57,-0.15,-0.69],["c",-0.09,-0.06,-0.12,-0.06,-0.3,-0.06],["c",-0.69,0.06,-1.53,1.02,-2.28,2.61],["c",-0.09,0.21,-0.21,0.45,-0.27,0.51],["c",-0.09,0.12,-0.33,0.24,-0.48,0.24],["c",-0.18,0,-0.36,-0.15,-0.36,-0.3],["c",0,-0.24,0.78,-1.83,1.26,-2.55],["c",0.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-0.27,-0.12,-0.75,-0.03,-1.14,0.21],["c",-0.75,0.48,-1.47,1.68,-1.89,3.15],["c",-0.45,1.47,-0.42,2.34,0,2.7],["c",0.45,0.39,1.26,0.21,1.83,-0.36],["c",0.51,-0.51,0.99,-1.68,1.38,-3.27],["c",0.3,-1.17,0.33,-1.74,0.15,-2.13],["c",-0.09,-0.15,-0.15,-0.21,-0.33,-0.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",0.27,-0.03,0.93,0,1.2,0.06],["c",0.84,0.21,1.23,0.81,1.02,1.53],["c",-0.24,0.75,-0.9,1.17,-1.56,0.96],["c",-0.33,-0.09,-0.51,-0.3,-0.66,-0.75],["c",-0.03,-0.12,-0.09,-0.24,-0.12,-0.3],["c",-0.09,-0.15,-0.3,-0.24,-0.48,-0.24],["c",-0.57,0,-1.38,0.54,-1.65,1.08],["c",-0.06,0.15,-0.33,1.17,-0.9,3.27],["c",-0.57,2.31,-0.81,3.12,-0.87,3.21],["c",-0.03,0.06,-0.12,0.15,-0.18,0.21],["l",-0.12,0.06],["l",-0.81,0.03],["c",-0.69,0,-0.81,0,-0.9,-0.03],["c",-0.09,-0.06,-0.18,-0.21,-0.18,-0.3],["c",0,-0.06,0.39,-1.62,0.9,-3.51],["c",0.84,-3.24,0.87,-3.45,0.87,-3.72],["c",0,-0.21,0,-0.27,-0.03,-0.36],["c",-0.12,-0.15,-0.21,-0.24,-0.42,-0.24],["c",-0.24,0,-0.45,0.15,-0.78,0.42],["c",-0.33,0.36,-0.45,0.54,-0.72,1.14],["c",-0.03,0.12,-0.21,0.24,-0.36,0.27],["c",-0.12,0,-0.15,0,-0.24,-0.06],["c",-0.18,-0.12,-0.18,-0.21,-0.06,-0.54],["c",0.21,-0.57,0.42,-0.93,0.78,-1.32],["c",0.54,-0.51,1.2,-0.81,1.95,-0.87],["c",0.81,-0.03,1.53,0.3,1.92,0.87],["l",0.12,0.18],["l",0.09,-0.09],["c",0.57,-0.45,1.41,-0.84,2.19,-0.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",0.09,0,0.36,-0.03,0.57,-0.03],["c",0.75,0.03,1.29,0.24,1.71,0.63],["c",0.51,0.54,0.66,1.26,0.36,1.83],["c",-0.24,0.42,-0.63,0.57,-1.11,0.42],["c",-0.33,-0.09,-0.6,-0.36,-0.6,-0.57],["c",0,-0.03,0.06,-0.21,0.15,-0.39],["c",0.12,-0.21,0.15,-0.33,0.18,-0.48],["c",0,-0.24,-0.06,-0.48,-0.15,-0.6],["c",-0.15,-0.21,-0.42,-0.24,-0.75,-0.15],["c",-0.27,0.06,-0.48,0.18,-0.69,0.36],["c",-0.39,0.39,-0.51,0.96,-0.33,1.38],["c",0.09,0.21,0.42,0.51,0.78,0.72],["c",1.11,0.69,1.59,1.11,1.89,1.68],["c",0.21,0.39,0.24,0.78,0.15,1.29],["c",-0.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,0.24,-1.95,0.12,-2.7,-0.42],["c",-0.72,-0.51,-0.99,-1.47,-0.6,-2.19],["c",0.24,-0.48,0.72,-0.63,1.17,-0.42],["c",0.33,0.18,0.54,0.45,0.57,0.81],["c",0,0.21,-0.03,0.3,-0.33,0.51],["c",-0.33,0.24,-0.39,0.42,-0.27,0.69],["c",0.06,0.15,0.21,0.27,0.45,0.33],["c",0.3,0.09,0.87,0.09,1.2,-0],["c",0.75,-0.21,1.23,-0.72,1.29,-1.35],["c",0.03,-0.42,-0.15,-0.81,-0.54,-1.2],["c",-0.24,-0.24,-0.48,-0.42,-1.41,-1.02],["c",-0.69,-0.42,-1.05,-0.93,-1.05,-1.47],["c",0,-0.39,0.12,-0.87,0.3,-1.23],["c",0.27,-0.57,0.78,-1.05,1.38,-1.35],["c",0.24,-0.12,0.63,-0.27,0.9,-0.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",0.36,-0.09,0.81,-0.03,1.71,0.27],["c",0.78,0.21,0.96,0.27,1.74,0.3],["c",0.87,0.06,1.02,0.03,1.38,-0.21],["c",0.21,-0.15,0.33,-0.15,0.48,-0.06],["c",0.15,0.09,0.21,0.3,0.15,0.45],["c",-0.03,0.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",0.54,0.03],["c",0.54,0.03,0.72,0.03,2.01,0.15],["c",0.36,0.03,0.9,0.06,1.2,0.09],["c",0.66,0,0.81,-0.03,1.02,-0.24],["c",0.3,-0.3,0.39,-0.72,0.27,-1.23],["c",-0.06,-0.27,-0.06,-0.27,-0.03,-0.39],["c",0.15,-0.3,0.54,-0.27,0.69,0.03],["c",0.15,0.33,0.27,1.02,0.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-0.57,0.03,-1.02,-0.09,-2.01,-0.51],["c",-1.02,-0.42,-1.23,-0.48,-2.13,-0.54],["c",-0.81,-0.06,-0.96,-0.03,-1.26,0.18],["c",-0.12,0.06,-0.24,0.12,-0.27,0.12],["c",-0.27,0,-0.45,-0.3,-0.36,-0.51],["c",0.03,-0.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-0.03,0,-0.21,0.03,-0.42,0.06],["c",-0.21,0.03,-0.78,0.09,-1.23,0.12],["c",-1.11,0.12,-1.23,0.15,-1.95,0.27],["c",-0.72,0.15,-1.17,0.18,-1.29,0.09],["c",-0.27,-0.18,-0.21,-0.75,0.12,-1.26],["c",0.39,-0.6,0.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-11.19],["c",0.18,-0.09,0.36,-0.09,0.54,0],["c",0.18,0.09,0.24,0.15,0.33,0.3],["l",0.06,0.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,0.06],["c",0.06,0.03,0.15,0.09,0.18,0.12],["c",0.12,0.09,0.21,0.33,0.21,0.48],["c",0,0.15,-0.09,0.39,-0.21,0.48],["c",-0.03,0.03,-0.12,0.09,-0.18,0.12],["c",-0.12,0.06,-0.18,0.06,-1.41,0.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-0.06,1.41],["c",-0.09,0.18,-0.15,0.24,-0.3,0.33],["c",-0.21,0.09,-0.39,0.09,-0.57,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.06,-0.12,-0.06,-0.18,-0.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-0.06],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.09,-0.18,-0.09,-0.36,0,-0.54],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["l",0.15,-0.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,0.06,-1.41],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.32,-3.36],["c",0.57,-0.15,1.17,0.03,1.59,0.45],["c",0.45,0.45,0.6,0.96,0.51,1.89],["c",-0.09,1.23,-0.42,2.46,-0.99,3.93],["c",-0.3,0.72,-0.72,1.62,-0.78,1.68],["c",-0.18,0.21,-0.51,0.18,-0.66,-0.06],["c",-0.03,-0.06,-0.06,-0.15,-0.06,-0.18],["c",0,-0.06,0.12,-0.33,0.24,-0.63],["c",0.84,-1.8,1.02,-2.61,0.69,-3.24],["c",-0.12,-0.24,-0.27,-0.36,-0.75,-0.6],["c",-0.36,-0.15,-0.42,-0.21,-0.6,-0.39],["c",-0.69,-0.69,-0.69,-1.71,0,-2.4],["c",0.21,-0.21,0.51,-0.39,0.81,-0.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",0.18,-5.34],["c",0.09,-0.06,0.15,-0.06,2.31,-0.06],["c",2.46,0,2.37,0,2.46,0.21],["c",0.12,0.21,0.03,0.42,-0.15,0.54],["c",-0.09,0.06,-0.15,0.06,-2.28,0.06],["c",-2.16,0,-2.22,0,-2.31,-0.06],["c",-0.27,-0.15,-0.27,-0.54,-0.03,-0.69],["z"]],w:5.001,h:0.81},".":{d:[["M",1.32,-3.36],["c",1.05,-0.27,2.1,0.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-0.9,-0.21,-1.5,-1.14,-1.26,-2.04],["c",0.12,-0.63,0.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"accidentals.nat":{d:[["M",0.204,-11.4],["c",0.24,-0.06,0.78,0,0.99,0.15],["c",0.03,0.03,0.03,0.48,0,2.61],["c",-0.03,1.44,-0.03,2.61,-0.03,2.61],["c",0,0.03,0.75,-0.09,1.68,-0.24],["c",0.96,-0.18,1.71,-0.27,1.74,-0.27],["c",0.15,0.03,0.27,0.15,0.36,0.3],["l",0.06,0.12],["l",0.09,8.67],["c",0.09,6.96,0.12,8.67,0.09,8.67],["c",-0.03,0.03,-0.12,0.06,-0.21,0.09],["c",-0.24,0.09,-0.72,0.09,-0.96,0],["c",-0.09,-0.03,-0.18,-0.06,-0.21,-0.09],["c",-0.03,-0.03,-0.03,-0.48,0,-2.61],["c",0.03,-1.44,0.03,-2.61,0.03,-2.61],["c",0,-0.03,-0.75,0.09,-1.68,0.24],["c",-0.96,0.18,-1.71,0.27,-1.74,0.27],["c",-0.15,-0.03,-0.27,-0.15,-0.36,-0.3],["l",-0.06,-0.15],["l",-0.09,-7.53],["c",-0.06,-4.14,-0.09,-8.04,-0.12,-8.67],["l",0,-1.11],["l",0.15,-0.06],["c",0.09,-0.03,0.21,-0.06,0.27,-0.09],["z"],["m",3.75,8.4],["c",0,-0.33,0,-0.42,-0.03,-0.42],["c",-0.12,0,-2.79,0.45,-2.79,0.48],["c",-0.03,0,-0.09,6.3,-0.09,6.33],["c",0.03,0,2.79,-0.45,2.82,-0.48],["c",0,0,0.09,-4.53,0.09,-5.91],["z"]],w:5.411,h:22.8},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",0.21,-0.12,0.54,-0.03,0.66,0.24],["c",0.06,0.12,0.06,0.21,0.06,2.31],["c",0,1.23,0,2.22,0.03,2.22],["c",0,-0,0.27,-0.12,0.6,-0.24],["c",0.69,-0.27,0.78,-0.3,0.96,-0.15],["c",0.21,0.15,0.21,0.18,0.21,1.38],["c",0,1.02,0,1.11,-0.06,1.2],["c",-0.03,0.06,-0.09,0.12,-0.12,0.15],["c",-0.06,0.03,-0.42,0.21,-0.84,0.36],["l",-0.75,0.33],["l",-0.03,2.43],["c",0,1.32,0,2.43,0.03,2.43],["c",0,-0,0.27,-0.12,0.6,-0.24],["c",0.69,-0.27,0.78,-0.3,0.96,-0.15],["c",0.21,0.15,0.21,0.18,0.21,1.38],["c",0,1.02,0,1.11,-0.06,1.2],["c",-0.03,0.06,-0.09,0.12,-0.12,0.15],["c",-0.06,0.03,-0.42,0.21,-0.84,0.36],["l",-0.75,0.33],["l",-0.03,2.52],["c",0,2.28,-0.03,2.55,-0.06,2.64],["c",-0.21,0.36,-0.72,0.36,-0.93,-0],["c",-0.03,-0.09,-0.06,-0.33,-0.06,-2.43],["l",0,-2.31],["l",-1.29,0.51],["l",-1.26,0.51],["l",0,2.43],["c",0,2.58,0,2.52,-0.15,2.67],["c",-0.06,0.09,-0.27,0.18,-0.36,0.18],["c",-0.12,-0,-0.33,-0.09,-0.39,-0.18],["c",-0.15,-0.15,-0.15,-0.09,-0.15,-2.43],["c",0,-1.23,0,-2.22,-0.03,-2.22],["c",0,-0,-0.27,0.12,-0.6,0.24],["c",-0.69,0.27,-0.78,0.3,-0.96,0.15],["c",-0.21,-0.15,-0.21,-0.18,-0.21,-1.38],["c",0,-1.02,0,-1.11,0.06,-1.2],["c",0.03,-0.06,0.09,-0.12,0.12,-0.15],["c",0.06,-0.03,0.42,-0.21,0.84,-0.36],["l",0.78,-0.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-0.03,-2.43],["c",0,-0,-0.27,0.12,-0.6,0.24],["c",-0.69,0.27,-0.78,0.3,-0.96,0.15],["c",-0.21,-0.15,-0.21,-0.18,-0.21,-1.38],["c",0,-1.02,0,-1.11,0.06,-1.2],["c",0.03,-0.06,0.09,-0.12,0.12,-0.15],["c",0.06,-0.03,0.42,-0.21,0.84,-0.36],["l",0.78,-0.33],["l",0,-2.52],["c",0,-2.28,0.03,-2.55,0.06,-2.64],["c",0.21,-0.36,0.72,-0.36,0.93,0],["c",0.03,0.09,0.06,0.33,0.06,2.43],["l",0.03,2.31],["l",1.26,-0.51],["l",1.26,-0.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,0.06,-2.55],["c",0.06,-0.12,0.12,-0.18,0.27,-0.24],["z"],["m",-0.33,10.65],["l",0,-2.43],["l",-1.29,0.51],["l",-1.26,0.51],["l",0,2.46],["l",0,2.43],["l",0.09,-0.03],["c",0.06,-0.03,0.63,-0.27,1.29,-0.51],["l",1.17,-0.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.flat":{d:[["M",-0.36,-14.07],["c",0.33,-0.06,0.87,0,1.08,0.15],["c",0.06,0.03,0.06,0.36,-0.03,5.25],["c",-0.06,2.85,-0.09,5.19,-0.09,5.19],["c",0,0.03,0.12,-0.03,0.24,-0.12],["c",0.63,-0.42,1.41,-0.66,2.19,-0.72],["c",0.81,-0.03,1.47,0.21,2.04,0.78],["c",0.57,0.54,0.87,1.26,0.93,2.04],["c",0.03,0.57,-0.09,1.08,-0.36,1.62],["c",-0.42,0.81,-1.02,1.38,-2.82,2.61],["c",-1.14,0.78,-1.44,1.02,-1.8,1.44],["c",-0.18,0.18,-0.39,0.39,-0.45,0.42],["c",-0.27,0.18,-0.57,0.15,-0.81,-0.06],["c",-0.06,-0.09,-0.12,-0.18,-0.15,-0.27],["c",-0.03,-0.06,-0.09,-3.27,-0.18,-8.34],["c",-0.09,-4.53,-0.15,-8.58,-0.18,-9.03],["l",0,-0.78],["l",0.12,-0.06],["c",0.06,-0.03,0.18,-0.09,0.27,-0.12],["z"],["m",3.18,11.01],["c",-0.21,-0.12,-0.54,-0.15,-0.81,-0.06],["c",-0.54,0.15,-0.99,0.63,-1.17,1.26],["c",-0.06,0.3,-0.12,2.88,-0.06,3.87],["c",0.03,0.42,0.03,0.81,0.06,0.9],["l",0.03,0.12],["l",0.45,-0.39],["c",0.63,-0.54,1.26,-1.17,1.56,-1.59],["c",0.3,-0.42,0.6,-0.99,0.72,-1.41],["c",0.18,-0.69,0.09,-1.47,-0.18,-2.07],["c",-0.15,-0.3,-0.33,-0.51,-0.6,-0.63],["z"]],w:6.75,h:18.801},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",0.21,-0.12,0.54,-0.03,0.66,0.24],["c",0.06,0.12,0.06,0.21,0.06,2.01],["c",0,1.05,0,1.89,0.03,1.89],["l",0.72,-0.48],["c",0.69,-0.48,0.69,-0.51,0.87,-0.51],["c",0.15,0,0.18,0.03,0.27,0.09],["c",0.21,0.15,0.21,0.18,0.21,1.41],["c",0,1.11,-0.03,1.14,-0.09,1.23],["c",-0.03,0.03,-0.48,0.39,-1.02,0.75],["l",-0.99,0.66],["l",0,2.37],["c",0,1.32,0,2.37,0.03,2.37],["l",0.72,-0.48],["c",0.69,-0.48,0.69,-0.51,0.87,-0.51],["c",0.15,0,0.18,0.03,0.27,0.09],["c",0.21,0.15,0.21,0.18,0.21,1.41],["c",0,1.11,-0.03,1.14,-0.09,1.23],["c",-0.03,0.03,-0.48,0.39,-1.02,0.75],["l",-0.99,0.66],["l",0,2.25],["c",0,1.95,0,2.28,-0.06,2.37],["c",-0.06,0.12,-0.12,0.21,-0.24,0.27],["c",-0.27,0.12,-0.54,0.03,-0.69,-0.24],["c",-0.06,-0.12,-0.06,-0.21,-0.06,-2.01],["c",0,-1.05,0,-1.89,-0.03,-1.89],["l",-0.72,0.48],["c",-0.69,0.48,-0.69,0.48,-0.87,0.48],["c",-0.15,0,-0.18,0,-0.27,-0.06],["c",-0.21,-0.15,-0.21,-0.18,-0.21,-1.41],["c",0,-1.11,0.03,-1.14,0.09,-1.23],["c",0.03,-0.03,0.48,-0.39,1.02,-0.75],["l",0.99,-0.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-0.03,-2.37],["l",-0.72,0.48],["c",-0.69,0.48,-0.69,0.48,-0.87,0.48],["c",-0.15,0,-0.18,0,-0.27,-0.06],["c",-0.21,-0.15,-0.21,-0.18,-0.21,-1.41],["c",0,-1.11,0.03,-1.14,0.09,-1.23],["c",0.03,-0.03,0.48,-0.39,1.02,-0.75],["l",0.99,-0.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,0.06,-2.4],["c",0.06,-0.12,0.12,-0.18,0.27,-0.24],["z"]],w:5.25,h:20.174},"accidentals.dblsharp":{d:[["M",-0.186,-3.96],["c",0.06,-0.03,0.12,-0.06,0.15,-0.06],["c",0.09,0,2.76,0.27,2.79,0.3],["c",0.12,0.03,0.15,0.12,0.15,0.51],["c",0.06,0.96,0.24,1.59,0.57,2.1],["c",0.06,0.09,0.15,0.21,0.18,0.24],["l",0.09,0.06],["l",0.09,-0.06],["c",0.03,-0.03,0.12,-0.15,0.18,-0.24],["c",0.33,-0.51,0.51,-1.14,0.57,-2.1],["c",0,-0.39,0.03,-0.45,0.12,-0.51],["c",0.03,0,0.66,-0.09,1.44,-0.15],["c",1.47,-0.15,1.5,-0.15,1.56,-0.03],["c",0.03,0.06,0,0.42,-0.09,1.44],["c",-0.09,0.72,-0.15,1.35,-0.15,1.38],["c",0,0.03,-0.03,0.09,-0.06,0.12],["c",-0.06,0.06,-0.12,0.09,-0.51,0.09],["c",-1.08,0.06,-1.8,0.3,-2.28,0.75],["l",-0.12,0.09],["l",0.09,0.09],["c",0.12,0.15,0.39,0.33,0.63,0.45],["c",0.42,0.18,0.96,0.27,1.68,0.33],["c",0.39,-0,0.45,0.03,0.51,0.09],["c",0.03,0.03,0.06,0.09,0.06,0.12],["c",0,0.03,0.06,0.66,0.15,1.38],["c",0.09,1.02,0.12,1.38,0.09,1.44],["c",-0.06,0.12,-0.09,0.12,-1.56,-0.03],["c",-0.78,-0.06,-1.41,-0.15,-1.44,-0.15],["c",-0.09,-0.06,-0.12,-0.12,-0.12,-0.54],["c",-0.06,-0.93,-0.24,-1.56,-0.57,-2.07],["c",-0.06,-0.09,-0.15,-0.21,-0.18,-0.24],["l",-0.09,-0.06],["l",-0.09,0.06],["c",-0.03,0.03,-0.12,0.15,-0.18,0.24],["c",-0.33,0.51,-0.51,1.14,-0.57,2.07],["c",0,0.42,-0.03,0.48,-0.12,0.54],["c",-0.03,0,-0.66,0.09,-1.44,0.15],["c",-1.47,0.15,-1.5,0.15,-1.56,0.03],["c",-0.03,-0.06,0,-0.42,0.09,-1.44],["c",0.09,-0.72,0.15,-1.35,0.15,-1.38],["c",0,-0.03,0.03,-0.09,0.06,-0.12],["c",0.06,-0.06,0.12,-0.09,0.51,-0.09],["c",0.72,-0.06,1.26,-0.15,1.68,-0.33],["c",0.24,-0.12,0.51,-0.3,0.63,-0.45],["l",0.09,-0.09],["l",-0.12,-0.09],["c",-0.48,-0.45,-1.2,-0.69,-2.28,-0.75],["c",-0.39,0,-0.45,-0.03,-0.51,-0.09],["c",-0.03,-0.03,-0.06,-0.09,-0.06,-0.12],["c",0,-0.03,-0.06,-0.63,-0.12,-1.38],["c",-0.09,-0.72,-0.15,-1.35,-0.15,-1.38],["z"]],w:7.961,h:7.977},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",0.33,-0.06,0.87,0,1.08,0.15],["c",0.06,0.03,0.06,0.6,-0.12,9.06],["c",-0.09,5.55,-0.15,9.06,-0.18,9.12],["c",-0.03,0.09,-0.09,0.18,-0.15,0.27],["c",-0.24,0.21,-0.54,0.24,-0.81,0.06],["c",-0.06,-0.03,-0.27,-0.24,-0.45,-0.42],["c",-0.36,-0.42,-0.66,-0.66,-1.8,-1.44],["c",-1.23,-0.84,-1.83,-1.32,-2.25,-1.77],["c",-0.66,-0.78,-0.96,-1.56,-0.93,-2.46],["c",0.09,-1.41,1.11,-2.58,2.4,-2.79],["c",0.3,-0.06,0.84,-0.03,1.23,0.06],["c",0.54,0.12,1.08,0.33,1.53,0.63],["c",0.12,0.09,0.24,0.15,0.24,0.12],["c",0,0,-0.12,-8.37,-0.18,-9.75],["l",0,-0.66],["l",0.12,-0.06],["c",0.06,-0.03,0.18,-0.09,0.27,-0.12],["z"],["m",-1.65,10.95],["c",-0.6,-0.18,-1.08,0.09,-1.38,0.69],["c",-0.27,0.6,-0.36,1.38,-0.18,2.07],["c",0.12,0.42,0.42,0.99,0.72,1.41],["c",0.3,0.42,0.93,1.05,1.56,1.59],["l",0.48,0.39],["l",0,-0.12],["c",0.03,-0.09,0.03,-0.48,0.06,-0.9],["c",0.03,-0.57,0.03,-1.08,0,-2.22],["c",-0.03,-1.62,-0.03,-1.62,-0.24,-2.07],["c",-0.21,-0.42,-0.6,-0.75,-1.02,-0.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-0.36,-14.07],["c",0.33,-0.06,0.87,0,1.08,0.15],["c",0.06,0.03,0.06,0.33,-0.03,4.89],["c",-0.06,2.67,-0.09,5.01,-0.09,5.22],["l",0,0.36],["l",0.15,-0.15],["c",0.36,-0.3,0.75,-0.51,1.2,-0.63],["c",0.33,-0.09,0.96,-0.09,1.26,-0.03],["c",0.27,0.09,0.63,0.27,0.87,0.45],["l",0.21,0.15],["l",0,-0.27],["c",0,-0.15,-0.03,-2.43,-0.09,-5.1],["c",-0.09,-4.56,-0.09,-4.86,-0.03,-4.89],["c",0.15,-0.12,0.39,-0.15,0.72,-0.15],["c",0.3,0,0.54,0.03,0.69,0.15],["c",0.06,0.03,0.06,0.33,-0.03,4.95],["c",-0.06,2.7,-0.09,5.04,-0.09,5.22],["l",0.03,0.3],["l",0.21,-0.15],["c",0.69,-0.48,1.44,-0.69,2.28,-0.69],["c",0.51,0,0.78,0.03,1.2,0.21],["c",1.32,0.63,2.01,2.28,1.53,3.69],["c",-0.21,0.57,-0.51,1.02,-1.05,1.56],["c",-0.42,0.42,-0.81,0.72,-1.92,1.5],["c",-1.26,0.87,-1.5,1.08,-1.86,1.5],["c",-0.39,0.45,-0.54,0.54,-0.81,0.51],["c",-0.18,0,-0.21,0,-0.33,-0.06],["l",-0.21,-0.21],["l",-0.06,-0.12],["l",-0.03,-0.99],["c",-0.03,-0.54,-0.03,-1.29,-0.06,-1.68],["l",0,-0.69],["l",-0.21,0.24],["c",-0.36,0.42,-0.75,0.75,-1.8,1.62],["c",-1.02,0.84,-1.2,0.99,-1.44,1.38],["c",-0.36,0.51,-0.54,0.6,-0.9,0.51],["c",-0.15,-0.03,-0.39,-0.27,-0.42,-0.42],["c",-0.03,-0.06,-0.09,-3.27,-0.18,-8.34],["c",-0.09,-4.53,-0.15,-8.58,-0.18,-9.03],["l",0,-0.78],["l",0.12,-0.06],["c",0.06,-0.03,0.18,-0.09,0.27,-0.12],["z"],["m",2.52,10.98],["c",-0.18,-0.09,-0.48,-0.12,-0.66,-0.06],["c",-0.39,0.15,-0.69,0.54,-0.84,1.14],["c",-0.06,0.24,-0.06,0.39,-0.09,1.74],["c",-0.03,1.44,0,2.73,0.06,3.18],["l",0.03,0.15],["l",0.27,-0.27],["c",0.93,-0.96,1.5,-1.95,1.74,-3.06],["c",0.06,-0.27,0.06,-0.39,0.06,-0.96],["c",0,-0.54,0,-0.69,-0.06,-0.93],["c",-0.09,-0.51,-0.27,-0.81,-0.51,-0.93],["z"],["m",5.43,0],["c",-0.18,-0.09,-0.51,-0.12,-0.72,-0.06],["c",-0.54,0.12,-0.96,0.63,-1.17,1.26],["c",-0.06,0.3,-0.12,2.88,-0.06,3.9],["c",0.03,0.42,0.03,0.81,0.06,0.9],["l",0.03,0.12],["l",0.36,-0.3],["c",0.42,-0.36,1.02,-0.96,1.29,-1.29],["c",0.36,-0.45,0.66,-0.99,0.81,-1.41],["c",0.42,-1.23,0.15,-2.76,-0.6,-3.12],["z"]],w:11.613,h:18.804},"clefs.C":{d:[["M",0.06,-14.94],["l",0.09,-0.06],["l",1.92,0],["l",1.92,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,14.85],["l",0,14.82],["l",-0.06,0.09],["l",-0.09,0.06],["l",-1.92,0],["l",-1.92,0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",0.09,-0.06,0.09,-0.06,0.57,-0.06],["c",0.45,0,0.45,0,0.54,0.06],["l",0.06,0.09],["l",0,7.14],["l",0,7.11],["l",0.09,-0.06],["c",0.18,-0.18,0.72,-0.84,0.96,-1.2],["c",0.3,-0.45,0.66,-1.17,0.84,-1.65],["c",0.36,-0.9,0.57,-1.83,0.6,-2.79],["c",0.03,-0.48,0.03,-0.54,0.09,-0.63],["c",0.12,-0.18,0.36,-0.21,0.54,-0.12],["c",0.18,0.09,0.21,0.15,0.24,0.66],["c",0.06,0.87,0.21,1.56,0.57,2.22],["c",0.51,1.02,1.26,1.68,2.22,1.92],["c",0.21,0.06,0.33,0.06,0.78,0.06],["c",0.45,-0,0.57,-0,0.84,-0.06],["c",0.45,-0.12,0.81,-0.33,1.08,-0.6],["c",0.57,-0.57,0.87,-1.41,0.99,-2.88],["c",0.06,-0.54,0.06,-3,0,-3.57],["c",-0.21,-2.58,-0.84,-3.87,-2.16,-4.5],["c",-0.48,-0.21,-1.17,-0.36,-1.77,-0.36],["c",-0.69,0,-1.29,0.27,-1.5,0.72],["c",-0.06,0.15,-0.06,0.21,-0.06,0.42],["c",0,0.24,0,0.3,0.06,0.45],["c",0.12,0.24,0.24,0.39,0.63,0.66],["c",0.42,0.3,0.57,0.48,0.69,0.72],["c",0.06,0.15,0.06,0.21,0.06,0.48],["c",0,0.39,-0.03,0.63,-0.21,0.96],["c",-0.3,0.6,-0.87,1.08,-1.5,1.26],["c",-0.27,0.06,-0.87,0.06,-1.14,0],["c",-0.78,-0.24,-1.44,-0.87,-1.65,-1.68],["c",-0.12,-0.42,-0.09,-1.17,0.09,-1.71],["c",0.51,-1.65,1.98,-2.82,3.81,-3.09],["c",0.84,-0.09,2.46,0.03,3.51,0.27],["c",2.22,0.57,3.69,1.8,4.44,3.75],["c",0.36,0.93,0.57,2.13,0.57,3.36],["c",-0,1.44,-0.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-0.48,-0,-0.51,-0,-0.75,-0.09],["c",-0.15,-0.03,-0.48,-0.21,-0.78,-0.36],["c",-0.69,-0.36,-0.87,-0.42,-1.26,-0.42],["c",-0.27,-0,-0.3,-0,-0.51,0.09],["c",-0.57,0.3,-0.81,0.9,-0.81,2.1],["c",-0,1.23,0.24,1.83,0.81,2.13],["c",0.21,0.09,0.24,0.09,0.51,0.09],["c",0.39,-0,0.57,-0.06,1.26,-0.42],["c",0.3,-0.15,0.63,-0.33,0.78,-0.36],["c",0.24,-0.09,0.27,-0.09,0.75,-0.09],["c",2.01,-0,4.02,0.93,5.28,2.4],["c",0.9,1.11,1.38,2.4,1.38,3.84],["c",-0,1.5,-0.3,2.88,-0.84,3.96],["c",-0.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,0.24,-2.67,0.36,-3.51,0.27],["c",-1.83,-0.27,-3.3,-1.44,-3.81,-3.09],["c",-0.18,-0.54,-0.21,-1.29,-0.09,-1.74],["c",0.15,-0.6,0.63,-1.2,1.23,-1.47],["c",0.36,-0.18,0.57,-0.21,0.99,-0.21],["c",0.42,0,0.63,0.03,1.02,0.21],["c",0.42,0.21,0.84,0.63,1.05,1.05],["c",0.18,0.36,0.21,0.6,0.21,0.96],["c",-0,0.3,-0,0.36,-0.06,0.51],["c",-0.12,0.24,-0.27,0.42,-0.69,0.72],["c",-0.57,0.42,-0.69,0.63,-0.69,1.08],["c",-0,0.24,-0,0.3,0.06,0.45],["c",0.12,0.21,0.3,0.39,0.57,0.54],["c",0.42,0.18,0.87,0.21,1.53,0.15],["c",1.08,-0.15,1.8,-0.57,2.34,-1.32],["c",0.54,-0.75,0.84,-1.83,0.99,-3.51],["c",0.06,-0.57,0.06,-3.03,-0,-3.57],["c",-0.12,-1.47,-0.42,-2.31,-0.99,-2.88],["c",-0.27,-0.27,-0.63,-0.48,-1.08,-0.6],["c",-0.27,-0.06,-0.39,-0.06,-0.84,-0.06],["c",-0.45,0,-0.57,0,-0.78,0.06],["c",-1.14,0.27,-2.01,1.17,-2.46,2.49],["c",-0.21,0.57,-0.3,0.99,-0.33,1.65],["c",-0.03,0.51,-0.06,0.57,-0.24,0.66],["c",-0.12,0.06,-0.27,0.06,-0.39,0],["c",-0.21,-0.09,-0.21,-0.15,-0.24,-0.75],["c",-0.09,-1.92,-0.78,-3.72,-2.01,-5.19],["c",-0.18,-0.21,-0.36,-0.42,-0.39,-0.45],["l",-0.09,-0.06],["l",-0,7.11],["l",-0,7.14],["l",-0.06,0.09],["c",-0.09,0.06,-0.09,0.06,-0.54,0.06],["c",-0.48,0,-0.48,0,-0.57,-0.06],["l",-0.06,-0.09],["l",-0,-14.82],["l",-0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",0.36,-0.03,1.65,0,2.13,0.03],["c",3.6,0.42,6.03,2.1,6.93,4.86],["c",0.27,0.84,0.36,1.5,0.36,2.58],["c",0,0.9,-0.03,1.35,-0.18,2.16],["c",-0.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-0.39,0.18,-0.75,0.33,-0.81,0.36],["c",-0.06,0.03,-0.15,0.06,-0.18,0.06],["c",-0.15,0,-0.33,-0.18,-0.33,-0.33],["c",0,-0.15,0.06,-0.21,0.51,-0.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",0.51,-0.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",0.06,-0.42,0.06,-1.77,0,-2.19],["c",-0.24,-2.01,-0.93,-3.63,-2.04,-4.71],["c",-0.63,-0.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-0.39,-3.36,0.15,-4.56,1.44],["c",-0.54,0.6,-1.05,1.47,-1.32,2.22],["l",-0.09,0.21],["l",0.24,-0.12],["c",0.39,-0.21,0.63,-0.24,1.11,-0.24],["c",0.3,0,0.45,0,0.66,0.06],["c",1.92,0.48,2.85,2.55,1.95,4.38],["c",-0.45,0.99,-1.41,1.62,-2.46,1.71],["c",-1.47,0.09,-2.91,-0.87,-3.39,-2.25],["c",-0.18,-0.57,-0.21,-1.32,-0.03,-2.28],["c",0.39,-2.25,1.83,-4.2,3.81,-5.19],["c",0.69,-0.36,1.59,-0.6,2.37,-0.69],["z"],["m",11.58,2.52],["c",0.84,-0.21,1.71,0.3,1.89,1.14],["c",0.3,1.17,-0.72,2.19,-1.89,1.89],["c",-0.99,-0.21,-1.5,-1.32,-1.02,-2.25],["c",0.18,-0.39,0.6,-0.69,1.02,-0.78],["z"],["m",0,7.5],["c",0.84,-0.21,1.71,0.3,1.89,1.14],["c",0.21,0.87,-0.3,1.71,-1.14,1.89],["c",-0.87,0.21,-1.71,-0.3,-1.89,-1.14],["c",-0.21,-0.84,0.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",0.09,-0.09,0.24,-0.06,0.36,0],["c",0.12,0.09,0.57,0.6,0.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",0.21,1.56,0.03,3.27,-0.45,4.86],["c",-0.69,2.31,-1.92,4.47,-4.23,7.44],["c",-0.3,0.39,-0.57,0.72,-0.6,0.75],["c",-0.03,0.06,0,0.15,0.18,0.78],["c",0.54,1.68,1.38,4.44,1.68,5.49],["l",0.09,0.42],["l",0.39,-0],["c",1.47,0.09,2.76,0.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",0.09,0.45,0.12,1.29,0.06,1.74],["c",-0.09,1.02,-0.33,1.83,-0.75,2.73],["c",-0.84,1.71,-2.28,3.06,-4.02,3.72],["l",-0.33,0.12],["l",0.03,1.26],["c",0,1.74,-0.06,3.63,-0.21,4.62],["c",-0.45,3.06,-2.19,5.49,-4.47,6.21],["c",-0.57,0.18,-0.9,0.21,-1.59,0.21],["c",-0.69,-0,-1.02,-0.03,-1.65,-0.21],["c",-1.14,-0.27,-2.13,-0.84,-2.94,-1.65],["c",-0.99,-0.99,-1.56,-2.16,-1.71,-3.54],["c",-0.09,-0.81,0.06,-1.53,0.45,-2.13],["c",0.63,-0.99,1.83,-1.56,3,-1.53],["c",1.5,0.09,2.64,1.32,2.73,2.94],["c",0.06,1.47,-0.93,2.7,-2.37,2.97],["c",-0.45,0.06,-0.84,0.03,-1.29,-0.09],["l",-0.21,-0.09],["l",0.09,0.12],["c",0.39,0.54,0.78,0.93,1.32,1.26],["c",1.35,0.87,3.06,1.02,4.35,0.36],["c",1.44,-0.72,2.52,-2.28,2.97,-4.35],["c",0.15,-0.66,0.24,-1.5,0.3,-3.03],["c",0.03,-0.84,0.03,-2.94,-0,-3],["c",-0.03,-0,-0.18,-0,-0.36,0.03],["c",-0.66,0.12,-0.99,0.12,-1.83,0.12],["c",-1.05,-0,-1.71,-0.06,-2.61,-0.3],["c",-4.02,-0.99,-7.11,-4.35,-7.8,-8.46],["c",-0.12,-0.66,-0.12,-0.99,-0.12,-1.83],["c",-0,-0.84,-0,-1.14,0.15,-1.92],["c",0.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",0.54,-0.66,0.96,-1.2,0.96,-1.23],["c",-0,-0.03,-0.09,-0.33,-0.18,-0.69],["c",-0.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-0.12,-1.38,-0.15,-3.09,-0.06,-3.96],["c",0.33,-2.67,1.38,-5.07,3.12,-7.08],["c",0.36,-0.42,0.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-0.15,-0.3,-0.3,-0.54,-0.3,-0.54],["c",-0.03,0,-0.18,0.09,-0.3,0.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-0.06,0.54,-0.06,1.41,-0.03,1.89],["c",0.09,1.29,0.48,3.12,1.08,5.22],["c",0.15,0.42,0.24,0.78,0.24,0.81],["c",0,0.03,0.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",0.09,-0.57,0.12,-1.74,0.06,-2.37],["c",-0.09,-1.23,-0.27,-1.92,-0.87,-3.12],["z"],["m",-2.94,20.7],["c",-0.21,-0.72,-0.39,-1.32,-0.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-0.03,0.21,-0.03,0.69,-0.03,1.08],["c",0,0.69,0,0.75,0.06,1.11],["c",0.12,0.54,0.27,0.99,0.51,1.47],["c",0.69,1.38,1.83,2.55,3.42,3.42],["c",0.96,0.54,2.07,0.9,3.21,1.08],["c",0.78,0.12,2.04,0.12,2.94,-0.03],["c",0.51,-0.06,0.45,-0.03,0.42,-0.3],["c",-0.24,-3.33,-0.72,-6.33,-1.62,-10.08],["c",-0.09,-0.39,-0.18,-0.75,-0.18,-0.78],["c",-0.03,-0.03,-0.42,-0,-0.81,0.09],["c",-0.9,0.18,-1.65,0.57,-2.22,1.14],["c",-0.72,0.72,-1.08,1.65,-1.05,2.64],["c",0.06,0.96,0.48,1.83,1.23,2.58],["c",0.36,0.36,0.72,0.63,1.17,0.9],["c",0.33,0.18,0.36,0.21,0.42,0.33],["c",0.18,0.42,-0.18,0.9,-0.6,0.87],["c",-0.18,-0.03,-0.84,-0.36,-1.26,-0.63],["c",-0.78,-0.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-0.99,-6.42,1.71,-8.19],["c",0.3,-0.21,0.81,-0.48,1.17,-0.63],["c",0.3,-0.09,1.02,-0.3,1.14,-0.3],["c",0.06,-0,0.09,-0,0.09,-0.03],["c",0.03,-0.03,-0.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-0.18,-0.03,-0.36,-0.06,-0.39,-0.06],["c",-0.03,0,0,0.21,0.18,1.02],["c",0.75,3.18,1.26,6.3,1.5,9.09],["c",0.06,0.72,0,0.69,0.51,0.42],["c",0.78,-0.36,1.44,-0.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,0.3,-5.55],["c",-0.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",0.09,-0.06],["l",1.53,0],["l",1.53,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,7.35],["l",0,7.32],["l",-0.06,0.09],["l",-0.09,0.06],["l",-1.53,-0],["l",-1.53,-0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",0.09,-0.06],["l",1.53,0],["l",1.53,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,7.35],["l",0,7.32],["l",-0.06,0.09],["l",-0.09,0.06],["l",-1.53,-0],["l",-1.53,-0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:9.99,h:14.97},"clefs.tab":{d:[["M",26.88,-28.88],["c",0.32,-0.12,0.88,0.12,1.04,0.48],["c",0.12,0.28,0.12,0.32,-0.24,0.72],["c",-1.04,1.08,-2.48,1.92,-3.92,2.28],["c",-1.16,0.32,-2.28,0.32,-3.4,0.04],["l",-0.08,-0.04],["l",-0.24,1.32],["c",-0.44,2.64,-1,5.68,-1.28,6.72],["c",-0.56,2.2,-1.68,4.24,-3.04,5.52],["c",-0.76,0.76,-1.56,1.2,-2.48,1.44],["c",-0.24,0.08,-0.44,0.08,-0.88,0.08],["c",-0.72,0,-1.04,-0.04,-1.64,-0.36],["c",-0.52,-0.24,-0.88,-0.52,-1.84,-1.32],["c",-0.4,-0.32,-0.88,-0.68,-1,-0.76],["c",-0.28,-0.2,-0.36,-0.32,-0.32,-0.6],["c",0.08,-0.36,0.48,-0.8,0.8,-0.88],["c",0.24,-0.04,0.44,0.08,1.2,0.76],["c",0.64,0.56,0.96,0.76,1.24,0.92],["c",0.88,0.44,1.84,0.28,2.6,-0.48],["c",0.84,-0.8,1.4,-2.16,1.64,-4],["c",0.04,-0.24,0.12,-0.88,0.12,-1.48],["c",0.12,-2.08,0.44,-5.08,0.76,-7.32],["c",0.08,-0.44,0.12,-0.84,0.12,-0.84],["c",-0.04,-0.04,-1.08,-0.16,-1.36,-0.16],["c",-0.76,0,-1.76,0.16,-2.4,0.44],["c",-1.16,0.4,-1.8,1.04,-2,1.88],["c",-0.24,0.84,0.12,1.68,0.88,2.2],["c",0.16,0.08,0.2,0.16,0.24,0.32],["c",0.12,0.36,0.08,0.76,-0.12,1],["c",-0.04,0.08,-0.16,0.12,-0.36,0.2],["c",-0.96,0.28,-1.92,0.2,-2.8,-0.24],["c",-0.72,-0.36,-1.28,-0.88,-1.6,-1.52],["c",-0.52,-1,-0.44,-2.32,0.2,-3.36],["c",0.36,-0.56,1.12,-1.24,1.88,-1.64],["c",1.56,-0.76,3.84,-1.2,6.4,-1.2],["c",0.92,0,1.04,0,1.44,0.08],["c",0.6,0.12,1.48,0.4,2.76,0.8],["c",1.96,0.64,2.44,0.76,3.4,0.72],["c",1.36,-0.08,2.72,-0.6,3.92,-1.48],["c",0.16,-0.12,0.32,-0.24,0.36,-0.24],["z"],["m",-7.84,17.4],["c",0.28,-0.04,1.08,0,1.44,0.08],["c",0.64,0.16,1.2,0.56,1.32,0.92],["c",0.04,0.12,0.04,0.2,0,0.36],["c",0,0.12,-0.04,0.76,-0.08,1.44],["c",-0.12,2.92,-0.32,7.68,-0.52,11.04],["c",-0.08,2.04,-0.08,2.36,0.04,2.68],["c",0.12,0.24,0.2,0.32,0.4,0.4],["c",0.32,0.16,0.72,0.08,1.64,-0.36],["c",0.76,-0.36,0.88,-0.4,1,-0.32],["c",0.12,0.08,0.24,0.4,0.24,0.6],["c",0,0.44,-0.2,0.68,-0.6,0.84],["c",-0.16,0.04,-0.52,0.2,-0.8,0.36],["c",-1.56,0.8,-1.84,0.92,-2.4,0.96],["c",-0.6,0.04,-1.04,-0.12,-1.44,-0.52],["c",-0.52,-0.56,-0.88,-1.6,-1.36,-4.16],["c",-0.32,-1.64,-0.48,-2.76,-0.72,-5],["l",0,-0.24],["l",-0.48,0.6],["c",-0.8,1,-1.76,2.12,-2.6,3],["c",-0.2,0.24,-0.36,0.4,-0.36,0.44],["c",0,0,0.08,0.12,0.2,0.24],["c",0.32,0.44,0.8,0.76,1.4,0.92],["c",0.24,0.08,0.4,0.08,0.92,0.08],["l",0.64,0.04],["l",0.08,0.16],["c",0.2,0.36,0.04,0.96,-0.28,1.2],["c",-0.24,0.16,-1.24,0.36,-1.88,0.36],["c",-1.12,0,-2.12,-0.4,-2.64,-1.12],["l",-0.16,-0.2],["l",-0.6,0.56],["c",-1.32,1.16,-2.04,1.76,-2.88,2.32],["c",-1.04,0.68,-2,1.12,-2.8,1.24],["c",-0.92,0.16,-1.6,0.04,-2.6,-0.56],["c",-0.28,-0.16,-0.68,-0.36,-0.88,-0.48],["c",-0.32,-0.16,-0.4,-0.24,-0.44,-0.32],["c",-0.16,-0.36,0.2,-1.04,0.6,-1.24],["c",0.32,-0.16,0.44,-0.12,1.2,0.24],["c",0.8,0.4,1.12,0.52,1.6,0.48],["c",1.16,-0.12,2.36,-0.92,4.32,-3.08],["c",3.56,-3.8,6.12,-7.92,7.6,-12.2],["c",0.2,-0.6,0.32,-0.84,0.56,-1.08],["c",0.28,-0.32,0.8,-0.6,1.32,-0.68],["z"],["m",-5.32,21.4],["c",0.24,0,0.92,-0.04,1.56,0],["c",4.36,0.04,7.16,1,8,2.76],["c",0.6,1.32,0.16,3.2,-1.08,4.56],["c",-0.32,0.36,-0.76,0.76,-1.12,1],["c",-0.12,0.08,-0.24,0.12,-0.24,0.16],["c",0,0,0.24,0.04,0.56,0.12],["c",1.64,0.4,2.68,1.08,3.16,2.12],["c",0.36,0.72,0.4,1.76,0.12,2.8],["c",-0.16,0.48,-0.6,1.4,-0.92,1.8],["c",-1.16,1.56,-2.8,2.56,-4.72,3],["c",-0.48,0.08,-0.64,0.08,-1.28,0.08],["c",-0.6,0,-0.88,0,-1.12,-0.04],["c",-1.12,-0.24,-1.96,-0.68,-2.76,-1.48],["c",-0.44,-0.44,-0.6,-0.68,-0.6,-0.84],["c",0,-0.08,0.04,-0.2,0.08,-0.32],["c",0.24,-0.44,0.92,-0.8,1.24,-0.64],["c",0.04,0.04,0.2,0.16,0.36,0.32],["c",0.52,0.56,1.32,0.76,2.16,0.6],["c",1.4,-0.28,2.64,-1.36,3.08,-2.68],["c",0.64,-2.04,-0.64,-3.4,-3.44,-3.56],["c",-0.28,0,-0.48,-0.04,-0.56,-0.08],["c",-0.2,-0.12,-0.28,-0.68,-0.08,-1.04],["c",0.16,-0.36,0.32,-0.44,0.8,-0.48],["c",0.76,-0.08,1.48,-0.56,2,-1.32],["c",0.64,-0.96,0.72,-2.12,0.24,-3.08],["c",-0.16,-0.28,-0.6,-0.72,-0.92,-0.92],["c",-0.44,-0.28,-1.24,-0.6,-1.8,-0.68],["l",-0.16,-0.04],["l",-0.08,0.64],["c",-0.72,3.92,-1.52,8.32,-1.72,9],["c",-0.44,1.8,-1.24,3.48,-2.2,4.8],["c",-0.4,0.48,-1.08,1.2,-1.52,1.52],["c",-0.4,0.32,-1.12,0.64,-1.52,0.76],["c",-0.44,0.12,-1.28,0.12,-1.68,0.04],["c",-0.6,-0.16,-1.16,-0.52,-2.04,-1.28],["c",-0.32,-0.2,-0.68,-0.52,-0.84,-0.64],["c",-0.4,-0.28,-0.44,-0.44,-0.28,-0.84],["c",0.16,-0.24,0.36,-0.48,0.56,-0.6],["c",0.36,-0.16,0.48,-0.12,1.16,0.44],["c",1.04,0.8,1.44,1,2.2,0.96],["c",0.6,-0.04,1.08,-0.28,1.56,-0.72],["c",1.16,-1.2,1.84,-3.8,1.84,-7.16],["c",0,-0.8,0.04,-1.48,0.16,-2.72],["c",0.08,-0.92,0.32,-2.68,0.44,-3.44],["c",0.08,-0.32,0.08,-0.56,0.08,-0.56],["c",0,0,-0.16,0.04,-0.28,0.12],["c",-1.92,0.76,-2.88,2.2,-2.32,3.4],["c",0.12,0.2,0.24,0.32,0.36,0.44],["c",0.32,0.28,0.4,0.36,0.44,0.52],["c",0.08,0.32,0,0.84,-0.2,1.04],["c",-0.12,0.16,-0.72,0.28,-1.28,0.32],["c",-1.36,0.04,-2.68,-0.64,-3.24,-1.76],["c",-0.28,-0.6,-0.36,-1.2,-0.2,-1.92],["c",0.08,-0.36,0.28,-0.88,0.52,-1.24],["c",1.16,-1.72,4,-2.96,7.52,-3.24],["z"]],w:26.191,h:57.767},"dots.dot":{d:[["M",1.32,-1.68],["c",0.09,-0.03,0.27,-0.06,0.39,-0.06],["c",0.96,0,1.74,0.78,1.74,1.71],["c",0,0.96,-0.78,1.74,-1.71,1.74],["c",-0.96,0,-1.74,-0.78,-1.74,-1.71],["c",0,-0.78,0.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"flags.d8th":{d:[["M",5.67,-21.63],["c",0.24,-0.12,0.54,-0.06,0.69,0.15],["c",0.06,0.06,0.21,0.36,0.39,0.66],["c",0.84,1.77,1.26,3.36,1.32,5.1],["c",0.03,1.29,-0.21,2.37,-0.81,3.63],["c",-0.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-0.63,0.93,-1.11,1.92,-1.38,2.79],["c",-0.15,0.54,-0.27,1.35,-0.27,1.8],["l",0,0.15],["l",-0.21,-0],["l",-0.21,-0],["l",0,-3.75],["l",0,-3.75],["l",0.21,0],["l",0.21,0],["l",0.48,-0.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",0.78,-0.81,1.32,-1.53,1.71,-2.31],["c",0.45,-0.93,0.6,-1.74,0.51,-2.88],["c",-0.12,-1.56,-0.63,-3.18,-1.47,-4.68],["c",-0.12,-0.21,-0.15,-0.33,-0.06,-0.51],["c",0.06,-0.15,0.15,-0.24,0.33,-0.33],["z"]],w:8.492,h:21.691},"flags.d16th":{d:[["M",6.84,-22.53],["c",0.27,-0.12,0.57,-0.06,0.72,0.15],["c",0.15,0.15,0.33,0.87,0.45,1.56],["c",0.06,0.33,0.06,1.35,0,1.65],["c",-0.06,0.33,-0.15,0.78,-0.27,1.11],["c",-0.12,0.33,-0.45,0.96,-0.66,1.32],["l",-0.18,0.27],["l",0.09,0.18],["c",0.48,1.02,0.72,2.25,0.69,3.3],["c",-0.06,1.23,-0.42,2.28,-1.26,3.45],["c",-0.57,0.87,-0.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-0.42,0.84,-0.66,1.8,-0.66,2.55],["l",0,0.15],["l",-0.21,-0],["l",-0.21,-0],["l",0,-7.5],["l",0,-7.5],["l",0.21,-0],["l",0.21,-0],["l",0,1.14],["l",0,1.11],["l",0.27,-0.15],["c",1.11,-0.57,1.77,-0.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",0.03,-0.18,0.03,-0.39,0.03,-0.78],["c",0,-0.6,-0.03,-0.93,-0.24,-1.5],["c",-0.06,-0.18,-0.12,-0.39,-0.15,-0.45],["c",-0.03,-0.24,0.12,-0.48,0.36,-0.6],["z"],["m",-0.63,7.5],["c",-0.06,-0.18,-0.15,-0.36,-0.15,-0.36],["c",-0.03,0,-0.03,0.03,-0.06,0.06],["c",-0.06,0.12,-0.96,1.02,-1.95,1.98],["c",-0.63,0.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-0.03,0.18,-0.03,0.54,-0.06,0.99],["l",0,0.69],["l",0.18,-0.09],["c",0.93,-0.54,2.1,-1.29,2.82,-1.83],["c",0.69,-0.51,1.02,-0.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.794,-29.13],["c",0.27,-0.12,0.57,-0.06,0.72,0.15],["c",0.12,0.12,0.27,0.63,0.36,1.11],["c",0.33,1.59,0.06,3.06,-0.81,4.47],["l",-0.18,0.27],["l",0.09,0.15],["c",0.12,0.24,0.33,0.69,0.45,1.05],["c",0.63,1.83,0.45,3.57,-0.57,5.22],["l",-0.18,0.3],["l",0.15,0.27],["c",0.42,0.87,0.6,1.71,0.57,2.61],["c",-0.06,1.29,-0.48,2.46,-1.35,3.78],["c",-0.54,0.81,-0.93,1.29,-2.46,3],["c",-0.51,0.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,0.33],["l",-0.21,-0],["l",-0.21,-0],["l",0,-11.25],["l",0,-11.25],["l",0.21,0],["l",0.21,0],["l",0,1.35],["l",0.03,1.35],["l",0.78,-0.39],["c",1.38,-0.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",0.15,-0.48,0.18,-0.72,0.18,-1.29],["c",0,-0.57,-0.06,-0.9,-0.24,-1.47],["c",-0.06,-0.18,-0.12,-0.39,-0.15,-0.45],["c",-0.03,-0.24,0.12,-0.48,0.36,-0.6],["z"],["m",-0.63,7.2],["c",-0.09,-0.18,-0.12,-0.21,-0.12,-0.15],["c",-0.03,0.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-0.84,0.96,-1.38,1.86,-1.68,2.76],["c",-0.21,0.57,-0.27,0.99,-0.3,1.65],["l",0,0.54],["l",0.66,-0.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",0.06,-0.39,0.06,-1.2,-0.03,-1.65],["c",-0.06,-0.39,-0.24,-0.9,-0.36,-1.2],["z"],["m",-0.06,7.2],["c",-0.06,-0.15,-0.12,-0.33,-0.15,-0.45],["l",-0.06,-0.18],["l",-0.18,0.21],["l",-1.83,1.83],["c",-0.87,0.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-0.06,0.3,-0.06,0.51,-0.09,0.93],["l",0,0.57],["l",0.09,-0.06],["c",0.75,-0.45,1.89,-1.26,2.52,-1.74],["c",0.81,-0.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.475,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",0.3,-0.12,0.66,-0.03,0.78,0.24],["c",0.18,0.33,0.27,2.1,0.15,2.64],["c",-0.09,0.39,-0.21,0.78,-0.39,1.08],["l",-0.15,0.3],["l",0.09,0.27],["c",0.03,0.12,0.09,0.45,0.12,0.69],["c",0.27,1.44,0.18,2.55,-0.3,3.6],["l",-0.12,0.33],["l",0.06,0.42],["c",0.27,1.35,0.33,2.82,0.21,3.63],["c",-0.12,0.6,-0.3,1.23,-0.57,1.8],["l",-0.15,0.27],["l",0.03,0.42],["c",0.06,1.02,0.06,2.7,0.03,3.06],["c",-0.15,1.47,-0.66,2.76,-1.74,4.41],["c",-0.45,0.69,-0.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-0.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,0.42],["l",-0.21,-0],["l",-0.21,-0],["l",0,-15],["l",0,-15],["l",0.21,-0],["l",0.21,-0],["l",0,1.86],["l",0,1.89],["c",0,-0,0.21,-0.03,0.45,-0.09],["c",2.22,-0.39,4.08,-1.11,5.19,-2.01],["c",0.63,-0.54,1.02,-1.14,1.2,-1.8],["c",0.06,-0.3,0.06,-1.14,-0.03,-1.65],["c",-0.03,-0.18,-0.06,-0.39,-0.09,-0.48],["c",-0.03,-0.24,0.12,-0.48,0.36,-0.6],["z"],["m",-0.45,6.15],["c",-0.03,-0.18,-0.06,-0.42,-0.06,-0.54],["l",-0.03,-0.18],["l",-0.33,0.3],["c",-0.42,0.36,-0.87,0.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-0.75,0.69,-1.23,1.44,-1.47,2.19],["c",-0.15,0.45,-0.18,0.63,-0.21,1.35],["l",0,0.66],["l",0.39,-0.18],["c",1.83,-0.9,3.45,-1.95,4.47,-2.91],["c",0.93,-0.9,1.53,-1.83,1.74,-2.82],["c",0.06,-0.33,0.06,-0.87,0.03,-1.32],["z"],["m",-0.27,4.86],["c",-0.03,-0.21,-0.06,-0.36,-0.06,-0.36],["c",0,-0.03,-0.12,0.09,-0.24,0.24],["c",-0.39,0.48,-0.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-0.66,0.87,-1.08,1.74,-1.29,2.58],["c",-0.09,0.42,-0.15,0.87,-0.15,1.44],["l",0,0.54],["l",0.48,-0.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",0.03,-0.39,0.03,-1.17,-0.03,-1.71],["z"],["m",-0.66,7.68],["c",0.03,-0.15,0.03,-0.6,0.03,-0.99],["l",0,-0.72],["l",-0.27,0.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-0.51,1.02,-0.72,1.77,-0.75,2.91],["c",0,0.63,0,0.63,0.06,0.6],["c",0.03,-0.03,0.3,-0.27,0.63,-0.54],["c",0.66,-0.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",0.18,-0.09,0.33,-0.12,0.48,-0.06],["c",0.18,0.09,14.01,8.04,14.1,8.1],["c",0.12,0.12,0.18,0.33,0.18,0.51],["c",-0.03,0.21,-0.15,0.39,-0.36,0.48],["c",-0.18,0.09,-0.33,0.12,-0.48,0.06],["c",-0.18,-0.09,-14.01,-8.04,-14.1,-8.1],["c",-0.12,-0.12,-0.18,-0.33,-0.18,-0.51],["c",0.03,-0.21,0.15,-0.39,0.36,-0.48],["z"]],w:15.12,h:9.212},"flags.u8th":{d:[["M",-0.42,3.75],["l",0,-3.75],["l",0.21,0],["l",0.21,0],["l",0,0.18],["c",0,0.3,0.06,0.84,0.12,1.23],["c",0.24,1.53,0.9,3.12,2.13,5.16],["l",0.99,1.59],["c",0.87,1.44,1.38,2.34,1.77,3.09],["c",0.81,1.68,1.2,3.06,1.26,4.53],["c",0.03,1.53,-0.21,3.27,-0.75,5.01],["c",-0.21,0.69,-0.51,1.5,-0.6,1.59],["c",-0.09,0.12,-0.27,0.21,-0.42,0.21],["c",-0.15,0,-0.42,-0.12,-0.51,-0.21],["c",-0.15,-0.18,-0.18,-0.42,-0.09,-0.66],["c",0.15,-0.33,0.45,-1.2,0.57,-1.62],["c",0.42,-1.38,0.6,-2.58,0.6,-3.9],["c",0,-0.66,0,-0.81,-0.06,-1.11],["c",-0.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-0.42,-0.45],["l",-0.21,0],["l",-0.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-0.42,7.5],["l",0,-7.5],["l",0.21,0],["l",0.21,0],["l",0,0.39],["c",0.06,1.08,0.39,2.19,0.99,3.39],["c",0.45,0.9,0.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",0.45,0.93,0.72,1.8,0.87,2.64],["c",0.06,0.51,0.06,1.5,0,1.92],["c",-0.12,0.6,-0.3,1.2,-0.54,1.71],["l",-0.09,0.24],["l",0.18,0.45],["c",0.51,1.2,0.72,2.22,0.69,3.42],["c",-0.06,1.53,-0.39,3.03,-0.99,4.53],["c",-0.3,0.75,-0.36,0.81,-0.57,0.9],["c",-0.15,0.09,-0.33,0.06,-0.48,-0],["c",-0.18,-0.09,-0.27,-0.18,-0.33,-0.33],["c",-0.09,-0.18,-0.06,-0.3,0.12,-0.75],["c",0.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-0.6,-0.03,-1.05,-0.18,-1.59],["c",-0.3,-1.2,-0.99,-2.4,-2.25,-3.87],["c",-0.42,-0.48,-1.53,-1.62,-2.19,-2.22],["l",-0.45,-0.42],["l",-0.03,1.11],["l",0,1.11],["l",-0.21,-0],["l",-0.21,-0],["l",0,-7.5],["z"],["m",1.65,0.09],["c",-0.3,-0.3,-0.69,-0.72,-0.9,-0.87],["l",-0.33,-0.33],["l",0,0.15],["c",0,0.3,0.06,0.81,0.15,1.26],["c",0.27,1.29,0.87,2.61,2.04,4.29],["c",0.15,0.24,0.6,0.87,0.96,1.38],["l",1.08,1.53],["l",0.42,0.63],["c",0.03,0,0.12,-0.36,0.21,-0.72],["c",0.06,-0.33,0.06,-1.2,0,-1.62],["c",-0.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-0.42,11.247],["l",0,-11.25],["l",0.21,0],["l",0.21,0],["l",0,0.36],["c",0.09,1.68,0.69,3.27,2.07,5.46],["l",0.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",0.48,1.02,0.78,1.92,0.93,2.88],["c",0.06,0.48,0.06,1.5,0,1.89],["c",-0.09,0.42,-0.21,0.87,-0.36,1.26],["l",-0.12,0.3],["l",0.15,0.39],["c",0.69,1.56,0.84,2.88,0.54,4.38],["c",-0.09,0.45,-0.27,1.08,-0.45,1.47],["l",-0.12,0.24],["l",0.18,0.36],["c",0.33,0.72,0.57,1.56,0.69,2.34],["c",0.12,1.02,-0.06,2.52,-0.42,3.84],["c",-0.27,0.93,-0.75,2.13,-0.93,2.31],["c",-0.18,0.15,-0.45,0.18,-0.66,0.09],["c",-0.18,-0.09,-0.27,-0.18,-0.33,-0.33],["c",-0.09,-0.18,-0.06,-0.3,0.06,-0.6],["c",0.21,-0.36,0.42,-0.9,0.57,-1.38],["c",0.51,-1.41,0.69,-3.06,0.48,-4.08],["c",-0.15,-0.81,-0.57,-1.68,-1.2,-2.55],["c",-0.72,-0.99,-1.83,-2.13,-3.3,-3.33],["l",-0.48,-0.42],["l",-0.03,1.53],["l",0,1.56],["l",-0.21,0],["l",-0.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-0.27,-0.3,-0.54,-0.6,-0.66,-0.72],["l",-0.18,-0.21],["l",0,0.42],["c",0.06,0.87,0.24,1.74,0.66,2.67],["c",0.36,0.87,0.96,1.86,1.92,3.18],["c",0.21,0.33,0.63,0.87,0.87,1.23],["c",0.27,0.39,0.6,0.84,0.75,1.08],["l",0.27,0.39],["l",0.03,-0.12],["c",0.12,-0.45,0.15,-1.05,0.09,-1.59],["c",-0.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-0.27,6.09],["c",-0.27,-0.21,-0.48,-0.42,-0.51,-0.45],["c",-0.06,-0.03,-0.06,-0.03,-0.06,0.21],["c",0,0.9,0.3,2.04,0.81,3.09],["c",0.48,1.02,0.96,1.77,2.37,3.63],["c",0.6,0.78,1.05,1.44,1.29,1.77],["c",0.06,0.12,0.15,0.21,0.15,0.18],["c",0.03,-0.03,0.18,-0.57,0.24,-0.87],["c",0.06,-0.45,0.06,-1.32,-0.03,-1.74],["c",-0.09,-0.48,-0.24,-0.9,-0.51,-1.44],["c",-0.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-0.42,15],["l",0,-15],["l",0.21,0],["l",0.21,0],["l",0,0.36],["c",0.06,1.2,0.39,2.37,1.02,3.66],["c",0.39,0.81,0.84,1.56,1.8,3.09],["c",0.81,1.26,1.05,1.68,1.35,2.22],["c",0.87,1.5,1.35,2.79,1.56,4.08],["c",0.06,0.54,0.06,1.56,-0.03,2.04],["c",-0.09,0.48,-0.21,0.99,-0.36,1.35],["l",-0.12,0.27],["l",0.12,0.27],["c",0.09,0.15,0.21,0.45,0.27,0.66],["c",0.69,1.89,0.63,3.66,-0.18,5.46],["l",-0.18,0.39],["l",0.15,0.33],["c",0.3,0.66,0.51,1.44,0.63,2.1],["c",0.06,0.48,0.06,1.35,0,1.71],["c",-0.15,0.57,-0.42,1.2,-0.78,1.68],["l",-0.21,0.27],["l",0.18,0.33],["c",0.57,1.05,0.93,2.13,1.02,3.18],["c",0.06,0.72,0,1.83,-0.21,2.79],["c",-0.18,1.02,-0.63,2.34,-1.02,3.09],["c",-0.15,0.33,-0.48,0.45,-0.78,0.3],["c",-0.18,-0.09,-0.27,-0.18,-0.33,-0.33],["c",-0.09,-0.18,-0.06,-0.3,0.03,-0.54],["c",0.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-0.06,-1.02,-0.42,-2.01,-1.17,-3.15],["c",-0.48,-0.72,-1.02,-1.35,-1.89,-2.22],["c",-0.57,-0.57,-1.56,-1.5,-1.92,-1.77],["l",-0.12,-0.09],["l",0,1.68],["l",0,1.68],["l",-0.21,0],["l",-0.21,0],["l",0,-15],["z"],["m",0.93,-8.07],["c",-0.27,-0.3,-0.48,-0.54,-0.51,-0.54],["c",-0,0,-0,0.69,0.03,1.02],["c",0.15,1.47,0.75,2.94,2.04,4.83],["l",1.08,1.53],["c",0.39,0.57,0.84,1.2,0.99,1.44],["c",0.15,0.24,0.3,0.45,0.3,0.45],["c",-0,0,0.03,-0.09,0.06,-0.21],["c",0.36,-1.59,-0.15,-3.33,-1.47,-5.4],["c",-0.63,-0.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",0.06,6.72],["c",-0.24,-0.21,-0.48,-0.42,-0.51,-0.45],["l",-0.06,-0.06],["l",0,0.33],["c",0,1.2,0.3,2.34,0.93,3.6],["c",0.45,0.9,0.96,1.68,2.25,3.51],["c",0.39,0.54,0.84,1.17,1.02,1.44],["c",0.21,0.33,0.33,0.51,0.33,0.48],["c",0.06,-0.09,0.21,-0.63,0.3,-0.99],["c",0.06,-0.33,0.06,-0.45,0.06,-0.96],["c",-0,-0.6,-0.03,-0.84,-0.18,-1.35],["c",-0.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-0.39,-0.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-0.24,-0.21,-0.48,-0.39,-0.51,-0.42],["l",-0.06,-0.06],["l",0,0.33],["c",0,1.41,0.45,2.82,1.38,4.35],["c",0.42,0.72,0.72,1.14,1.86,2.73],["c",0.36,0.45,0.75,0.99,0.87,1.2],["c",0.15,0.21,0.3,0.36,0.3,0.36],["c",0.06,0,0.3,-0.48,0.39,-0.75],["c",0.09,-0.36,0.12,-0.63,0.12,-1.05],["c",-0.06,-1.05,-0.45,-2.04,-1.2,-3.18],["c",-0.57,-0.87,-1.11,-1.53,-2.07,-2.49],["c",-0.36,-0.33,-0.84,-0.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.ugrace":{d:[["M",6.03,6.93],["c",0.15,-0.09,0.33,-0.06,0.51,0],["c",0.15,0.09,0.21,0.15,0.3,0.33],["c",0.09,0.18,0.06,0.39,-0.03,0.54],["c",-0.06,0.15,-10.89,8.88,-11.07,8.97],["c",-0.15,0.09,-0.33,0.06,-0.48,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.09,-0.18,-0.06,-0.39,0.03,-0.54],["c",0.06,-0.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"noteheads.dbl":{d:[["M",-0.69,-4.02],["c",0.18,-0.09,0.36,-0.09,0.54,0],["c",0.18,0.09,0.24,0.15,0.33,0.3],["c",0.06,0.15,0.06,0.18,0.06,1.41],["l",-0,1.23],["l",0.12,-0.18],["c",0.72,-1.26,2.64,-2.31,4.86,-2.64],["c",0.81,-0.15,1.11,-0.15,2.13,-0.15],["c",0.99,0,1.29,0,2.1,0.15],["c",0.75,0.12,1.38,0.27,2.04,0.54],["c",1.35,0.51,2.34,1.26,2.82,2.1],["l",0.12,0.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,0.06,-1.38],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["c",0.18,-0.09,0.36,-0.09,0.54,0],["c",0.18,0.09,0.24,0.15,0.33,0.3],["l",0.06,0.15],["l",0,3.54],["l",0,3.54],["l",-0.06,0.15],["c",-0.09,0.18,-0.15,0.24,-0.33,0.33],["c",-0.18,0.09,-0.36,0.09,-0.54,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.06,-0.12,-0.06,-0.18,-0.06,-1.38],["l",0,-1.23],["l",-0.12,0.18],["c",-0.48,0.84,-1.47,1.59,-2.82,2.1],["c",-0.84,0.33,-1.71,0.54,-2.85,0.66],["c",-0.45,0.06,-2.16,0.06,-2.61,0],["c",-1.14,-0.12,-2.01,-0.33,-2.85,-0.66],["c",-1.35,-0.51,-2.34,-1.26,-2.82,-2.1],["l",-0.12,-0.18],["l",0,1.23],["c",0,1.23,0,1.26,-0.06,1.38],["c",-0.09,0.18,-0.15,0.24,-0.33,0.33],["c",-0.18,0.09,-0.36,0.09,-0.54,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["l",-0.06,-0.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,0.06,-3.66],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["z"],["m",7.71,0.63],["c",-0.36,-0.06,-0.9,-0.06,-1.14,0],["c",-0.3,0.03,-0.66,0.24,-0.87,0.42],["c",-0.6,0.54,-0.9,1.62,-0.75,2.82],["c",0.12,0.93,0.51,1.68,1.11,2.31],["c",0.75,0.72,1.83,1.2,2.85,1.26],["c",1.05,0.06,1.83,-0.54,2.1,-1.65],["c",0.21,-0.9,0.12,-1.95,-0.24,-2.82],["c",-0.36,-0.81,-1.08,-1.53,-1.95,-1.95],["c",-0.3,-0.15,-0.78,-0.3,-1.11,-0.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",0.51,-0.03,2.01,0,2.52,0.03],["c",1.41,0.18,2.64,0.51,3.72,1.08],["c",1.2,0.63,1.95,1.41,2.19,2.31],["c",0.09,0.33,0.09,0.9,-0,1.23],["c",-0.24,0.9,-0.99,1.68,-2.19,2.31],["c",-1.08,0.57,-2.28,0.9,-3.75,1.08],["c",-0.66,0.06,-2.31,0.06,-2.97,0],["c",-1.47,-0.18,-2.67,-0.51,-3.75,-1.08],["c",-1.2,-0.63,-1.95,-1.41,-2.19,-2.31],["c",-0.09,-0.33,-0.09,-0.9,-0,-1.23],["c",0.24,-0.9,0.99,-1.68,2.19,-2.31],["c",1.2,-0.63,2.61,-0.99,4.23,-1.11],["z"],["m",0.57,0.66],["c",-0.87,-0.15,-1.53,0,-2.04,0.51],["c",-0.15,0.15,-0.24,0.27,-0.33,0.48],["c",-0.24,0.51,-0.36,1.08,-0.33,1.77],["c",0.03,0.69,0.18,1.26,0.42,1.77],["c",0.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,0.21,1.95,-0.15,2.34,-0.99],["c",0.24,-0.51,0.36,-1.08,0.33,-1.8],["c",-0.06,-1.11,-0.45,-2.04,-1.17,-2.76],["c",-0.63,-0.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",0.06,-0.03,0.27,-0.03,0.48,-0.03],["c",1.05,0,1.71,0.24,2.1,0.81],["c",0.42,0.6,0.45,1.35,0.18,2.4],["c",-0.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,0.93,-3.18,1.44,-5.4,1.53],["c",-1.17,0.03,-1.89,-0.21,-2.28,-0.81],["c",-0.42,-0.6,-0.45,-1.35,-0.18,-2.4],["c",0.42,-1.59,1.14,-2.73,2.16,-3.39],["c",0.63,-0.42,1.23,-0.72,1.98,-0.96],["c",0.9,-0.3,1.65,-0.42,3.12,-0.54],["z"],["m",1.29,0.87],["c",-0.27,-0.09,-0.63,-0.12,-0.9,-0.03],["c",-0.72,0.24,-1.53,0.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-0.36,0.72,-0.06,1.5,0.66,1.77],["c",0.24,0.12,0.69,0.09,0.99,0],["c",0.84,-0.3,1.92,-0.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",0.36,-0.72,0.06,-1.5,-0.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",0.36,-0.03,1.2,0,1.53,0.06],["c",1.17,0.24,1.89,0.84,2.16,1.83],["c",0.06,0.18,0.06,0.3,0.06,0.66],["c",0,0.45,0,0.63,-0.15,1.08],["c",-0.66,2.04,-3.06,3.93,-5.52,4.38],["c",-0.54,0.09,-1.44,0.09,-1.83,0.03],["c",-1.23,-0.27,-1.98,-0.87,-2.25,-1.86],["c",-0.06,-0.18,-0.06,-0.3,-0.06,-0.66],["c",0,-0.45,0,-0.63,0.15,-1.08],["c",0.24,-0.78,0.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"rests.whole":{d:[["M",0.06,0.03],["l",0.09,-0.06],["l",5.46,0],["l",5.49,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,2.19],["l",0,2.19],["l",-0.06,0.09],["l",-0.09,0.06],["l",-5.49,0],["l",-5.46,0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",0.06,-4.62],["l",0.09,-0.06],["l",5.46,0],["l",5.49,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,2.19],["l",0,2.19],["l",-0.06,0.09],["l",-0.09,0.06],["l",-5.49,0],["l",-5.46,0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",0.12,-0.06,0.24,-0.06,0.36,-0.03],["c",0.09,0.06,4.74,5.58,4.86,5.82],["c",0.21,0.39,0.15,0.78,-0.15,1.26],["c",-0.24,0.33,-0.72,0.81,-1.62,1.56],["c",-0.45,0.36,-0.87,0.75,-0.96,0.84],["c",-0.93,0.99,-1.14,2.49,-0.6,3.63],["c",0.18,0.39,0.27,0.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",-0,0.18,-0.18,0.36,-0.36,0.39],["c",-0.15,-0,-0.27,-0.06,-0.48,-0.27],["c",-0.75,-0.75,-2.46,-1.29,-3.39,-1.08],["c",-0.45,0.09,-0.69,0.27,-0.9,0.69],["c",-0.12,0.3,-0.21,0.66,-0.24,1.14],["c",-0.03,0.66,0.09,1.35,0.3,2.01],["c",0.15,0.42,0.24,0.66,0.45,0.96],["c",0.18,0.24,0.18,0.33,0.03,0.42],["c",-0.12,0.06,-0.18,0.03,-0.45,-0.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-0.27,-1.05,-0.15,-1.77,0.27,-2.07],["c",0.21,-0.12,0.42,-0.15,0.87,-0.15],["c",0.87,0.06,2.1,0.39,3.3,0.9],["l",0.39,0.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-0.09,-0.24,-0.12,-0.48,-0.03,-0.75],["c",0.15,-0.48,0.57,-0.96,1.83,-2.01],["c",0.45,-0.36,0.84,-0.72,0.93,-0.78],["c",0.69,-0.75,1.02,-1.8,0.9,-2.79],["c",-0.06,-0.33,-0.21,-0.84,-0.39,-1.11],["c",-0.09,-0.15,-0.45,-0.6,-0.81,-1.05],["c",-0.36,-0.42,-0.69,-0.81,-0.72,-0.87],["c",-0.09,-0.18,-0,-0.42,0.21,-0.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.6,0.48],["c",0.12,0,0.18,0,0.33,-0.09],["c",0.39,-0.18,1.32,-1.29,1.68,-1.98],["c",0.09,-0.21,0.24,-0.3,0.39,-0.3],["c",0.12,0,0.27,0.09,0.33,0.18],["c",0.03,0.06,-0.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,0.03,-0.12,0.12,-0.24,0.15],["c",-0.18,0.09,-0.21,0.09,-0.45,0.09],["c",-0.24,0,-0.3,0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.15,-0.57,1.68,-4.92],["c",0.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-0.51,0.15],["c",-1.08,0.36,-1.74,0.48,-2.55,0.48],["c",-0.66,0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.15,0.39,0.57,0.57,0.87,0.42],["c",0.39,-0.18,1.2,-1.23,1.62,-2.07],["c",0.06,-0.15,0.24,-0.24,0.36,-0.24],["c",0.12,0,0.27,0.09,0.33,0.18],["c",0.03,0.06,-0.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-0.03,0.03,-0.12,0.12,-0.24,0.15],["c",-0.18,0.09,-0.21,0.09,-0.45,0.09],["c",-0.24,0,-0.3,0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.12,-0.57,1.44,-4.92],["c",0.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-0.03,0,-0.27,0.06,-0.54,0.15],["c",-1.08,0.36,-1.77,0.48,-2.58,0.48],["c",-0.66,0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.72,-1.05,2.22,-1.23,3.06,-0.42],["c",0.3,0.33,0.42,0.6,0.6,1.38],["c",0.09,0.45,0.21,0.78,0.33,0.9],["c",0.09,0.09,0.27,0.18,0.45,0.21],["c",0.12,0,0.18,0,0.33,-0.09],["c",0.33,-0.15,1.02,-0.93,1.41,-1.59],["c",0.12,-0.21,0.18,-0.39,0.39,-1.08],["c",0.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-0.21,0.06,-0.42,0.15],["c",-0.51,0.15,-1.2,0.33,-1.68,0.42],["c",-0.33,0.06,-0.51,0.06,-0.96,0.06],["c",-0.66,0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.6,0.48],["c",0.12,0,0.18,0,0.27,-0.06],["c",0.33,-0.21,0.99,-1.11,1.44,-1.98],["c",0.09,-0.24,0.21,-0.33,0.39,-0.33],["c",0.12,0,0.27,0.09,0.33,0.18],["c",0.03,0.06,-0.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-0.03,0.06,-0.12,0.12,-0.24,0.18],["c",-0.21,0.09,-0.24,0.09,-0.48,0.09],["c",-0.24,-0,-0.3,-0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.09,-0.57,1.23,-4.92],["c",0.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-0.03,-0.12,-0.03,-0.48,0.12],["c",-1.17,0.39,-2.22,0.57,-3,0.54],["c",-0.42,-0.03,-0.75,-0.12,-1.11,-0.3],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.72,-1.05,2.22,-1.23,3.06,-0.42],["c",0.3,0.33,0.42,0.6,0.6,1.38],["c",0.09,0.45,0.21,0.78,0.33,0.9],["c",0.12,0.09,0.3,0.18,0.48,0.21],["c",0.12,-0,0.18,-0,0.3,-0.09],["c",0.42,-0.21,1.29,-1.29,1.56,-1.89],["c",0.03,-0.12,1.23,-4.59,1.23,-4.65],["c",0,-0.03,-0.18,0.03,-0.39,0.12],["c",-0.63,0.18,-1.2,0.36,-1.74,0.45],["c",-0.39,0.06,-0.54,0.06,-1.02,0.06],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.72,-1.05,2.22,-1.23,3.06,-0.42],["c",0.3,0.33,0.42,0.6,0.6,1.38],["c",0.09,0.45,0.21,0.78,0.33,0.9],["c",0.18,0.18,0.51,0.27,0.72,0.15],["c",0.3,-0.12,0.69,-0.57,1.08,-1.17],["c",0.42,-0.6,0.39,-0.51,1.05,-3.03],["c",0.33,-1.26,0.6,-2.31,0.6,-2.34],["c",0,-0,-0.21,0.03,-0.45,0.12],["c",-0.57,0.18,-1.14,0.33,-1.62,0.42],["c",-0.33,0.06,-0.51,0.06,-0.96,0.06],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.15,0.63,0.21,0.81,0.33,0.96],["c",0.18,0.21,0.54,0.3,0.75,0.18],["c",0.24,-0.12,0.63,-0.66,1.08,-1.56],["c",0.33,-0.66,0.39,-0.72,0.6,-0.72],["c",0.12,0,0.27,0.09,0.33,0.18],["c",0.03,0.06,-0.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-0.03,0.06,-0.12,0.12,-0.24,0.18],["c",-0.21,0.09,-0.24,0.09,-0.48,0.09],["c",-0.24,0,-0.3,0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.06,-0.57,1.05,-4.95],["c",0.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-0.24,0.06,-0.51,0.15],["c",-0.66,0.24,-1.2,0.36,-1.77,0.48],["c",-0.42,0.06,-0.57,0.06,-1.05,0.06],["c",-0.69,0,-0.87,-0.03,-1.35,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.72,-1.05,2.22,-1.23,3.06,-0.42],["c",0.3,0.33,0.42,0.6,0.6,1.38],["c",0.09,0.45,0.21,0.78,0.33,0.9],["c",0.09,0.09,0.27,0.18,0.45,0.21],["c",0.21,0.03,0.39,-0.09,0.72,-0.42],["c",0.45,-0.45,1.02,-1.26,1.17,-1.65],["c",0.03,-0.09,0.27,-1.14,0.54,-2.34],["c",0.27,-1.2,0.48,-2.19,0.51,-2.22],["c",0,-0.03,-0.09,-0.03,-0.48,0.12],["c",-1.17,0.39,-2.22,0.57,-3,0.54],["c",-0.42,-0.03,-0.75,-0.12,-1.11,-0.3],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.15,0.39,0.57,0.57,0.9,0.42],["c",0.36,-0.18,1.2,-1.26,1.47,-1.89],["c",0.03,-0.09,0.3,-1.2,0.57,-2.43],["l",0.51,-2.28],["l",-0.54,0.18],["c",-1.11,0.36,-1.8,0.48,-2.61,0.48],["c",-0.66,0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.15,0.63,0.21,0.81,0.33,0.96],["c",0.21,0.21,0.54,0.3,0.75,0.18],["c",0.36,-0.18,0.93,-0.93,1.29,-1.68],["c",0.12,-0.24,0.18,-0.48,0.63,-2.55],["l",0.51,-2.31],["c",0,-0.03,-0.18,0.03,-0.39,0.12],["c",-1.14,0.36,-2.1,0.54,-2.82,0.51],["c",-0.42,-0.03,-0.75,-0.12,-1.11,-0.3],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.6,0.48],["c",0.21,0,0.33,-0.06,0.54,-0.36],["c",0.15,-0.21,0.54,-0.93,0.78,-1.47],["c",0.15,-0.33,0.18,-0.39,0.3,-0.48],["c",0.18,-0.09,0.45,0,0.51,0.15],["c",0.03,0.09,-7.11,42.75,-7.17,42.84],["c",-0.03,0.03,-0.15,0.09,-0.24,0.15],["c",-0.18,0.06,-0.24,0.06,-0.45,0.06],["c",-0.24,-0,-0.3,-0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.03,-0.57,0.84,-4.98],["c",0.51,-2.7,0.93,-4.92,0.9,-4.92],["c",0,-0,-0.15,0.06,-0.36,0.12],["c",-0.78,0.27,-1.62,0.48,-2.31,0.57],["c",-0.15,0.03,-0.54,0.03,-0.81,0.03],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.63,0.48],["c",0.12,-0,0.18,-0,0.3,-0.09],["c",0.42,-0.21,1.14,-1.11,1.5,-1.83],["c",0.12,-0.27,0.12,-0.27,0.54,-2.52],["c",0.24,-1.23,0.42,-2.25,0.39,-2.25],["c",0,-0,-0.24,0.06,-0.51,0.18],["c",-1.26,0.39,-2.25,0.57,-3.06,0.54],["c",-0.42,-0.03,-0.75,-0.12,-1.11,-0.3],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.15,0.63,0.21,0.81,0.33,0.96],["c",0.18,0.21,0.51,0.3,0.75,0.18],["c",0.36,-0.15,1.05,-0.99,1.41,-1.77],["l",0.15,-0.3],["l",0.42,-2.25],["c",0.21,-1.26,0.42,-2.28,0.39,-2.28],["l",-0.51,0.15],["c",-1.11,0.39,-1.89,0.51,-2.7,0.51],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.15,0.63,0.21,0.81,0.33,0.96],["c",0.18,0.18,0.48,0.27,0.72,0.21],["c",0.33,-0.12,1.14,-1.26,1.41,-1.95],["c",0,-0.09,0.21,-1.11,0.45,-2.34],["c",0.21,-1.2,0.39,-2.22,0.39,-2.28],["c",0.03,-0.03,0,-0.03,-0.45,0.12],["c",-0.57,0.18,-1.2,0.33,-1.71,0.42],["c",-0.3,0.06,-0.51,0.06,-0.93,0.06],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.6,0.48],["c",0.18,-0,0.36,-0.09,0.57,-0.33],["c",0.33,-0.36,0.78,-1.14,0.93,-1.56],["c",0.03,-0.12,0.24,-1.2,0.45,-2.4],["c",0.24,-1.2,0.42,-2.22,0.42,-2.28],["c",0.03,-0.03,0,-0.03,-0.39,0.09],["c",-1.05,0.36,-1.8,0.48,-2.58,0.48],["c",-0.63,-0,-0.84,-0.03,-1.29,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:12.992,h:43.883},"scripts.lbrace":{d:[["M",-20,-515],["v",-2],["c",35,-16,53,-48,53,-91],["c",0,-34,-11,-84,-35,-150],["c",-13,-41,-18,-76,-18,-109],["c",0,-69,29,-121,87,-160],["c",-44,35,-63,77,-63,125],["c",0,26,8,56,21,91],["c",27,71,37,130,37,174],["c",0,62,-26,105,-77,121],["c",52,16,77,63,77,126],["c",0,46,-10,102,-37,172],["c",-13,35,-21,68,-21,94],["c",0,48,19,89,63,124],["c",-58,-39,-87,-91,-87,-160],["c",0,-33,5,-68,18,-109],["c",24,-66,35,-116,35,-150],["c",0,-44,-18,-80,-53,-96],["z"]],w:40,h:1027},"scripts.ufermata":{d:[["M",-0.75,-10.77],["c",0.12,0,0.45,-0.03,0.69,-0.03],["c",2.91,-0.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",0.12,0.51,0.12,0.57,0.03,0.69],["c",-0.12,0.21,-0.48,0.27,-0.69,0.12],["c",-0.12,-0.09,-0.18,-0.24,-0.27,-0.69],["c",-0.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-0.78,-0.21,-1.2,-0.24,-2.07,-0.24],["c",-0.63,-0,-0.84,-0,-1.2,0.06],["c",-1.83,0.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-0.09,0.45,-0.15,0.6,-0.27,0.69],["c",-0.21,0.15,-0.57,0.09,-0.69,-0.12],["c",-0.09,-0.12,-0.09,-0.18,0.03,-0.69],["c",0.33,-1.62,0.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",0.33,7.47],["c",1.38,-0.3,2.58,0.9,2.31,2.25],["c",-0.15,0.72,-0.78,1.35,-1.47,1.5],["c",-1.38,0.27,-2.58,-0.93,-2.31,-2.31],["c",0.15,-0.69,0.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-0.42],["c",0.15,-0.09,0.36,-0.06,0.51,0.03],["c",0.12,0.09,0.18,0.24,0.27,0.66],["c",0.78,3.66,3.42,6.57,6.78,7.41],["c",0.78,0.21,1.2,0.24,2.07,0.24],["c",0.63,-0,0.84,-0,1.2,-0.06],["c",1.83,-0.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",0.09,-0.42,0.15,-0.57,0.27,-0.66],["c",0.21,-0.15,0.57,-0.09,0.69,0.12],["c",0.09,0.12,0.09,0.18,-0.03,0.69],["c",-0.33,1.62,-0.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-0.48,-0.96,-0.84,-1.92,-1.14,-2.97],["c",-0.18,-0.69,-0.42,-1.74,-0.42,-1.92],["c",0,-0.12,0.09,-0.27,0.24,-0.33],["z"],["m",9.21,0],["c",1.2,-0.27,2.34,0.63,2.34,1.86],["c",-0,0.9,-0.66,1.68,-1.5,1.89],["c",-1.38,0.27,-2.58,-0.93,-2.31,-2.31],["c",0.15,-0.69,0.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",0.06,-0.03,0.15,-0.06,0.18,-0.06],["c",0.06,0,2.85,0.72,6.24,1.59],["l",6.33,1.65],["c",0.33,0.06,0.45,0.21,0.45,0.51],["c",0,0.3,-0.12,0.45,-0.45,0.51],["l",-6.33,1.65],["c",-3.39,0.87,-6.18,1.59,-6.21,1.59],["c",-0.21,-0,-0.48,-0.24,-0.51,-0.45],["c",0,-0.15,0.06,-0.36,0.18,-0.45],["c",0.09,-0.06,0.87,-0.27,3.84,-1.05],["c",2.04,-0.54,3.84,-0.99,4.02,-1.02],["c",0.15,-0.06,1.14,-0.24,2.22,-0.42],["c",1.05,-0.18,1.92,-0.36,1.92,-0.36],["c",0,-0,-0.87,-0.18,-1.92,-0.36],["c",-1.08,-0.18,-2.07,-0.36,-2.22,-0.42],["c",-0.18,-0.03,-1.98,-0.48,-4.02,-1.02],["c",-2.97,-0.78,-3.75,-0.99,-3.84,-1.05],["c",-0.12,-0.09,-0.18,-0.3,-0.18,-0.45],["c",0.03,-0.15,0.15,-0.3,0.3,-0.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-0.36,-1.47],["c",0.93,-0.21,1.86,0.51,1.86,1.47],["c",-0,0.93,-0.87,1.65,-1.8,1.47],["c",-0.54,-0.12,-1.02,-0.57,-1.14,-1.08],["c",-0.21,-0.81,0.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-0.48],["l",0.12,-0.06],["l",4.08,0],["l",4.08,0],["l",0.12,0.06],["c",0.39,0.21,0.39,0.75,0,0.96],["l",-0.12,0.06],["l",-4.08,0],["l",-4.08,0],["l",-0.12,-0.06],["c",-0.39,-0.21,-0.39,-0.75,0,-0.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-0.15,-8.19],["c",0.15,-0.12,0.36,-0.03,0.45,0.15],["c",0.21,0.42,3.45,7.65,3.45,7.71],["c",-0,0.12,-0.12,0.27,-0.21,0.3],["c",-0.03,0.03,-0.51,0.03,-1.14,0.03],["c",-1.05,0,-1.08,0,-1.17,-0.06],["c",-0.09,-0.06,-0.24,-0.36,-1.17,-2.4],["c",-0.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",-0,-0.03,-0.51,1.02,-1.08,2.34],["c",-0.93,2.07,-1.08,2.34,-1.14,2.4],["c",-0.06,0.03,-0.15,0.06,-0.18,0.06],["c",-0.15,0,-0.33,-0.18,-0.33,-0.33],["c",-0,-0.06,3.24,-7.32,3.45,-7.71],["c",0.03,-0.06,0.09,-0.15,0.15,-0.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,0.03],["c",0.03,0,0.57,-0.03,1.17,-0.03],["c",1.05,0,1.08,0,1.17,0.06],["c",0.09,0.06,0.24,0.36,1.17,2.4],["c",0.57,1.29,1.05,2.34,1.08,2.34],["c",0,0.03,0.51,-1.02,1.08,-2.34],["c",0.93,-2.07,1.08,-2.34,1.14,-2.4],["c",0.06,-0.03,0.15,-0.06,0.18,-0.06],["c",0.15,0,0.33,0.18,0.33,0.33],["c",0,0.09,-3.45,7.74,-3.54,7.83],["c",-0.12,0.12,-0.3,0.12,-0.42,0],["c",-0.09,-0.09,-3.54,-7.74,-3.54,-7.83],["c",0,-0.09,0.12,-0.27,0.18,-0.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-0.27,-4.08],["c",0.18,-0.09,0.36,-0.09,0.54,0],["c",0.18,0.09,0.24,0.15,0.33,0.3],["l",0.06,0.15],["l",-0,1.5],["l",-0,1.47],["l",1.47,0],["l",1.5,0],["l",0.15,0.06],["c",0.15,0.09,0.21,0.15,0.3,0.33],["c",0.09,0.18,0.09,0.36,-0,0.54],["c",-0.09,0.18,-0.15,0.24,-0.33,0.33],["c",-0.12,0.06,-0.18,0.06,-1.62,0.06],["l",-1.47,0],["l",-0,1.47],["l",-0,1.47],["l",-0.06,0.15],["c",-0.09,0.18,-0.15,0.24,-0.33,0.33],["c",-0.18,0.09,-0.36,0.09,-0.54,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["l",-0.06,-0.15],["l",-0,-1.47],["l",-0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-0.06],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.09,-0.18,-0.09,-0.36,-0,-0.54],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["l",0.15,-0.06],["l",1.47,0],["l",1.47,0],["l",-0,-1.47],["c",-0,-1.44,-0,-1.5,0.06,-1.62],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",0.12,-0.09,0.36,-0.06,0.48,0.03],["c",0.03,0.03,0.09,0.09,0.12,0.15],["c",0.03,0.06,0.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",0.63,2.46],["l",0.63,-2.46],["c",0.63,-2.4,0.66,-2.55,2.01,-6.96],["c",0.75,-2.49,1.38,-4.56,1.41,-4.62],["c",0.06,-0.15,0.18,-0.21,0.36,-0.24],["c",0.15,0,0.3,0.06,0.39,0.18],["c",0.15,0.21,0.24,-0.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,0.12,-0.06,0.27,-0.09,0.3],["c",-0.12,0.21,-0.6,0.21,-0.72,0],["c",-0.03,-0.03,-0.09,-0.18,-0.09,-0.3],["c",-0.03,-0.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",0.03,-0.03,0.09,-0.09,0.15,-0.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",0.09,-0.06],["l",5.46,0],["l",5.46,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,4.77],["c",0,5.28,0,4.89,-0.18,5.01],["c",-0.18,0.12,-0.42,0.06,-0.54,-0.12],["c",-0.06,-0.09,-0.06,-0.18,-0.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-0.06,2.97],["c",-0.15,0.24,-0.51,0.24,-0.66,0],["c",-0.06,-0.09,-0.06,-0.21,-0.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",0.36,-0.06,1.05,-0.06,1.44,0.03],["c",0.78,0.15,1.5,0.51,2.34,1.14],["c",0.6,0.45,1.05,0.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",0.6,0.36,1.32,0.57,1.92,0.57],["c",0.9,-0,1.71,-0.57,1.89,-1.35],["c",0.24,-0.93,-0.39,-1.89,-1.35,-2.1],["l",-0.15,-0.06],["l",-0.09,0.15],["c",-0.03,0.09,-0.15,0.24,-0.24,0.33],["c",-0.72,0.72,-2.04,0.54,-2.49,-0.36],["c",-0.48,-0.93,0.03,-1.86,1.17,-2.19],["c",0.3,-0.09,1.02,-0.09,1.35,-0],["c",0.99,0.27,1.74,0.87,2.25,1.83],["c",0.69,1.41,0.63,3,-0.21,4.26],["c",-0.21,0.3,-0.69,0.81,-0.99,1.02],["c",-0.3,0.21,-0.84,0.45,-1.17,0.54],["c",-1.23,0.36,-2.49,0.15,-3.72,-0.6],["c",-0.75,-0.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-0.6,-0.36,-1.32,-0.57,-1.92,-0.57],["c",-0.9,0,-1.71,0.57,-1.89,1.35],["c",-0.24,0.93,0.39,1.89,1.35,2.1],["l",0.15,0.06],["l",0.09,-0.15],["c",0.03,-0.09,0.15,-0.24,0.24,-0.33],["c",0.72,-0.72,2.04,-0.54,2.49,0.36],["c",0.48,0.93,-0.03,1.86,-1.17,2.19],["c",-0.3,0.09,-1.02,0.09,-1.35,0],["c",-0.99,-0.27,-1.74,-0.87,-2.25,-1.83],["c",-0.69,-1.41,-0.63,-3,0.21,-4.26],["c",0.21,-0.3,0.69,-0.81,0.99,-1.02],["c",0.48,-0.33,1.11,-0.57,1.74,-0.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-0.51,-16.02],["c",0.12,-0.09,0.21,-0.18,0.21,-0.18],["l",-0.81,4.02],["l",-0.81,4.02],["c",0.03,0,0.51,-0.27,1.08,-0.6],["c",0.6,-0.3,1.14,-0.63,1.26,-0.66],["c",1.14,-0.54,2.31,-0.6,3.09,-0.18],["c",0.27,0.15,0.54,0.36,0.6,0.51],["l",0.06,0.12],["l",0.21,-0.21],["c",0.9,-0.81,2.22,-0.99,3.12,-0.42],["c",0.6,0.42,0.9,1.14,0.78,2.07],["c",-0.15,1.29,-1.05,2.31,-1.95,2.25],["c",-0.48,-0.03,-0.78,-0.3,-0.96,-0.81],["c",-0.09,-0.27,-0.09,-0.9,-0.03,-1.2],["c",0.21,-0.75,0.81,-1.23,1.59,-1.32],["l",0.24,-0.03],["l",-0.09,-0.12],["c",-0.51,-0.66,-1.62,-0.63,-2.31,0.03],["c",-0.39,0.42,-0.3,0.09,-1.23,4.77],["l",-0.81,4.14],["c",-0.03,0,-0.12,-0.03,-0.21,-0.09],["c",-0.33,-0.15,-0.54,-0.18,-0.99,-0.18],["c",-0.42,0,-0.66,0.03,-1.05,0.18],["c",-0.12,0.06,-0.21,0.09,-0.21,0.09],["c",0,-0.03,0.36,-1.86,0.81,-4.11],["c",0.9,-4.47,0.87,-4.26,0.69,-4.53],["c",-0.21,-0.36,-0.66,-0.51,-1.17,-0.36],["c",-0.15,0.06,-2.22,1.14,-2.58,1.38],["c",-0.12,0.09,-0.12,0.09,-0.21,0.6],["l",-0.09,0.51],["l",0.21,0.24],["c",0.63,0.75,1.02,1.47,1.2,2.19],["c",0.06,0.27,0.06,0.36,0.06,0.81],["c",0,0.42,0,0.54,-0.06,0.78],["c",-0.15,0.54,-0.33,0.93,-0.63,1.35],["c",-0.18,0.24,-0.57,0.63,-0.81,0.78],["c",-0.24,0.15,-0.63,0.36,-0.84,0.42],["c",-0.27,0.06,-0.66,0.06,-0.87,0.03],["c",-0.81,-0.18,-1.32,-1.05,-1.38,-2.46],["c",-0.03,-0.6,0.03,-0.99,0.33,-2.46],["c",0.21,-1.08,0.24,-1.32,0.21,-1.29],["c",-1.2,0.48,-2.4,0.75,-3.21,0.72],["c",-0.69,-0.06,-1.17,-0.3,-1.41,-0.72],["c",-0.39,-0.75,-0.12,-1.8,0.66,-2.46],["c",0.24,-0.18,0.69,-0.42,1.02,-0.51],["c",0.69,-0.18,1.53,-0.15,2.31,0.09],["c",0.3,0.09,0.75,0.3,0.99,0.45],["c",0.12,0.09,0.15,0.09,0.15,0.03],["c",0.03,-0.03,0.33,-1.59,0.72,-3.45],["c",0.36,-1.86,0.66,-3.42,0.69,-3.45],["c",0,-0.03,0.03,-0.03,0.21,0.03],["c",0.21,0.06,0.27,0.06,0.48,0.06],["c",0.42,-0.03,0.78,-0.18,1.26,-0.48],["c",0.15,-0.12,0.36,-0.27,0.48,-0.39],["z"],["m",-5.73,7.68],["c",-0.27,-0.03,-0.96,-0.06,-1.2,-0.03],["c",-0.81,0.12,-1.35,0.57,-1.5,1.2],["c",-0.18,0.66,0.12,1.14,0.75,1.29],["c",0.66,0.12,1.92,-0.12,3.18,-0.66],["l",0.33,-0.15],["l",0.09,-0.39],["c",0.06,-0.21,0.09,-0.42,0.09,-0.45],["c",0,-0.03,-0.45,-0.3,-0.75,-0.45],["c",-0.27,-0.15,-0.66,-0.27,-0.99,-0.36],["z"],["m",4.29,3.63],["c",-0.24,-0.39,-0.51,-0.75,-0.51,-0.69],["c",-0.06,0.12,-0.39,1.92,-0.45,2.28],["c",-0.09,0.54,-0.12,1.14,-0.06,1.38],["c",0.06,0.42,0.21,0.6,0.51,0.57],["c",0.39,-0.06,0.75,-0.48,0.93,-1.14],["c",0.09,-0.33,0.09,-1.05,-0,-1.38],["c",-0.09,-0.39,-0.24,-0.69,-0.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-1,-11.22],["c",0.78,-0.09,1.59,0.03,2.31,0.42],["c",1.2,0.6,2.01,1.71,2.31,3.09],["c",0.09,0.42,0.09,1.2,0.03,1.5],["c",-0.15,0.45,-0.39,0.81,-0.66,0.93],["c",-0.33,0.18,-0.84,0.21,-1.23,0.15],["c",-0.81,-0.18,-1.32,-0.93,-1.26,-1.89],["c",0.03,-0.36,0.09,-0.57,0.24,-0.9],["c",0.15,-0.33,0.45,-0.6,0.72,-0.75],["c",0.12,-0.06,0.18,-0.09,0.18,-0.12],["c",0,-0.03,-0.03,-0.15,-0.09,-0.24],["c",-0.18,-0.45,-0.54,-0.87,-0.96,-1.08],["c",-1.11,-0.57,-2.34,-0.18,-2.88,0.9],["c",-0.24,0.51,-0.33,1.11,-0.24,1.83],["c",0.27,1.92,1.5,3.54,3.93,5.13],["c",0.48,0.33,1.26,0.78,1.29,0.78],["c",0.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",0.84,0],["l",0.87,0],["l",-0.03,0.06],["c",-0.15,0.21,-6.15,10.41,-6.15,10.44],["c",0,0,0.21,0.15,0.48,0.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,0.51,5.07,-1.44,6.39],["c",-0.66,0.42,-1.32,0.63,-2.13,0.69],["c",-2.01,0.09,-3.81,-1.41,-4.26,-3.54],["c",-0.09,-0.42,-0.09,-1.2,-0.03,-1.5],["c",0.15,-0.45,0.39,-0.81,0.66,-0.93],["c",0.33,-0.18,0.84,-0.21,1.23,-0.15],["c",0.81,0.18,1.32,0.93,1.26,1.89],["c",-0.03,0.36,-0.09,0.57,-0.24,0.9],["c",-0.15,0.33,-0.45,0.6,-0.72,0.75],["c",-0.12,0.06,-0.18,0.09,-0.18,0.12],["c",0,0.03,0.03,0.15,0.09,0.24],["c",0.18,0.45,0.54,0.87,0.96,1.08],["c",1.11,0.57,2.34,0.18,2.88,-0.9],["c",0.24,-0.51,0.33,-1.11,0.24,-1.83],["c",-0.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-0.48,-0.33,-1.26,-0.78,-1.29,-0.78],["c",-0.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-0.87,0],["l",-0.87,0],["l",0.03,-0.06],["c",0.15,-0.21,6.15,-10.41,6.15,-10.44],["c",0,0,-0.21,-0.15,-0.48,-0.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-0.9,-1.89,-0.72,-4.02,0.48,-5.52],["c",0.69,-0.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",0.03,-0.03,0.15,-0.03,0.27,-0.03],["c",0.33,0.03,0.57,0.18,0.72,0.48],["c",0.09,0.18,0.09,0.57,0,0.75],["c",-0.09,0.18,-0.21,0.3,-0.36,0.39],["c",-0.15,0.06,-0.21,0.06,-0.39,0.06],["c",-0.21,0,-0.27,0,-0.39,-0.06],["c",-0.3,-0.15,-0.48,-0.45,-0.48,-0.75],["c",0,-0.39,0.24,-0.72,0.63,-0.84],["z"],["m",-10.53,2.61],["c",0.03,-0.03,0.15,-0.03,0.27,-0.03],["c",0.33,0.03,0.57,0.18,0.72,0.48],["c",0.09,0.18,0.09,0.57,0,0.75],["c",-0.09,0.18,-0.21,0.3,-0.36,0.39],["c",-0.15,0.06,-0.21,0.06,-0.39,0.06],["c",-0.21,0,-0.27,0,-0.39,-0.06],["c",-0.3,-0.15,-0.48,-0.45,-0.48,-0.75],["c",0,-0.39,0.24,-0.72,0.63,-0.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-0.21,-13],["c",0.18,-0.12,0.42,-0.06,0.54,0.12],["c",0.06,0.09,0.06,0.18,0.06,1.5],["l",0,1.38],["l",0.18,0],["c",0.39,0.06,0.96,0.24,1.38,0.48],["c",1.68,0.93,2.82,3.24,3.03,6.12],["c",0.03,0.24,0.03,0.45,0.03,0.45],["c",0,0.03,0.6,0.03,1.35,0.03],["c",1.5,0,1.47,0,1.59,0.18],["c",0.09,0.12,0.09,0.3,-0,0.42],["c",-0.12,0.18,-0.09,0.18,-1.59,0.18],["c",-0.75,0,-1.35,0,-1.35,0.03],["c",-0,0,-0,0.21,-0.03,0.42],["c",-0.24,3.15,-1.53,5.58,-3.45,6.36],["c",-0.27,0.12,-0.72,0.24,-0.96,0.27],["l",-0.18,-0],["l",-0,1.38],["c",-0,1.32,-0,1.41,-0.06,1.5],["c",-0.15,0.24,-0.51,0.24,-0.66,-0],["c",-0.06,-0.09,-0.06,-0.18,-0.06,-1.5],["l",-0,-1.38],["l",-0.18,-0],["c",-0.39,-0.06,-0.96,-0.24,-1.38,-0.48],["c",-1.68,-0.93,-2.82,-3.24,-3.03,-6.15],["c",-0.03,-0.21,-0.03,-0.42,-0.03,-0.42],["c",0,-0.03,-0.6,-0.03,-1.35,-0.03],["c",-1.5,-0,-1.47,-0,-1.59,-0.18],["c",-0.09,-0.12,-0.09,-0.3,0,-0.42],["c",0.12,-0.18,0.09,-0.18,1.59,-0.18],["c",0.75,-0,1.35,-0,1.35,-0.03],["c",0,-0,0,-0.21,0.03,-0.45],["c",0.24,-3.12,1.53,-5.55,3.45,-6.33],["c",0.27,-0.12,0.72,-0.24,0.96,-0.27],["l",0.18,-0],["l",0,-1.38],["c",0,-1.53,0,-1.5,0.18,-1.62],["z"],["m",-0.18,6.93],["c",0,-2.97,0,-3.15,-0.06,-3.15],["c",-0.09,0,-0.51,0.15,-0.66,0.21],["c",-0.87,0.51,-1.38,1.62,-1.56,3.51],["c",-0.06,0.54,-0.12,1.59,-0.12,2.16],["l",0,0.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-0.09,-0.03,-0.21,-0.06,-0.27,-0.09],["l",-0.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-0.81],["c",-0.06,-2.4,-0.33,-3.69,-0.93,-4.59],["c",-0.27,-0.39,-0.66,-0.69,-1.08,-0.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,-0],["l",-1.2,-0],["l",0,0.81],["c",0.03,0.96,0.06,1.47,0.15,2.13],["c",0.24,2.04,0.96,3.12,2.13,3.36],["l",0.12,-0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-0.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",0.12,0],["c",1.17,-0.24,1.89,-1.32,2.13,-3.36],["c",0.09,-0.66,0.12,-1.17,0.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",0.3,-0.12,0.69,-0.03,0.93,0.15],["c",0.12,0.12,0.36,0.45,0.51,0.78],["c",0.9,1.77,0.54,4.05,-1.08,6.75],["c",-0.36,0.63,-0.87,1.38,-0.96,1.44],["c",-0.18,0.12,-0.42,0.06,-0.54,-0.12],["c",-0.09,-0.18,-0.09,-0.3,0.12,-0.6],["c",0.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-0.06,-0.93,-0.3,-1.68,-0.78,-2.46],["c",-0.27,-0.39,-0.33,-0.63,-0.24,-0.96],["c",0.09,-0.27,0.36,-0.54,0.66,-0.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",0.21,-0.09,0.36,-0.09,0.57,0],["c",0.39,0.15,0.63,0.39,1.47,1.35],["c",0.66,0.75,0.78,0.87,1.08,1.05],["c",0.75,0.45,1.65,0.42,2.4,-0.06],["c",0.12,-0.09,0.27,-0.27,0.54,-0.6],["c",0.42,-0.54,0.51,-0.63,0.69,-0.63],["c",0.09,0,0.3,0.12,0.36,0.21],["c",0.09,0.12,0.12,0.3,0.03,0.42],["c",-0.06,0.12,-3.15,3.9,-3.3,4.08],["c",-0.06,0.06,-0.18,0.12,-0.27,0.18],["c",-0.27,0.12,-0.6,0.06,-0.99,-0.27],["c",-0.27,-0.21,-0.42,-0.39,-1.08,-1.14],["c",-0.63,-0.72,-0.81,-0.9,-1.17,-1.08],["c",-0.36,-0.18,-0.57,-0.21,-0.99,-0.21],["c",-0.39,0,-0.63,0.03,-0.93,0.18],["c",-0.36,0.15,-0.51,0.27,-0.9,0.81],["c",-0.24,0.27,-0.45,0.51,-0.48,0.54],["c",-0.12,0.09,-0.27,0.06,-0.39,0],["c",-0.24,-0.15,-0.33,-0.39,-0.21,-0.6],["c",0.09,-0.12,3.18,-3.87,3.33,-4.02],["c",0.06,-0.06,0.18,-0.15,0.24,-0.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",0.06,-0.03,0.18,-0.06,0.24,-0.06],["c",0.3,0,0.27,-0.03,1.89,1.95],["l",1.53,1.83],["c",0.03,-0,0.57,-0.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",0.06,-0.03,0.18,-0.06,0.24,-0.06],["c",0.3,0,0.27,-0.03,1.89,1.95],["l",1.53,1.83],["l",0.48,-0.69],["c",0.51,-0.78,0.54,-0.84,0.69,-0.9],["c",0.42,-0.18,0.87,0.15,0.81,0.6],["c",-0.03,0.12,-0.3,0.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-0.06,0.03,-0.18,0.06,-0.24,0.06],["c",-0.3,0,-0.27,0.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-0.03,0,-0.57,0.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-0.06,0.03,-0.18,0.06,-0.24,0.06],["c",-0.3,0,-0.27,0.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-0.48,0.69],["c",-0.51,0.78,-0.54,0.84,-0.69,0.9],["c",-0.42,0.18,-0.87,-0.15,-0.81,-0.6],["c",0.03,-0.12,0.3,-0.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.mordent":{d:[["M",-0.21,-4.95],["c",0.27,-0.15,0.63,0,0.75,0.27],["c",0.06,0.12,0.06,0.24,0.06,1.44],["l",0,1.29],["l",0.57,-0.84],["c",0.51,-0.75,0.57,-0.84,0.69,-0.9],["c",0.06,-0.03,0.18,-0.06,0.24,-0.06],["c",0.3,0,0.27,-0.03,1.89,1.95],["l",1.53,1.83],["l",0.48,-0.69],["c",0.51,-0.78,0.54,-0.84,0.69,-0.9],["c",0.42,-0.18,0.87,0.15,0.81,0.6],["c",-0.03,0.12,-0.3,0.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-0.06,0.03,-0.18,0.06,-0.24,0.06],["c",-0.3,0,-0.27,0.03,-1.83,-1.89],["c",-0.81,-0.99,-1.5,-1.8,-1.53,-1.86],["c",-0.06,-0.03,-0.06,-0.03,-0.12,0.03],["c",-0.06,0.06,-0.06,0.15,-0.06,2.28],["c",-0,1.95,-0,2.25,-0.06,2.34],["c",-0.18,0.45,-0.81,0.48,-1.05,0.03],["c",-0.03,-0.06,-0.06,-0.24,-0.06,-1.41],["l",-0,-1.35],["l",-0.57,0.84],["c",-0.54,0.78,-0.6,0.87,-0.72,0.93],["c",-0.06,0.03,-0.18,0.06,-0.24,0.06],["c",-0.3,0,-0.27,0.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-0.48,0.69],["c",-0.51,0.78,-0.54,0.84,-0.69,0.9],["c",-0.42,0.18,-0.87,-0.15,-0.81,-0.6],["c",0.03,-0.12,0.3,-0.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",0.06,-0.03,0.18,-0.06,0.24,-0.06],["c",0.3,0,0.27,-0.03,1.89,1.95],["l",1.53,1.83],["c",0.03,-0,0.06,-0.06,0.09,-0.09],["c",0.06,-0.12,0.06,-0.15,0.06,-2.28],["c",-0,-1.92,-0,-2.22,0.06,-2.31],["c",0.06,-0.15,0.15,-0.24,0.3,-0.3],["z"]],w:15.011,h:10.012},"timesig.common":{d:[["M",6.66,-7.826],["c",0.72,-0.06,1.41,-0.03,1.98,0.09],["c",1.2,0.27,2.34,0.96,3.09,1.92],["c",0.63,0.81,1.08,1.86,1.14,2.73],["c",0.06,1.02,-0.51,1.92,-1.44,2.22],["c",-0.24,0.09,-0.3,0.09,-0.63,0.09],["c",-0.33,-0,-0.42,-0,-0.63,-0.06],["c",-0.66,-0.24,-1.14,-0.63,-1.41,-1.2],["c",-0.15,-0.3,-0.21,-0.51,-0.24,-0.9],["c",-0.06,-1.08,0.57,-2.04,1.56,-2.37],["c",0.18,-0.06,0.27,-0.06,0.63,-0.06],["l",0.45,0],["c",0.06,0.03,0.09,0.03,0.09,0],["c",0,0,-0.09,-0.12,-0.24,-0.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,0.15,-2.04,0.69,-2.4,1.74],["c",-0.36,0.93,-0.42,1.89,-0.42,5.37],["c",0,2.97,0.06,3.96,0.24,4.77],["c",0.24,1.08,0.63,1.68,1.41,2.07],["c",0.81,0.39,2.16,0.45,3.18,0.09],["c",1.29,-0.45,2.37,-1.53,3.03,-2.97],["c",0.15,-0.33,0.33,-0.87,0.39,-1.17],["c",0.09,-0.24,0.15,-0.36,0.3,-0.39],["c",0.21,-0.03,0.42,0.15,0.39,0.36],["c",-0.06,0.39,-0.42,1.38,-0.69,1.89],["c",-0.96,1.8,-2.49,2.94,-4.23,3.18],["c",-0.99,0.12,-2.58,-0.06,-3.63,-0.45],["c",-0.96,-0.36,-1.71,-0.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-0.06,-0.6,-0.06,-2.01,0,-2.61],["c",0.24,-1.95,0.9,-3.45,2.01,-4.56],["c",0.69,-0.66,1.44,-1.11,2.37,-1.47],["c",0.63,-0.24,1.47,-0.42,2.22,-0.48],["z"]],w:13.038,h:15.697},"timesig.cut":{d:[["M",6.24,-10.44],["c",0.09,-0.06,0.09,-0.06,0.48,-0.06],["c",0.36,0,0.36,0,0.45,0.06],["l",0.06,0.09],["l",0,1.23],["l",0,1.26],["l",0.27,0],["c",1.26,0,2.49,0.45,3.48,1.29],["c",1.05,0.87,1.8,2.28,1.89,3.48],["c",0.06,1.02,-0.51,1.92,-1.44,2.22],["c",-0.24,0.09,-0.3,0.09,-0.63,0.09],["c",-0.33,-0,-0.42,-0,-0.63,-0.06],["c",-0.66,-0.24,-1.14,-0.63,-1.41,-1.2],["c",-0.15,-0.3,-0.21,-0.51,-0.24,-0.9],["c",-0.06,-1.08,0.57,-2.04,1.56,-2.37],["c",0.18,-0.06,0.27,-0.06,0.63,-0.06],["l",0.45,-0],["c",0.06,0.03,0.09,0.03,0.09,-0],["c",0,-0.03,-0.45,-0.51,-0.66,-0.69],["c",-0.87,-0.69,-1.83,-1.05,-2.94,-1.11],["l",-0.42,0],["l",0,7.17],["l",0,7.14],["l",0.42,0],["c",0.69,-0.03,1.23,-0.18,1.86,-0.51],["c",1.05,-0.51,1.89,-1.47,2.46,-2.7],["c",0.15,-0.33,0.33,-0.87,0.39,-1.17],["c",0.09,-0.24,0.15,-0.36,0.3,-0.39],["c",0.21,-0.03,0.42,0.15,0.39,0.36],["c",-0.03,0.24,-0.21,0.78,-0.39,1.2],["c",-0.96,2.37,-2.94,3.9,-5.13,3.9],["l",-0.3,0],["l",0,1.26],["l",0,1.23],["l",-0.06,0.09],["c",-0.09,0.06,-0.09,0.06,-0.45,0.06],["c",-0.39,0,-0.39,0,-0.48,-0.06],["l",-0.06,-0.09],["l",0,-1.29],["l",0,-1.29],["l",-0.21,-0.03],["c",-1.23,-0.21,-2.31,-0.63,-3.21,-1.29],["c",-0.15,-0.09,-0.45,-0.36,-0.66,-0.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-0.06,-0.6,-0.06,-2.01,0,-2.61],["c",0.24,-1.95,0.93,-3.45,2.04,-4.59],["c",0.42,-0.39,0.78,-0.66,1.26,-0.93],["c",0.75,-0.45,1.65,-0.75,2.61,-0.9],["l",0.21,-0.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-0.06,10.44],["c",0,-5.58,0,-6.99,-0.03,-6.99],["c",-0.15,0,-0.63,0.27,-0.87,0.45],["c",-0.45,0.36,-0.75,0.93,-0.93,1.77],["c",-0.18,0.81,-0.24,1.8,-0.24,4.74],["c",0,2.97,0.06,3.96,0.24,4.77],["c",0.24,1.08,0.66,1.68,1.41,2.07],["c",0.12,0.06,0.3,0.12,0.33,0.15],["l",0.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"it.l":{d:[["M",3.889,-4.778],["c",-0.167,1.167,-1.111,2.833,-0.167,3.5],["c",1,-0.278,1.556,-0.833,2.445,-1.278],["l",-0,0.389],["c",-1.611,1,-2.111,1.945,-3.778,2.445],["c",-0.444,-0.112,-0.778,-0.945,-0.611,-1.612],["l",2.667,-10.111],["c",1.055,-1,2.166,-2.5,4.222,-2],["l",-0.834,1.056],["c",-3.055,-0.778,-2.555,3.111,-3.388,5.389],["c",-0.389,1.111,-0.389,1.166,-0.556,2.222],["z"]],w:6.933,h:13.822},"it.f":{d:[["M",4.333,-6.833],["c",0.722,-3.778,2.222,-7,6.5,-6.667],["l",-0.944,1.111],["c",-3.5,-1.111,-3.167,3.167,-4.112,5.556],["c",0.834,-0,1.723,-0.111,2.445,-0],["c",-0.5,0.611,-1.389,0.722,-2.611,0.611],["c",-1.278,4.056,-1.722,8.945,-5.111,10.889],["c",-0.556,0.333,-1.667,0.333,-2.5,0.167],["c",0.5,-0.667,0.722,-1.5,2,-1.167],["c",3.722,-0.778,2.611,-6.389,4.166,-9.889],["l",-2.666,0],["c",0.666,-0.444,1.666,-0.833,2.833,-0.611],["z"]],w:12.833,h:18.467},"it.F":{d:[["M",14.667,-12.389],["c",-0.167,0.778,-1.056,1.111,-1.444,1.444],["l",-3.223,-0.055],["l",-1.277,5.167],["l",3.166,-0],["c",-0.611,0.777,-2,0.777,-3.389,0.777],["c",-0.777,4,-2.444,7.556,-7.277,7.278],["c",0.444,-0.667,0.555,-1.444,2.055,-1.278],["c",3.333,0.334,2.833,-3.444,3.778,-5.889],["l",-0.5,0],["c",1.333,-1.388,1.333,-4.055,2,-6.055],["c",-3.167,-0.667,-4.833,2.055,-3.611,4.833],["l",-1.667,0.778],["c",-1.111,-3.944,1.778,-6.333,5.945,-6.333],["c",2,-0,4.222,0.333,5.444,-0.667],["z"]],w:13.444,h:14.626},"it.i":{d:[["M",5.444,-12.333],["l",0.722,1.389],["c",-0.444,0.333,-0.944,0.611,-1.333,1.055],["c",-0.167,-0.444,-1.167,-1.277,-0.445,-1.555],["z"],["m",-0.389,4.333],["l",-1.389,6.167],["c",0.334,1.389,1.778,-0.278,2.556,-0.5],["c",-0.056,1.111,-1.278,1,-1.778,1.667],["c",-0.833,0.444,-1.222,0.833,-1.944,0.944],["c",-0.445,-0.055,-0.556,-0.722,-0.445,-1.167],["c",0.167,-1.777,1,-3.333,1.278,-5.333],["c",-0.278,-0.778,-1.167,0.111,-1.722,0.333],["l",0.055,-0.555],["c",1.167,-0.722,2.111,-1.556,3.167,-1.778],["c",0.167,0,0.222,0.111,0.222,0.222],["z"]],w:4.611,h:12.611},"it.n":{d:[["M",6.556,0.333],["c",-0.889,-2.222,1,-4.389,0.944,-6.778],["c",-0.388,-0.611,-1,0.278,-1.555,0.445],["c",-0.5,0.333,-0.556,0.333,-1.5,0.944],["l",-1.167,4.667],["l",-1.5,0.611],["c",0.5,-2.111,1.334,-4.389,1.611,-6.611],["c",-0.333,-0.667,-1.166,0.166,-1.777,0.333],["c",0.5,-1.444,2.166,-1.5,3.277,-2.167],["c",0.667,0.334,-0.222,1.612,-0.222,2.334],["c",1,-0.611,2.667,-1.889,4.222,-2.334],["c",0.334,0,0.445,0.278,0.334,0.5],["c",-0.278,1.612,-1.167,3.945,-1.445,5.834],["c",0.111,1,1,0.222,1.445,-0],["c",0.444,-0.222,0.444,-0.222,1.166,-0.667],["c",-0.555,1.611,-2.722,2.056,-3.833,2.889],["z"]],w:8.778,h:8.556},"it.e":{d:[["M",4.389,-0.889],["c",1.389,0,2.056,-0.889,3.222,-1.833],["l",0,0.555],["c",-1.611,1.611,-3,2.445,-4.222,2.445],["c",-1.111,-0,-1.722,-0.778,-1.667,-1.945],["c",0.167,-3.444,1.389,-6.555,4.556,-6.555],["c",0.667,-0,1.167,0.389,1.111,1.111],["c",-0.222,2.389,-2.722,3,-4.167,4.278],["c",-0.055,1.055,0.223,1.944,1.167,1.944],["z"],["m",1.556,-5.667],["c",0.111,-0.833,-0.667,-1.055,-1.167,-0.555],["c",-0.778,0.833,-1.333,2.111,-1.5,3.555],["c",1.222,-0.889,2.5,-1.222,2.667,-3],["z"]],w:5.892,h:8.5},"it.D":{d:[["M",15.167,-8.056],["c",-0.278,6.778,-5.611,8.667,-13.444,8.056],["l",0.944,-0.945],["c",2.722,-0.055,2.944,-1.833,3.5,-4.111],["l",1.5,-5.944],["c",-2.944,0.222,-4.889,2,-4.167,5.166],["l",-1.666,0.778],["c",-0.778,-3.778,2.333,-6.111,6.166,-6.611],["l",1.445,-0.611],["l",-0.167,0.555],["c",2.945,0.056,6,0.945,5.889,3.667],["z"],["m",-7.833,7.167],["c",4.5,0.222,6.111,-2.778,6.111,-6.778],["c",-0,-2.5,-1.611,-3.5,-4.334,-3.445],["l",-2.166,7.778],["c",-0.611,0.945,-1.222,1.556,-2.167,2.334],["z"]],w:13.456,h:12.386},"it.d":{d:[["M",2.222,0.111],["c",-1.389,-3.444,1.167,-8.611,5.056,-8.222],["c",0.444,-1.5,0.666,-3,1.833,-3.834],["c",1.167,-0.833,1.833,-1.833,3.444,-1.5],["c",-0.333,0.612,-0.611,1.389,-1.611,0.945],["c",-2.666,0.889,-2.111,5.778,-3.222,8.444],["c",-0.056,0.889,-0.778,2.278,-0.167,2.889],["c",0.723,-0.222,1.556,-1,2.389,-1.444],["c",-0.555,1.666,-2.555,2,-3.778,2.889],["c",-0.722,-0.111,-0.444,-1.223,-0.333,-2.056],["c",-1,0.611,-2.278,1.722,-3.333,2.056],["c",-0.111,-0,-0.167,-0.056,-0.278,-0.167],["z"],["m",3.722,-7.389],["c",-1.5,-0.278,-2.778,3.333,-2.778,5.333],["c",0,1.667,1.223,0.5,1.834,0.112],["l",1,-0.723],["l",0.944,-4.166],["c",-0.333,-0.389,-0.5,-0.445,-1,-0.556],["z"]],w:10.716,h:13.788},"it.a":{d:[["M",7.833,-1.444],["c",0.889,-0.167,1.278,-0.833,2,-1.167],["c",-0.5,1.778,-2.444,2.056,-3.667,2.889],["c",-0.722,-0.333,-0.055,-1.333,0,-2.222],["c",-1.222,0.722,-2.222,1.667,-3.611,2.222],["c",-2.166,-3,0.5,-9.5,5.5,-8.444],["c",0.389,0.055,0.834,0.111,1.334,0.222],["c",-1.223,1.389,-1.334,4,-1.778,6.111],["c",-0,0.278,0.055,0.389,0.222,0.389],["z"],["m",-0.444,-5.611],["c",-3.223,-1.222,-3.889,2.167,-4.112,4.778],["c",0.389,2.222,2,-0,3.056,-0.445],["z"]],w:8.037,h:8.559},"it.C":{d:[["M",3.389,-2.556],["c",-0.167,4.167,5,3.389,7.167,1.278],["l",-0.111,0.611],["c",-2.167,2,-8.889,3.889,-8.667,-1.167],["c",0.222,-5.333,3.5,-10,8.555,-10],["c",1.5,0,2.167,0.667,2.389,2],["l",-1.5,1.278],["c",-0.111,-1.389,-0.555,-2.333,-1.944,-2.333],["c",-3.833,-0,-5.722,4.166,-5.889,8.333],["z"]],w:10.95,h:13.236},"it.c":{d:[["M",3.278,-2.389],["c",-0.056,0.889,0.389,1.5,1.167,1.5],["c",0.611,0,1.666,-0.556,3.222,-1.667],["l",-0.056,0.667],["c",-1.389,0.944,-2.722,2,-4.444,2.167],["c",-2.945,-0.778,-0.833,-6.5,0.833,-7.278],["c",0.778,-0.389,1.278,-1.111,2.278,-1.222],["c",0.778,-0.111,1.333,0.889,1.111,1.611],["l",-1.167,0.666],["c",-0.111,-0.666,-0.222,-1.222,-0.833,-1.222],["c",-1.389,0.056,-2.055,3,-2.111,4.778],["z"]],w:5.971,h:8.509},"it.p":{d:[["M",9.667,-6.667],["c",0,3.778,-2,7.111,-6.167,6.722],["l",-0.944,4.278],["l",2.222,0.111],["c",-0.778,0.945,-3.222,0.333,-4.944,0.445],["c",0.333,-0.334,0.611,-0.723,1.333,-0.667],["l",2.333,-10.167],["c",-0.111,-1.166,-1.333,-0.166,-1.833,0],["c",0.5,-1.333,2.278,-1.611,3.389,-2.278],["c",0.667,0.223,-0.111,1.334,-0.111,2.056],["c",1.278,-0.944,4.722,-3.722,4.722,-0.5],["z"],["m",-1.444,0.889],["c",-0,-2.333,-2.612,-0.167,-3.445,0.444],["l",-0.944,4],["c",2.722,1.723,4.389,-1.833,4.389,-4.444],["z"]],w:9.833,h:13.204},"it.o":{d:[["M",1.722,-1.722],["c",0.111,-3.722,2.278,-6.056,5.444,-6.5],["c",1.112,-0.167,1.834,0.722,1.834,1.833],["c",-0.222,3.778,-2.056,6,-5.556,6.667],["c",-1,-0.056,-1.722,-0.833,-1.722,-2],["z"],["m",2.889,1.056],["c",2.222,-0,3.333,-3.834,2.5,-6.112],["c",-0.222,-0.333,-0.556,-0.5,-1,-0.5],["c",-1.945,0,-2.833,2.556,-2.833,4.723],["c",-0,1,0.444,1.889,1.333,1.889],["z"]],w:7.278,h:8.52},"it.S":{d:[["M",9,-3.611],["c",0,4,-6.111,6.722,-9,3.667],["c",0.444,-0.778,0.5,-1.834,1.222,-2.334],["c",0.167,1.778,1.278,2.778,3,2.778],["c",1.778,0,3.222,-1.055,3.222,-2.944],["c",0,-2.611,-3.277,-2.389,-3.277,-5],["c",-0,-2.389,2,-4.278,4.389,-4.278],["c",1.055,-0,1.666,0.555,1.777,1.667],["l",-1.333,0.888],["c",-0.222,-1.111,-0.278,-1.611,-1.333,-1.611],["c",-1.334,0,-2.167,1.056,-2.167,2.445],["c",0,2.5,3.5,2.222,3.5,4.722],["z"]],w:10.333,h:13.089},"it.s":{d:[["M",2.278,0.278],["c",-1,0,-1.556,-0.778,-1.444,-1.944],["l",1.388,-0.889],["c",0,1.111,0.278,2,1.167,2],["c",0.945,-0.167,1.722,-0.723,1.667,-1.889],["c",-0.445,-1.056,-2.222,-1.278,-2.222,-2.722],["c",-0,-2,3.055,-4.056,4.722,-2.389],["l",-0.945,1.055],["c",-0.555,-1.166,-2.555,-0.889,-2.5,0.5],["c",0,1.611,2.334,1.278,2.223,2.945],["c",-0.167,1.944,-1.889,3.333,-4.056,3.333],["z"]],w:6.736,h:8.445},"it.punto":{d:[["M",3.056,0.167],["c",-0.333,-0.611,-1.389,-1.556,-0.333,-1.944],["l",0.889,-0.778],["c",0.388,0.722,1.444,1.611,0.277,2.111],["c",-0.277,0.167,-0.5,0.444,-0.833,0.611],["z"]],w:2.157,h:2.722}};
this.getSymbolPathTxt=function(c){if(!a[c]){return null}return this.stringify(a[c].d)};this.printSymbol=function(c,j,d,h){if(!a[d]){return null}var e=this.pathClone(a[d].d);e[0][1]+=c;e[0][2]+=j;var g=h.path().attr({path:e,stroke:"none",fill:"#000000"});return g};this.getSymbolWidth=function(d){var c=d.replace("graceheads","noteheads").replace("graceflags","flags");if(a[c]){return a[c].w}return 0};this.getSymbolHeight=function(c){if(a[c]){return a[c].h}return 0};this.getSymbolAlign=function(c){if(c.substring(0,7)==="scripts"&&c!=="scripts.roll"){return"center"}return"left"};this.pathClone=function(k){var e=[];for(var d=0,g=k.length;d<g;d++){e[d]=[];for(var c=0,h=k[d].length;c<h;c++){e[d][c]=k[d][c]}}return e};this.stringify=function(g){var d="";for(var c=0,e=g.length;c<e;c++){if(c>0&&(c%3===0)&&!(g[c].length===1&&g[c][0]==="z")){d+="\n"}d+=g[c][0]+g[c].slice(1).join(" ")}return d};this.pathScale=function(l,h,e){for(var d=0,g=l.length;d<g;d++){var m=l[d];var c,k;for(c=1,k=m.length;c<k;c++){m[c]*=(c%2)?h:e}}};this.getYCorr=function(c){switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return -3;case"timesig.common":case"timesig.cut":return -1;case"flags.d32nd":return -1;case"flags.d64th":return -2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return -1;case"rests.8th":return -1;case"rests.quarter":return -2;case"rests.16th":return -1;case"rests.32nd":return -1;case"rests.64th":return -1;default:return 0}}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}}ABCXJS.write.StaffGroupElement=function(){this.voices=[]};ABCXJS.write.StaffGroupElement.prototype.addVoice=function(a){this.voices[this.voices.length]=a};ABCXJS.write.StaffGroupElement.prototype.finished=function(){for(var a=0;a<this.voices.length;a++){if(!this.voices[a].layoutEnded()){return false}}return true};ABCXJS.write.StaffGroupElement.prototype.layout=function(l,g,r){this.spacingunits=0;this.minspace=1000;var o=g.paddingleft;var e=0;for(var t=0;t<this.voices.length;t++){if(this.voices[t].header){e=Math.max(e,this.voices[t].header.length*5+10)}}o+=e+(e?g.paddingleft:0);this.startx=o;var q=0;if(r){waterbug.log("init layout")}for(t=0;t<this.voices.length;t++){this.voices[t].beginLayout(o);for(b=0;b<this.voices[t].beams.length;b++){for(be=0;be<this.voices[t].beams[b].elems.length;be++){var u=this.voices[t].beams[b].elems[be];this.voices[t].stave.highest=Math.max(u.top,this.voices[t].stave.highest);this.voices[t].stave.lowest=Math.min(u.bottom-2,this.voices[t].stave.lowest)}}}var v=0;while(!this.finished()){if(v++>1000){alert("não termina!")}q=null;for(t=0;t<this.voices.length;t++){if(!this.voices[t].layoutEnded()&&(!q||this.voices[t].getDurationIndex()<q)){q=this.voices[t].getDurationIndex()}}if(r){waterbug.log("currentduration: ",q)}var m=[];var h=[];for(t=0;t<this.voices.length;t++){if(this.voices[t].getDurationIndex()!==q){h.push(this.voices[t])}else{m.push(this.voices[t]);if(r){waterbug.log("in: voice ",t)}}}var k=0;var w=0;for(t=0;t<m.length;t++){if(m[t].getNextX()>o){o=m[t].getNextX();var a=m[t].spacingduration;k=m[t].getSpacingUnits();w=Math.abs(a)<0.001?Math.round(a):a}}this.spacingunits+=k;this.minspace=Math.min(this.minspace,k);for(t=0;t<m.length;t++){var d=m[t].layoutOneItem(o,l);var p=d-o;if(p>0){o=d;for(var s=0;s<t;s++){m[s].shiftRight(p)}}}for(t=0;t<h.length;t++){h[t].spacingduration-=w;h[t].updateNextX(o,l)}for(t=0;t<m.length;t++){var y=m[t];y.updateIndices()}}for(t=0;t<this.voices.length;t++){if(this.voices[t].getNextX()>o){o=this.voices[t].getNextX();k=this.voices[t].getSpacingUnits()}}this.spacingunits+=k;this.w=o;for(t=0;t<this.voices.length;t++){this.voices[t].w=this.w}};ABCXJS.write.StaffGroupElement.prototype.calcShiftAbove=function(a){var c=Math.max(a.stave.highest,ABCXJS.write.spacing.TOPNOTE)-ABCXJS.write.spacing.TOPNOTE;return(c+2)*ABCXJS.write.spacing.STEP};ABCXJS.write.StaffGroupElement.prototype.calcHeight=function(a){var c=(2+a.stave.highest-a.stave.lowest)*ABCXJS.write.spacing.STEP;c+=14*a.stave.lyricsRows;return c};ABCXJS.write.StaffGroupElement.prototype.draw=function(u,d){var t=0;var s=0;var o=u.y;var e=u.y;for(var g=0;g<this.voices.length;g++){var j=0;if(this.voices[g].stave.lyricsRows===0){this.voices[g].stave.lowest-=2}s=this.calcShiftAbove(this.voices[g]);if(this.voices[g].duplicate){var l=this.voices[g-1].stave.y-this.voices[g-1].stave.top;var q=this.voices[g-1].stave.bottom-this.voices[g-1].stave.top;this.voices[g].stave.top=this.voices[g-1].stave.top;if(s>l){this.voices[g-1].stave.y+=(s-l)}this.voices[g].stave.y=this.voices[g-1].stave.y;var p=Math.min(this.voices[g].stave.lowest,this.voices[g-1].stave.lowest);this.voices[g].stave.lowest=p;this.voices[g-1].stave.lowest=p;var p=Math.max(this.voices[g].stave.highest,this.voices[g-1].stave.highest);this.voices[g].stave.highest=p;this.voices[g-1].stave.highest=p;j=this.calcHeight(this.voices[g]);if(j>q){t+=(j-q);o+=(j-q)}this.voices[g-1].stave.bottom=o;this.voices[g].stave.bottom=o}else{if(d>0&&g===0&&this.voices[g].stave.subtitle){o+=5}j=this.calcHeight(this.voices[g]);this.voices[g].stave.top=o;this.voices[g].stave.y=o+s;t+=j;o+=j;this.voices[g].stave.bottom=o}}var k=u.y+t+u.staffsep;if(k>=u.estimatedPageLength){u.skipPage()}else{if(d>0){u.y+=u.staffsep}}var r=u.y-e;if(r!==0){for(var g=0;g<this.voices.length;g++){this.voices[g].stave.bottom+=r;this.voices[g].stave.top+=r;this.voices[g].stave.y+=r}}for(g=0;g<this.voices.length;g++){if(this.voices[g].stave.numLines===0||this.voices[g].duplicate){continue}u.y=this.voices[g].stave.y;if(typeof(debug)!=="undefined"&&debug){u.printDebugLine(this.startx,this.w,this.voices[g].stave.y,"#ff0000");u.printDebugMsg(this.startx-5,this.voices[g].stave.y,"y");u.printDebugLine(this.startx,this.w,this.voices[g].stave.top,"#00ff00");u.printDebugMsg(this.startx-5,this.voices[g].stave.top,"top");u.printDebugLine(this.startx,this.w,this.voices[g].stave.bottom,"#00ff00");u.printDebugMsg(this.startx+50,this.voices[g].stave.bottom,"bottom");u.printDebugLine(this.startx,this.w,u.calcY(this.voices[g].stave.highest),"#0000ff");u.printDebugMsg(this.w-50,u.calcY(this.voices[g].stave.highest),"highest");u.printDebugLine(this.startx,this.w,u.calcY(this.voices[g].stave.lowest),"#0000ff");u.printDebugMsg(this.w-50,u.calcY(this.voices[g].stave.lowest),"lowest")}u.printStave(this.startx,this.w-1,this.voices[g].stave)}for(g=0;g<this.voices.length;g++){if(d>0&&g===0&&this.voices[g].stave.subtitle){u.y=this.voices[g].stave.top-18;u.printSubtitleLine(this.voices[g].stave.subtitle)}this.voices[g].draw(u)}if(this.voices.length>0){var m=this.voices[0].stave.y;var c=this.voices[this.voices.length-1].stave.clef.type;var a=u.calcY(c==="accordionTab"?0:2);u.printBar(this.startx,0.6,m,a,false);u.printBar(this.w-1,0.6,m,a,false);if(this.voices.length>1){u.paper.printBrace(this.startx-10,m-10,a+10)}}this.top=e+r+u.totalY;this.height=t;u.y=e+r+t};ABCXJS.write.VoiceElement=function(d,c,a){this.children=[];
this.beams=[];this.otherchildren=[];this.w=0;this.duplicate=false;this.voicenumber=d;this.staffnumber=c;this.voicetotal=a.voices.length;this.stem=a.stem[d];this.stave={y:0,top:0,bottom:0,clef:a.clef,subtitle:a.subtitle,lyricsRows:a.lyricsRows,lowest:(a.clef.type==="accordionTab")?-2:0,highest:(a.clef.type==="accordionTab")?21.5:10,numLines:(a.clef.type==="accordionTab")?4:a.clef.staffLines||5}};ABCXJS.write.VoiceElement.prototype.addChild=function(a){this.children[this.children.length]=a};ABCXJS.write.VoiceElement.prototype.addOther=function(a){if(a instanceof ABCXJS.write.BeamElem){this.beams.push(a)}else{this.otherchildren.push(a)}};ABCXJS.write.VoiceElement.prototype.updateIndices=function(){if(!this.layoutEnded()){this.durationindex+=this.children[this.i].duration;if(this.children[this.i].duration===0){this.durationindex=Math.round(this.durationindex*64)/64}this.i++}};ABCXJS.write.VoiceElement.prototype.layoutEnded=function(){return(this.i>=this.children.length)};ABCXJS.write.VoiceElement.prototype.getDurationIndex=function(){return this.durationindex-(this.children[this.i]&&(this.children[this.i].duration>0)?0:5e-7)};ABCXJS.write.VoiceElement.prototype.getSpacingUnits=function(){return(this.minx<this.nextx)?Math.sqrt(this.spacingduration*8):0};ABCXJS.write.VoiceElement.prototype.getNextX=function(){return Math.max(this.minx,this.nextx)};ABCXJS.write.VoiceElement.prototype.beginLayout=function(a){this.i=0;this.durationindex=0;this.ii=this.children.length;this.startx=a;this.minx=a;this.nextx=a;this.spacingduration=0};ABCXJS.write.VoiceElement.prototype.layoutOneItem=function(a,e){var d=this.children[this.i];if(!d){return 0}var c=a-this.minx;if(c<d.getExtraWidth()){a+=d.getExtraWidth()-c}d.x=a;this.spacingduration=d.duration;this.minx=a+d.getMinWidth();if(this.i!==this.ii-1){this.minx+=d.minspacing}this.updateNextX(a,e);this.stave.highest=Math.max(d.top,this.stave.highest);this.stave.lowest=Math.min(d.bottom,this.stave.lowest);return a};ABCXJS.write.VoiceElement.prototype.updateNextX=function(a,d){var c=a+(d*Math.sqrt(this.spacingduration*8));this.nextx=isNaN(c)?0:c};ABCXJS.write.VoiceElement.prototype.shiftRight=function(a){var c=this.children[this.i];if(!c){return}c.x+=a;this.minx+=a;this.nextx+=a};ABCXJS.write.VoiceElement.prototype.draw=function(h){var c=this;var g=c.w-1;h.y=c.stave.y;if(this.header){var a=(c.stave.clef.type!=="accordionTab"?h.calcY(6):c.stave.y)+3;var d=h.paddingleft;h.printText(d,a,this.header,"abc_voice_header","start")}for(var e=0;e<this.beams.length;e++){this.beams[e].draw(h)}for(var e=0;e<this.children.length;e++){this.children[e].draw(h,c.stave)}for(var e=0;e<this.otherchildren.length;e++){this.otherchildren[e].draw(h,c.startx+10,g,c.stave,c.staffnumber,c.voicenumber)}};ABCXJS.write.AbsoluteElement=function(d,c,a){this.abcelem=d;this.duration=c;this.minspacing=a||0;this.x=0;this.children=[];this.heads=[];this.extra=[];this.extraw=0;this.decs=[];this.w=0;this.right=[];this.invisible=false;this.bottom=7;this.top=7};ABCXJS.write.AbsoluteElement.prototype.getMinWidth=function(){return this.w};ABCXJS.write.AbsoluteElement.prototype.getExtraWidth=function(){return -this.extraw};ABCXJS.write.AbsoluteElement.prototype.addExtra=function(a){if(a.dx<this.extraw){this.extraw=a.dx}this.extra[this.extra.length]=a;this.addChild(a)};ABCXJS.write.AbsoluteElement.prototype.addHead=function(a){if(a.dx<this.extraw){this.extraw=a.dx}this.heads[this.heads.length]=a;this.addRight(a)};ABCXJS.write.AbsoluteElement.prototype.addRight=function(a){if(a.dx+a.w>this.w){this.w=a.dx+a.w}this.right[this.right.length]=a;this.addChild(a)};ABCXJS.write.AbsoluteElement.prototype.addChild=function(a){a.parent=this;this.children[this.children.length]=a;this.pushTop(a.top);this.pushBottom(a.bottom)};ABCXJS.write.AbsoluteElement.prototype.pushTop=function(a){this.top=Math.max(a,this.top)};ABCXJS.write.AbsoluteElement.prototype.pushBottom=function(a){this.bottom=Math.min(a,this.bottom)};ABCXJS.write.AbsoluteElement.prototype.draw=function(d,e){if(this.invisible){return}var a=0;this.elemset={};for(var c=0;c<this.children.length;c++){if(this.children[c].type==="ledger"||this.children[c].type==="part"){this.children[c].draw(d,this.x,e)}else{a++}}if(a>0){d.beginGroup(this)}for(var c=0;c<this.children.length;c++){if(this.children[c].type!=="ledger"&&this.children[c].type!=="part"){this.children[c].draw(d,this.x,e)}}if(a>0){d.endGroup()}this.abcelem.parent=this;this.abcelem.parent.staffGroup=d.staffgroups.length};ABCXJS.write.AbsoluteElement.prototype.setMouse=function(h){var a=this;this.svgElem=document.getElementById(a.gid);if(ABCXJS.write.color.useTransparency){try{var g="http://www.w3.org/2000/svg";var d=this.svgElem.getBBox();var c=document.createElementNS(g,"rect");c.setAttributeNS(null,"x",d.x.toFixed(1)-1);c.setAttributeNS(null,"y",d.y.toFixed(1)-1);c.setAttributeNS(null,"height",d.height.toFixed(1)+2);c.setAttributeNS(null,"width",d.width.toFixed(1)+2);c.setAttributeNS(null,"fill","none");this.svgElem.appendChild(c);this.svgArea=c}catch(j){}}this.svgElem.onmouseover=function(){a.highlight(true)};this.svgElem.onmouseout=function(){a.unhighlight(true)};this.svgElem.onclick=function(){h.notifyClearNSelect(a,true)}};ABCXJS.write.AbsoluteElement.prototype.highlight=function(a){if(!this.svgElem){return}if(a){this.svgElem.prevFill=this.svgElem.style.fill}this.svgElem.style.setProperty("fill",ABCXJS.write.color.highLight);(this.svgArea)&&this.svgArea.style.setProperty("fill",ABCXJS.write.color.highLight);(this.svgArea)&&this.svgArea.style.setProperty("fill-opacity","0.15")};ABCXJS.write.AbsoluteElement.prototype.unhighlight=function(a){if(!this.svgElem){return}var c=(a&&this.svgElem.prevFill)?this.svgElem.prevFill:ABCXJS.write.color.unhighLight;this.svgElem.style.setProperty("fill",c);(this.svgArea)&&this.svgArea.style.setProperty("fill-opacity","0")};ABCXJS.write.RelativeElement=function(h,d,a,g,e){e=e||{};this.x=0;this.c=h;this.dx=d;this.w=a;this.pitch=g;this.type=e.type||"symbol";this.pitch2=e.pitch2;this.linewidth=e.linewidth;this.attributes=e.attributes;this.top=g+((e.extreme==="above")?7:0);this.bottom=g-((e.extreme==="below")?7:0)};ABCXJS.write.RelativeElement.prototype.draw=function(c,a,d){this.x=a+this.dx;switch(this.type){case"symbol":if(this.c===null){return null}this.graphelem=c.printSymbol(this.x,this.pitch,this.c);break;case"debug":this.graphelem=c.printDebugMsg(this.x,d.highest+2,this.c);break;case"fingering":this.graphelem=c.printFingering(this.x,d,this.c);break;case"lyrics":this.graphelem=c.printLyrics(this.x,d,this.c);break;case"barnumber":this.graphelem=c.printText(this.x,this.pitch,this.c,"abc_ending","middle");break;case"part":this.graphelem=c.printText(this.x,this.pitch,this.c,"abc_subtitle");break;case"text":this.graphelem=c.printText(this.x,this.pitch,this.c,"abc_text");break;case"tabText":this.graphelem=c.printTabText(this.x,this.pitch,this.c);break;case"tabText2":this.graphelem=c.printTabText2(this.x,this.pitch,this.c);break;case"tabText3":this.graphelem=c.printTabText3(this.x,this.pitch,this.c);
break;case"bar":this.graphelem=c.printBar(this.x,this.linewidth,c.calcY(this.pitch),c.calcY(this.pitch2),true);break;case"stem":this.drawStem(c);break;case"ledger":this.graphelem=c.printLedger(this.x,this.x+this.w,this.pitch);break}return this.graphelem};ABCXJS.write.RelativeElement.prototype.drawStem=function(m){var l=this.parent.beam;var c=this.parent.abcelem;if(l){if(c.rest){return}var e=this.parent.beamId;var h=l.elems[e].heads[(l.asc)?0:l.elems[e].heads.length-1];var d=(l.isgrace)?1/3:1/5;var a=h.pitch+((l.asc)?d:-d);var j=m.calcY(a);var k=h.x+((l.asc)?h.w:0);var g=l.getBarYAt(k);var o=(l.asc)?-0.6:0.6;m.printStem(k,o,j,g)}else{this.graphelem=m.printStem(this.x,0.6*this.linewidth,m.calcY(this.pitch),m.calcY(this.pitch2))}};ABCXJS.write.TieElem=function(e,c,a,d){this.anchor1=e;this.anchor2=c;this.above=a;this.force=d};ABCXJS.write.TieElem.prototype.draw=function(d,h,a,g){var e;var c;if(this.startlimitelem){h=this.startlimitelem.x+this.startlimitelem.w}if(this.endlimitelem){a=this.endlimitelem.x}if(!this.force&&this.anchor2&&this.anchor2.pitch===this.anchor2.top){this.above=true}if(this.anchor1){h=this.anchor1.x;e=this.above?this.anchor1.highestVert:this.anchor1.pitch;if(!this.anchor2){c=this.above?this.anchor1.highestVert:this.anchor1.pitch}}if(this.anchor2){a=this.anchor2.x;c=this.above?this.anchor2.highestVert:this.anchor2.pitch;if(!this.anchor1){e=this.above?this.anchor2.highestVert:this.anchor2.pitch}}d.printTieArc(h,a,e,c,this.above)};ABCXJS.write.DynamicDecoration=function(a,c){this.anchor=a;this.dec=c};ABCXJS.write.DynamicDecoration.prototype.draw=function(d,h,a,g){var e=g.lowest-1;for(var c=0;c<this.dec.length;c++){d.printSymbol(this.anchor.x+c*10,e,this.dec[c])}};ABCXJS.write.EndingElem=function(d,c,a){this.text=d;this.anchor1=c;this.anchor2=a};ABCXJS.write.EndingElem.prototype.draw=function(e,j,a,h,d,c){if(d>0||c>0){return}var g=e.calcY(h.highest+5);if(this.anchor1){j=this.anchor1.x+this.anchor1.w;e.paper.printLine(j,g,j,g+10);e.paper.text(j+3,g+9,this.text,"abc_ending","start")}if(this.anchor2){a=this.anchor2.x}e.paper.printLine(j,g,a-5,g)};ABCXJS.write.CrescendoElem=function(d,c,a){this.anchor1=d;this.anchor2=c;this.dir=a};ABCXJS.write.CrescendoElem.prototype.draw=function(c,g,a,e){var d=c.calcY(e.lowest-1);if(this.dir==="<"){c.paper.printLine(this.anchor1.x,d,this.anchor2.x,d-4);c.paper.printLine(this.anchor1.x,d,this.anchor2.x,d+4)}else{c.paper.printLine(this.anchor1.x,d-4,this.anchor2.x,d);c.paper.printLine(this.anchor1.x,d+4,this.anchor2.x,d)}};ABCXJS.write.TripletElem=function(e,d,a,c){this.anchor1=d;this.anchor2=a;this.forceUp=c==="up";this.forceDown=c==="down";this.number=e.num;this.qtd_notes=e.notes;this.avgPitch=e.avgPitch;this.minPitch=100;this.maxPitch=-100;this.asc=!((this.forceUp||this.avgPitch<=6)&&(!this.forceDown));this.multiplier=e.num===2?1.5:(e.num-1)/e.num};ABCXJS.write.TripletElem.prototype.draw=function(q,r,c,k){if(this.anchor1&&this.anchor2){var g=(this.qtd_notes?this.qtd_notes:this.number)/2;var h=this.anchor1.parent.abcelem.averagepitch-this.anchor2.parent.abcelem.averagepitch;var l=true;if(l){h=0}else{h=Math.min(h,g);h=Math.max(h,-g)}var d=Math.max(this.forceUp?this.maxPitch+9:(this.maxPitch>=10?this.maxPitch+3:13),13);var a=q.calcY(d+Math.floor(h/2));var e=q.calcY(d+Math.floor(-h/2));if(this.anchor1.parent.beam&&this.anchor1.parent.beam===this.anchor2.parent.beam){var o=this.anchor1.parent.beam;this.asc=o.asc;d=o.pos}else{var m=q.calcY(d);var r=this.anchor1.x-2;var c=this.anchor2.x+this.anchor2.w;q.paper.printLine(r,a+(true?0:-5),r,a+(true?5:0));q.paper.printLine(c,e+(true?0:-5),c,e+(true?5:0));q.paper.printBeam(r,a,(r+c)/2-5,m,(r+c)/2-5,m+1,r,a+1);q.paper.printBeam((r+c)/2+5,m,c,e,c,e+1,(r+c)/2+5,m+1)}var p=d+(o?(this.asc?2:-3.5):-1);var j=(this.anchor1.x+this.anchor2.x+this.anchor1.w+(o&&this.asc?this.anchor2.w:0)-2)/2;q.printText(j,p,this.number,"abc_ending","middle")}else{waterbug.log("Incomplete triplet")}};ABCXJS.write.BeamElem=function(a,c){this.isflat=(c);this.isgrace=(a&&a==="grace");this.forceup=(a&&a==="up");this.forcedown=(a&&a==="down");this.elems=[];this.total=0;this.dy=(this.asc)?ABCXJS.write.spacing.STEP*1.2:-ABCXJS.write.spacing.STEP*1.2;if(this.isgrace){this.dy=this.dy*0.4}this.allrests=true};ABCXJS.write.BeamElem.prototype.add=function(a){var c=a.abcelem.averagepitch;if(c===undefined){return}this.allrests=this.allrests&&a.abcelem.rest;a.beam=this;this.elems.push(a);this.total+=c;if(!this.min||a.abcelem.minpitch<this.min){this.min=a.abcelem.minpitch}if(!this.max||a.abcelem.maxpitch>this.max){this.max=a.abcelem.maxpitch}};ABCXJS.write.BeamElem.prototype.average=function(){try{return this.total/this.elems.length}catch(a){return 0}};ABCXJS.write.BeamElem.prototype.calcDir=function(){var a=this.average();this.asc=(this.forceup||this.isgrace||a<6)&&(!this.forcedown);return this.asc};ABCXJS.write.BeamElem.prototype.getBarYAt=function(a){return this.starty+(this.endy-this.starty)/(this.endx-this.startx)*(a-this.startx)};ABCXJS.write.BeamElem.prototype.draw=function(j){if(this.elems.length===0||this.allrests){return}var h=this.average();var a=(this.isgrace)?5:7;this.calcDir();var d=this.asc?5:8;this.pos=Math.round(this.asc?Math.max(h+a,this.max+d):Math.min(h-a,this.min-d));var k=this.elems.length/2;var g=this.elems[0].abcelem.averagepitch-this.elems[this.elems.length-1].abcelem.averagepitch;if(this.isflat){g=0}else{g=Math.min(g,k);g=Math.max(g,-k)}this.starty=j.calcY(this.pos+Math.floor(g/2));this.endy=j.calcY(this.pos+Math.floor(-g/2));var e=this.elems[0].heads[(this.asc)?0:this.elems[0].heads.length-1];var c=this.elems[this.elems.length-1].heads[(this.asc)?0:this.elems[this.elems.length-1].heads.length-1];this.startx=this.elems[0].x;if(this.asc){this.startx+=e.w-0.6}this.endx=this.elems[this.elems.length-1].x;if(this.asc){this.endx+=c.w}if((this.asc&&this.pos<6)||(!this.asc&&this.pos>6)){this.pos=6;this.starty=j.calcY(this.pos);this.endy=j.calcY(this.pos)}j.paper.printBeam(this.startx,this.starty,this.startx,(this.starty+this.dy),this.endx,(this.endy+this.dy),this.endx,this.endy);this.drawAuxBeams(j)};ABCXJS.write.BeamElem.prototype.drawAuxBeams=function(q){var a=[];for(var e=0,p=this.elems.length;e<p;e++){if(this.elems[e].abcelem.rest){continue}var l=this.elems[e].heads[(this.asc)?0:this.elems[e].heads.length-1];var o=this.elems[e].x+((this.asc)?l.w:0);var k=this.getBarYAt(o);var m=(this.asc)?1.5*ABCXJS.write.spacing.STEP:-1.5*ABCXJS.write.spacing.STEP;if(this.isgrace){m=m*2/3}for(var c=ABCXJS.write.getDurlog(this.elems[e].abcelem.duration);c<-3;c++){if(a[-4-c]){a[-4-c].single=false}else{a[-4-c]={x:o+((this.asc)?-0.6:0),y:k+m*(-4-c+1),durlog:c,single:true}}}for(var d=a.length-1;d>=0;d--){if(e===p-1||ABCXJS.write.getDurlog(this.elems[e+1].abcelem.duration)>(-d-4)){var h=o;var g=k+m*(d+1);if(a[d].single){h=(e===0)?o+5:o-5;g=this.getBarYAt(h)+m*(d+1)}q.paper.printBeam(a[d].x,a[d].y,h,g,h,(g+this.dy),a[d].x,(a[d].y+this.dy));a=a.slice(0,d)}}}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}
}window.ABCXJS.write.chartable={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}};ABCXJS.write.getDuration=function(a){var c=0;if(a.duration){c=a.duration}return c};ABCXJS.write.getDurlog=function(a){if(a===undefined){return 0}return Math.floor(Math.log(a)/Math.log(2))};ABCXJS.write.Layout=function(c,a){this.isBagpipes=a;this.slurs={};this.ties=[];this.slursbyvoice={};this.tiesbyvoice={};this.endingsbyvoice={};this.staffgroup={};this.tune={};this.tuneCurrLine=0;this.tuneCurrStaff=0;this.tuneCurrVoice=0;this.tripletmultiplier=1;this.printer=c;this.glyphs=c.glyphs};ABCXJS.write.Layout.prototype.getCurrentVoiceId=function(){return"s"+this.tuneCurrStaff+"v"+this.tuneCurrVoice};ABCXJS.write.Layout.prototype.pushCrossLineElems=function(){this.slursbyvoice[this.getCurrentVoiceId()]=this.slurs;this.tiesbyvoice[this.getCurrentVoiceId()]=this.ties;this.endingsbyvoice[this.getCurrentVoiceId()]=this.partstartelem};ABCXJS.write.Layout.prototype.popCrossLineElems=function(){this.slurs=this.slursbyvoice[this.getCurrentVoiceId()]||{};this.ties=this.tiesbyvoice[this.getCurrentVoiceId()]||[];this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId()]};ABCXJS.write.Layout.prototype.getElem=function(){if(this.currVoice.length<=this.pos){return null}return this.currVoice[this.pos]};ABCXJS.write.Layout.prototype.getNextElem=function(){if(this.currVoice.length<=this.pos+1){return null}return this.currVoice[this.pos+1]};ABCXJS.write.Layout.prototype.isFirstVoice=function(){return this.currVoice.firstVoice||false};ABCXJS.write.Layout.prototype.isLastVoice=function(){return this.currVoice.lastVoice||false};ABCXJS.write.Layout.prototype.layoutABCLine=function(g,c,d){this.tune=g;this.tuneCurrLine=c;this.staffgroup=new ABCXJS.write.StaffGroupElement();this.width=d;for(this.tuneCurrStaff=0;this.tuneCurrStaff<this.tune.lines[this.tuneCurrLine].staffs.length;this.tuneCurrStaff++){var a=this.tune.lines[this.tuneCurrLine].staffs[this.tuneCurrStaff];var h="";if(!a){continue}if(a.bracket){h+="bracket "+a.bracket+" "}if(a.brace){h+="brace "+a.brace+" "}for(this.tuneCurrVoice=0;this.tuneCurrVoice<a.voices.length;this.tuneCurrVoice++){this.currVoice=a.voices[this.tuneCurrVoice];this.voice=new ABCXJS.write.VoiceElement(this.tuneCurrVoice,this.tuneCurrStaff,a);if(this.tuneCurrVoice===0){this.voice.barfrom=(a.connectBarLines==="start"||a.connectBarLines==="continue");this.voice.barto=(a.connectBarLines==="continue"||a.connectBarLines==="end")}else{this.voice.duplicate=true}if(a.clef.type!=="accordionTab"){this.voice.addChild(this.printClef(a.clef));(a.key)&&this.voice.addChild(this.printKeySignature(a.key));(a.meter)&&this.voice.addChild(this.printTimeSignature(a.meter));this.printABCVoice()}else{var e=new ABCXJS.tablature.Layout(this.tuneCurrVoice,this.tuneCurrStaff,a,this.glyphs,this.tune.formatting.restsInTab);this.voice=e.printTABVoice(this.layoutJumpDecorationItem)}if(a.title&&a.title[this.tuneCurrVoice]){this.voice.header=a.title[this.tuneCurrVoice]}this.staffgroup.addVoice(this.voice)}}this.layoutStaffGroup();return this.staffgroup};ABCXJS.write.Layout.prototype.layoutJumpDecorationItem=function(c,a){switch(c.type){case"coda":return new ABCXJS.write.RelativeElement("scripts.coda",0,0,a+1);case"segno":return new ABCXJS.write.RelativeElement("scripts.segno",0,0,a+1);case"fine":return new ABCXJS.write.RelativeElement("it.Fine",-34,34,a);case"dacapo":return new ABCXJS.write.RelativeElement("it.DC",-30,30,a);case"dacoda":return new ABCXJS.write.RelativeElement("it.DaCoda",-30,30,a);case"dasegno":return new ABCXJS.write.RelativeElement("it.DaSegno",-32,32,a);case"dcalfine":return new ABCXJS.write.RelativeElement("it.DCalFine",25,-25,a);case"dcalcoda":return new ABCXJS.write.RelativeElement("it.DCalCoda",25,-25,a);case"dsalfine":return new ABCXJS.write.RelativeElement("it.DSalFine",25,-25,a);case"dsalcoda":return new ABCXJS.write.RelativeElement("it.DSalCoda",25,-25,a)}return null};ABCXJS.write.Layout.prototype.layoutStaffGroup=function(){var c=ABCXJS.write.spacing.SPACEX;for(var e=0;e<3;e++){this.staffgroup.layout(c,this.printer,false);if(this.tuneCurrLine&&this.tuneCurrLine===this.tune.lines.length-1&&this.staffgroup.w/this.width<0.66&&!this.tune.formatting.stretchlast){break}var a=this.staffgroup.spacingunits*c;var d=this.staffgroup.w-a;if(this.staffgroup.spacingunits>0){c=(this.printer.width-d)/this.staffgroup.spacingunits;if(c*this.staffgroup.minspace>50){c=50/this.staffgroup.minspace}}}};ABCXJS.write.Layout.prototype.printABCVoice=function(){this.popCrossLineElems();this.stemdir=(this.isBagpipes)?"down":this.voice.stem;if(this.partstartelem){this.partstartelem=new ABCXJS.write.EndingElem("",null,null);this.voice.addOther(this.partstartelem)}for(var a in this.slurs){if(this.slurs.hasOwnProperty(a)){this.slurs[a]=new ABCXJS.write.TieElem(null,null,this.slurs[a].above,this.slurs[a].force);this.voice.addOther(this.slurs[a])}}for(var c=0;c<this.ties.length;c++){this.ties[c]=new ABCXJS.write.TieElem(null,null,this.ties[c].above,this.ties[c].force);this.voice.addOther(this.ties[c])}for(this.pos=0;this.pos<this.currVoice.length;this.pos++){var d=this.printABCElement();for(c=0;c<d.length;c++){this.voice.addChild(d[c])}}this.pushCrossLineElems()};ABCXJS.write.Layout.prototype.printABCElement=function(){var e=[];var c=this.getElem();switch(c.el_type){case"note":e=this.printBeam();break;case"bar":e[0]=this.printBarLine(c);if(this.voice.duplicate){e[0].invisible=true}break;case"meter":e[0]=this.printTimeSignature(c);if(this.voice.duplicate){e[0].invisible=true}break;case"clef":e[0]=this.printClef(c);if(this.voice.duplicate){e[0].invisible=true}break;case"key":e[0]=this.printKeySignature(c);if(this.voice.duplicate){e[0].invisible=true}break;case"part":var a=new ABCXJS.write.AbsoluteElement(c,0,0);a.addChild(new ABCXJS.write.RelativeElement(c.title,0,0,18.5,{type:"part"}));e[0]=a;break;default:var d=new ABCXJS.write.AbsoluteElement(c,0,0);d.addChild(new ABCXJS.write.RelativeElement("element type "+c.el_type,0,0,0,{type:"debug"}));e[0]=d}return e};ABCXJS.write.Layout.prototype.printBeam=function(){var h=[];if(this.getElem().startBeam&&!this.getElem().endBeam){var j=new ABCXJS.write.BeamElem(this.stemdir);var c=this.pos;var e;while(this.getElem()){e=this.printNote(this.getElem(),true,true);j.add(e);if(this.getElem().endBeam){break}this.pos++}var a=this.lastTieStemDir?(this.lastTieStemDir==="up"):(j.calcDir());this.pos=c;j=new ABCXJS.write.BeamElem(a?"up":"down");var g=this.stemdir;this.stemdir=a?"up":"down";var d=0;while(this.getElem()){e=this.printNote(this.getElem(),true);e.beamId=d++;h.push(e);j.add(e);if(this.getElem().endBeam){break
}this.pos++}this.stemdir=g;this.voice.addOther(j)}else{h[0]=this.printNote(this.getElem())}return h};ABCXJS.write.Layout.prototype.printNote=function(R,g,Y){var t=null;var a=null;this.roomtaken=0;this.roomtakenright=0;var I=0;var aa="";var G=null;var u=[];var O,U,q;var d,X,W,h;var v=ABCXJS.write.getDuration(R);if(v===0){v=0.25;g=true}var B=Math.floor(Math.log(v)/Math.log(2));var ac=0;for(var j=Math.pow(2,B),V=j/2;j<v;ac++,j+=V,V/=2){}if(R.startTriplet){if(!this.stemdir){this.clearStem=true;this.stemdir=R.startTriplet.avgPitch<6?"up":"down"}this.triplet=new ABCXJS.write.TripletElem(R.startTriplet,null,null,this.stemdir);this.tripletmultiplier=this.triplet.multiplier}var k=new ABCXJS.write.AbsoluteElement(R,v*this.tripletmultiplier,1);if(R.rest){var o=7;if(this.stemdir==="down"){o=3}if(this.stemdir==="up"){o=11}switch(R.rest.type){case"rest":aa=ABCXJS.write.chartable.rest[-B];R.averagepitch=o;R.minpitch=o;R.maxpitch=o;break;case"invisible":case"spacer":aa=""}if(!Y){t=this.printNoteHead(k,aa,{verticalPos:o},null,0,-this.roomtaken,null,ac,0,1)}if(t){k.addHead(t)}this.roomtaken+=this.accidentalshiftx;this.roomtakenright=Math.max(this.roomtakenright,this.dotshiftx)}else{ABCXJS.write.sortPitch(R.pitches);var s=0;var D=false;var N=false;for(O=0,q=R.pitches.length;O<q;O++){s+=R.pitches[O].verticalPos;if(R.pitches[O].startTie&&!Y){var D=true}if(R.pitches[O].endTie&&!Y){var N=true}}R.averagepitch=s/R.pitches.length;R.minpitch=R.pitches[0].verticalPos;R.maxpitch=R.pitches[R.pitches.length-1].verticalPos;var ab=this.stemdir?this.stemdir:((R.averagepitch>=6)?"down":"up");if(D){this.lastTieStemDir=ab}else{if(N){if(this.lastTieStemDir&&this.lastTieStemDir!=ab){ab=this.lastTieStemDir}delete this.lastTieStemDir}}for(O=(ab==="down")?R.pitches.length-2:1;(ab==="down")?O>=0:O<R.pitches.length;O=(ab==="down")?O-1:O+1){var C=R.pitches[(ab==="down")?O+1:O-1];var J=R.pitches[O];var K=(ab==="down")?C.pitch-J.pitch:J.pitch-C.pitch;if(K<=1&&!C.printer_shift){J.printer_shift=(K)?"different":"same";if(J.verticalPos>11||J.verticalPos<1){u.push(J.verticalPos-(J.verticalPos%2))}if(ab==="down"){this.roomtaken=this.glyphs.getSymbolWidth(ABCXJS.write.chartable.note[-B])+2}else{I=this.glyphs.getSymbolWidth(ABCXJS.write.chartable.note[-B])+2}}}this.accidentalSlot=[];for(O=0;O<R.pitches.length;O++){if(g||(ab==="down"&&O!==0)||(ab==="up"&&O!==q-1)){G=null}else{G=ABCXJS.write.chartable[(ab==="down")?"dflags":"uflags"][-B]}aa=ABCXJS.write.chartable.note[-B];R.pitches[O].highestVert=R.pitches[O].verticalPos;var m=(this.stemdir==="up"||ab==="up")&&O===0;var P=(this.stemdir==="down"||ab==="down")&&O===q-1;if(!Y&&(m||P)){if(R.startSlur||q===1){R.pitches[O].highestVert=R.pitches[q-1].verticalPos;if(this.stemdir==="up"||ab==="up"){R.pitches[O].highestVert+=6}}if(R.startSlur){if(!R.pitches[O].startSlur){R.pitches[O].startSlur=[]}for(U=0;U<R.startSlur.length;U++){R.pitches[O].startSlur.push(R.startSlur[U])}}if(!Y&&R.endSlur){R.pitches[O].highestVert=R.pitches[q-1].verticalPos;if(this.stemdir==="up"||ab==="up"){R.pitches[O].highestVert+=6}if(!R.pitches[O].endSlur){R.pitches[O].endSlur=[]}for(U=0;U<R.endSlur.length;U++){R.pitches[O].endSlur.push(R.endSlur[U])}}}if(!Y){t=this.printNoteHead(k,aa,R.pitches[O],ab,0,-this.roomtaken,G,ac,I,1)}if(t){k.addHead(t)}this.roomtaken+=this.accidentalshiftx;this.roomtakenright=Math.max(this.roomtakenright,this.dotshiftx)}if(B<=-1){X=(ab==="down")?R.minpitch-7:R.minpitch+1/3;if(X>6&&!this.stemdir){X=6}W=(ab==="down")?R.maxpitch-1/3:R.maxpitch+7;if(W<6&&!this.stemdir){W=6}h=(ab==="down"||k.heads.length===0)?0:k.heads[0].w;d=(ab==="down")?1:-1;k.addExtra(new ABCXJS.write.RelativeElement(null,h,0,X,{type:"stem",pitch2:W,linewidth:d}))}}if(R.lyric!==undefined){var Q="";var e=0;window.ABCXJS.parse.each(R.lyric,function(c){Q+="\n"+c.syllable+c.divider;e=Math.max(e,(c.syllable+c.divider).length)});if(R.fingering===undefined||this.tune.formatting.hideFingering){Q=Q.substr(1)}k.addRight(new ABCXJS.write.RelativeElement(Q,0,e*5,0,{type:"lyrics"}))}if(R.fingering!==undefined&&!this.tune.formatting.hideFingering){var Q="";var e=0;window.ABCXJS.parse.each(R.fingering,function(c){Q+="\n"+c.syllable+c.divider;e=Math.max(e,(c.syllable+c.divider).length*1.3)});Q=Q.substr(1);k.addRight(new ABCXJS.write.RelativeElement(Q,0,e*5,0,{type:"fingering"}))}if(!Y&&R.gracenotes!==undefined){var A=3/5;var l=null;if(R.gracenotes.length>1){l=new ABCXJS.write.BeamElem("grace",this.isBagpipes)}var Z=[];for(U=R.gracenotes.length-1;U>=0;U--){this.roomtaken+=10;Z[U]=this.roomtaken;if(R.gracenotes[U].accidental){this.roomtaken+=7}}for(U=0;U<R.gracenotes.length;U++){var z=R.gracenotes[U].verticalPos;G=(l)?null:"grace"+ABCXJS.write.chartable.uflags[(this.isBagpipes)?5:3];a=this.printNoteHead(k,"graceheads.quarter",R.gracenotes[U],"up",-Z[U],-Z[U],G,0,0,A);k.addExtra(a);if(R.gracenotes[U].acciaccatura){var E=R.gracenotes[U].verticalPos+7*A;var T=l?5:6;k.addRight(new ABCXJS.write.RelativeElement("flags.ugrace",-Z[U]+T,0,E))}if(l){var r={heads:[a],abcelem:{averagepitch:z,minpitch:z,maxpitch:z},duration:(this.isBagpipes)?1/32:1/16};l.add(r)}else{X=z+1/3*A;W=z+7*A;h=a.dx+a.w;d=-0.6;k.addExtra(new ABCXJS.write.RelativeElement(null,h,0,X,{type:"stem",pitch2:W,linewidth:d}))}if(U===0&&!this.isBagpipes&&!(R.rest&&(R.rest.type==="spacer"||R.rest.type==="invisible"))){this.voice.addOther(new ABCXJS.write.TieElem(a,t,false,true))}}ABCXJS.write.Layout.prototype.printBeam=function(){var ae=[];if(this.getElem().startBeam&&!this.getElem().endBeam){var af=new ABCXJS.write.BeamElem(this.stemdir);var p=this.pos;var y;while(this.getElem()){y=this.printNote(this.getElem(),true,true);af.add(y);if(this.getElem().endBeam){break}this.pos++}var c=af.calcDir();this.pos=p;af=new ABCXJS.write.BeamElem(c?"up":"down");var ad=this.stemdir;this.stemdir=c?"up":"down";var x=0;while(this.getElem()){y=this.printNote(this.getElem(),true);y.beamId=x++;ae.push(y);af.add(y);if(this.getElem().endBeam){break}this.pos++}this.stemdir=ad;this.voice.addOther(af)}else{ae[0]=this.printNote(this.getElem())}return ae};ABCXJS.write.Layout.prototype.printNote=function(aM,ag,aT){var aq=null;var ad=null;this.roomtaken=0;this.roomtakenright=0;var aD=0;var aV="";var aB=null;var ar=[];var aJ,aP,an;var ae,aS,aR,ah;var at=ABCXJS.write.getDuration(aM);if(at===0){at=0.25;ag=true}var ax=Math.floor(Math.log(at)/Math.log(2));var aX=0;for(var ai=Math.pow(2,ax),aQ=ai/2;ai<at;aX++,ai+=aQ,aQ/=2){}if(aM.startTriplet){if(!this.stemdir){this.clearStem=true;this.stemdir=aM.startTriplet.avgPitch<6?"up":"down"}this.triplet=new ABCXJS.write.TripletElem(aM.startTriplet,null,null,this.stemdir);this.tripletmultiplier=this.triplet.multiplier}var aj=new ABCXJS.write.AbsoluteElement(aM,at*this.tripletmultiplier,1);if(aM.rest){var am=7;if(this.stemdir==="down"){am=3}if(this.stemdir==="up"){am=11}switch(aM.rest.type){case"rest":aV=ABCXJS.write.chartable.rest[-ax];aM.averagepitch=am;aM.minpitch=am;aM.maxpitch=am;break;case"invisible":case"spacer":aV=""}if(!aT){aq=this.printNoteHead(aj,aV,{verticalPos:am},null,0,-this.roomtaken,null,aX,0,1)
}if(aq){aj.addHead(aq)}this.roomtaken+=this.accidentalshiftx;this.roomtakenright=Math.max(this.roomtakenright,this.dotshiftx)}else{ABCXJS.write.sortPitch(aM.pitches);var ap=0;var aI=false;for(aJ=0,an=aM.pitches.length;aJ<an;aJ++){ap+=aM.pitches[aJ].verticalPos;if(aM.pitches[aJ].endTie){var aI=true}}aM.averagepitch=ap/aM.pitches.length;aM.minpitch=aM.pitches[0].verticalPos;aM.maxpitch=aM.pitches[aM.pitches.length-1].verticalPos;var aW=this.stemdir?this.stemdir:((aM.averagepitch>=6)?"down":"up");if(aI&&this.lastStemDir&&this.lastStemDir!=aW){aW=this.lastStemDir}else{this.lastStemDir=aW}for(aJ=(aW==="down")?aM.pitches.length-2:1;(aW==="down")?aJ>=0:aJ<aM.pitches.length;aJ=(aW==="down")?aJ-1:aJ+1){var ay=aM.pitches[(aW==="down")?aJ+1:aJ-1];var aE=aM.pitches[aJ];var aF=(aW==="down")?ay.pitch-aE.pitch:aE.pitch-ay.pitch;if(aF<=1&&!ay.printer_shift){aE.printer_shift=(aF)?"different":"same";if(aE.verticalPos>11||aE.verticalPos<1){ar.push(aE.verticalPos-(aE.verticalPos%2))}if(aW==="down"){this.roomtaken=this.glyphs.getSymbolWidth(ABCXJS.write.chartable.note[-ax])+2}else{aD=this.glyphs.getSymbolWidth(ABCXJS.write.chartable.note[-ax])+2}}}this.accidentalSlot=[];for(aJ=0;aJ<aM.pitches.length;aJ++){if(ag||(aW==="down"&&aJ!==0)||(aW==="up"&&aJ!==an-1)){aB=null}else{aB=ABCXJS.write.chartable[(aW==="down")?"dflags":"uflags"][-ax]}aV=ABCXJS.write.chartable.note[-ax];aM.pitches[aJ].highestVert=aM.pitches[aJ].verticalPos;var al=(this.stemdir==="up"||aW==="up")&&aJ===0;var aK=(this.stemdir==="down"||aW==="down")&&aJ===an-1;if(!aT&&(al||aK)){if(aM.startSlur||an===1){aM.pitches[aJ].highestVert=aM.pitches[an-1].verticalPos;if(this.stemdir==="up"||aW==="up"){aM.pitches[aJ].highestVert+=6}}if(aM.startSlur){if(!aM.pitches[aJ].startSlur){aM.pitches[aJ].startSlur=[]}for(aP=0;aP<aM.startSlur.length;aP++){aM.pitches[aJ].startSlur.push(aM.startSlur[aP])}}if(!aT&&aM.endSlur){aM.pitches[aJ].highestVert=aM.pitches[an-1].verticalPos;if(this.stemdir==="up"||aW==="up"){aM.pitches[aJ].highestVert+=6}if(!aM.pitches[aJ].endSlur){aM.pitches[aJ].endSlur=[]}for(aP=0;aP<aM.endSlur.length;aP++){aM.pitches[aJ].endSlur.push(aM.endSlur[aP])}}}if(!aT){aq=this.printNoteHead(aj,aV,aM.pitches[aJ],aW,0,-this.roomtaken,aB,aX,aD,1)}if(aq){aj.addHead(aq)}this.roomtaken+=this.accidentalshiftx;this.roomtakenright=Math.max(this.roomtakenright,this.dotshiftx)}if(ax<=-1){aS=(aW==="down")?aM.minpitch-7:aM.minpitch+1/3;if(aS>6&&!this.stemdir){aS=6}aR=(aW==="down")?aM.maxpitch-1/3:aM.maxpitch+7;if(aR<6&&!this.stemdir){aR=6}ah=(aW==="down"||aj.heads.length===0)?0:aj.heads[0].w;ae=(aW==="down")?1:-1;aj.addExtra(new ABCXJS.write.RelativeElement(null,ah,0,aS,{type:"stem",pitch2:aR,linewidth:ae}))}}if(aM.lyric!==undefined){var aL="";var af=0;window.ABCXJS.parse.each(aM.lyric,function(c){aL+="\n"+c.syllable+c.divider;af=Math.max(af,(c.syllable+c.divider).length)});if(aM.fingering===undefined||this.tune.formatting.hideFingering){aL=aL.substr(1)}aj.addRight(new ABCXJS.write.RelativeElement(aL,0,af*5,0,{type:"lyrics"}))}if(aM.fingering!==undefined&&!this.tune.formatting.hideFingering){var aL="";var af=0;window.ABCXJS.parse.each(aM.fingering,function(c){aL+="\n"+c.syllable+c.divider;af=Math.max(af,(c.syllable+c.divider).length*1.3)});aL=aL.substr(1);aj.addRight(new ABCXJS.write.RelativeElement(aL,0,af*5,0,{type:"fingering"}))}if(!aT&&aM.gracenotes!==undefined){var aw=3/5;var ak=null;if(aM.gracenotes.length>1){ak=new ABCXJS.write.BeamElem("grace",this.isBagpipes)}var aU=[];for(aP=aM.gracenotes.length-1;aP>=0;aP--){this.roomtaken+=10;aU[aP]=this.roomtaken;if(aM.gracenotes[aP].accidental){this.roomtaken+=7}}for(aP=0;aP<aM.gracenotes.length;aP++){var av=aM.gracenotes[aP].verticalPos;aB=(ak)?null:"grace"+ABCXJS.write.chartable.uflags[(this.isBagpipes)?5:3];ad=this.printNoteHead(aj,"graceheads.quarter",aM.gracenotes[aP],"up",-aU[aP],-aU[aP],aB,0,0,aw);aj.addExtra(ad);if(aM.gracenotes[aP].acciaccatura){var az=aM.gracenotes[aP].verticalPos+7*aw;var aO=ak?5:6;aj.addRight(new ABCXJS.write.RelativeElement("flags.ugrace",-aU[aP]+aO,0,az))}if(ak){var ao={heads:[ad],abcelem:{averagepitch:av,minpitch:av,maxpitch:av},duration:(this.isBagpipes)?1/32:1/16};ak.add(ao)}else{aS=av+1/3*aw;aR=av+7*aw;ah=ad.dx+ad.w;ae=-0.6;aj.addExtra(new ABCXJS.write.RelativeElement(null,ah,0,aS,{type:"stem",pitch2:aR,linewidth:ae}))}if(aP===0&&!this.isBagpipes&&!(aM.rest&&(aM.rest.type==="spacer"||aM.rest.type==="invisible"))){this.voice.addOther(new ABCXJS.write.TieElem(ad,aq,false,true))}}if(ak){this.voice.addOther(ak)}}if(!aT&&aM.decoration){var au=this.printDecoration(aM.decoration,aM.maxpitch,(aq)?aq.w:0,aj,this.roomtaken,aW,aM.minpitch);if(au){aj.klass="mark"}}for(aP=aM.maxpitch;aP>11;aP--){if(aP%2===0&&!aM.rest){aj.addChild(new ABCXJS.write.RelativeElement(null,-2,this.glyphs.getSymbolWidth(aV)+4,aP,{type:"ledger"}))}}for(aP=aM.minpitch;aP<1;aP++){if(aP%2===0&&!aM.rest){aj.addChild(new ABCXJS.write.RelativeElement(null,-2,this.glyphs.getSymbolWidth(aV)+4,aP,{type:"ledger"}))}}for(aP=0;aP<ar.length;aP++){var aC=this.glyphs.getSymbolWidth(aV);if(aW==="down"){aC=-aC}aj.addChild(new ABCXJS.write.RelativeElement(null,aC-2,this.glyphs.getSymbolWidth(aV)+4,ar[aP],{type:"ledger"}))}if(aM.chord!==undefined){for(aP=0;aP<aM.chord.length;aP++){var aH=0;var aG=16;switch(aM.chord[aP].position){case"left":this.roomtaken+=7;aH=-this.roomtaken;aG=aM.averagepitch;aj.addExtra(new ABCXJS.write.RelativeElement(aM.chord[aP].name,aH,this.glyphs.getSymbolWidth(aM.chord[aP].name[0])+4,aG,{type:"text"}));break;case"right":this.roomtakenright+=4;aH=this.roomtakenright;aG=aM.averagepitch;aj.addRight(new ABCXJS.write.RelativeElement(aM.chord[aP].name,aH,this.glyphs.getSymbolWidth(aM.chord[aP].name[0])+4,aG,{type:"text"}));break;case"below":aG=aM.minpitch-4;if(aG>-3){aG=-3}var aN=aM.chord[aP].name.split("\n");for(var aA=0;aA<aN.length;aA++){aj.addChild(new ABCXJS.write.RelativeElement(aN[aA],aH,0,aG,{type:"text"}));aG-=3}break;default:if(aM.chord[aP].rel_position){aj.addChild(new ABCXJS.write.RelativeElement(aM.chord[aP].name,aH+aM.chord[aP].rel_position.x,0,aM.minpitch+aM.chord[aP].rel_position.y/ABCXJS.write.spacing.STEP,{type:"text"}))}else{aj.addChild(new ABCXJS.write.RelativeElement(aM.chord[aP].name,aH,0,aG,{type:"text"}))}}}}if(!aT){if(aM.startTriplet){this.triplet.anchor1=aq;this.voice.addOther(this.triplet)}if(this.triplet){this.triplet.minPitch=Math.min(this.triplet.minPitch,aq.parent.abcelem.minpitch);this.triplet.maxPitch=Math.max(this.triplet.maxPitch,aq.parent.abcelem.maxpitch)}if(this.triplet&&aM.endTriplet){this.triplet.anchor2=aq;this.triplet=null;this.tripletmultiplier=1;if(this.clearStem){this.stemdir=null;delete this.clearStem}}}return aj};ABCXJS.write.sortPitch=function(y){var c;do{c=true;for(var ad=0;ad<y.length-1;ad++){if(y[ad].pitch>y[ad+1].pitch){c=false;var x=y[ad];y[ad]=y[ad+1];y[ad+1]=x}}}while(!c)};if(l){this.voice.addOther(l)}}if(!Y&&R.decoration){var w=this.printDecoration(R.decoration,R.maxpitch,(t)?t.w:0,k,this.roomtaken,ab,R.minpitch);if(w){k.klass="mark"}}for(U=R.maxpitch;
U>11;U--){if(U%2===0&&!R.rest){k.addChild(new ABCXJS.write.RelativeElement(null,-2,this.glyphs.getSymbolWidth(aa)+4,U,{type:"ledger"}))}}for(U=R.minpitch;U<1;U++){if(U%2===0&&!R.rest){k.addChild(new ABCXJS.write.RelativeElement(null,-2,this.glyphs.getSymbolWidth(aa)+4,U,{type:"ledger"}))}}for(U=0;U<u.length;U++){var H=this.glyphs.getSymbolWidth(aa);if(ab==="down"){H=-H}k.addChild(new ABCXJS.write.RelativeElement(null,H-2,this.glyphs.getSymbolWidth(aa)+4,u[U],{type:"ledger"}))}if(R.chord!==undefined){for(U=0;U<R.chord.length;U++){var M=0;var L=16;switch(R.chord[U].position){case"left":this.roomtaken+=7;M=-this.roomtaken;L=R.averagepitch;k.addExtra(new ABCXJS.write.RelativeElement(R.chord[U].name,M,this.glyphs.getSymbolWidth(R.chord[U].name[0])+4,L,{type:"text"}));break;case"right":this.roomtakenright+=4;M=this.roomtakenright;L=R.averagepitch;k.addRight(new ABCXJS.write.RelativeElement(R.chord[U].name,M,this.glyphs.getSymbolWidth(R.chord[U].name[0])+4,L,{type:"text"}));break;case"below":L=R.minpitch-4;if(L>-3){L=-3}var S=R.chord[U].name.split("\n");for(var F=0;F<S.length;F++){k.addChild(new ABCXJS.write.RelativeElement(S[F],M,0,L,{type:"text"}));L-=3}break;default:if(R.chord[U].rel_position){k.addChild(new ABCXJS.write.RelativeElement(R.chord[U].name,M+R.chord[U].rel_position.x,0,R.minpitch+R.chord[U].rel_position.y/ABCXJS.write.spacing.STEP,{type:"text"}))}else{k.addChild(new ABCXJS.write.RelativeElement(R.chord[U].name,M,0,L,{type:"text"}))}}}}if(!Y){if(R.startTriplet){this.triplet.anchor1=t;this.voice.addOther(this.triplet)}if(this.triplet){this.triplet.minPitch=Math.min(this.triplet.minPitch,t.parent.abcelem.minpitch);this.triplet.maxPitch=Math.max(this.triplet.maxPitch,t.parent.abcelem.maxpitch)}if(this.triplet&&R.endTriplet){this.triplet.anchor2=t;this.triplet=null;this.tripletmultiplier=1;if(this.clearStem){this.stemdir=null;delete this.clearStem}}}return k};ABCXJS.write.sortPitch=function(d){var a;do{a=true;for(var e=0;e<d.length-1;e++){if(d[e].pitch>d[e+1].pitch){a=false;var c=d[e];d[e]=d[e+1];d[e+1]=c}}}while(!a)};ABCXJS.write.Layout.prototype.printNoteHead=function(p,C,D,r,l,g,x,s,A,E){var m=D.verticalPos;var e;var y;this.accidentalshiftx=0;this.dotshiftx=0;if(C===undefined){p.addChild(new ABCXJS.write.RelativeElement("pitch is undefined",0,0,0,{type:"debug"}))}else{if(C===""){e=new ABCXJS.write.RelativeElement(null,0,0,m)}else{var q=l;if(D.printer_shift){var u=(D.printer_shift==="same")?1:0;q=(r==="down")?-this.glyphs.getSymbolWidth(C)*E+u:this.glyphs.getSymbolWidth(C)*E-u}e=new ABCXJS.write.RelativeElement(C,q,this.glyphs.getSymbolWidth(C)*E,m,{scalex:E,scaley:E,extreme:((r==="down")?"below":"above")});if(x){var k=m+((r==="down")?-7:7)*E;if(E===1&&(r==="down")?(k>6):(k<6)){k=6}var t=(r==="down")?l:l+e.w-0.6;p.addRight(new ABCXJS.write.RelativeElement(x,t,this.glyphs.getSymbolWidth(x)*E,k,{scalex:E,scaley:E}))}this.dotshiftx=e.w+A-2+5*s;for(;s>0;s--){var a=(1-Math.abs(m)%2);p.addRight(new ABCXJS.write.RelativeElement("dots.dot",e.w+A-2+5*s,this.glyphs.getSymbolWidth("dots.dot"),m+a))}}}if(e){e.highestVert=D.highestVert}if(D.accidental){var d;switch(D.accidental){case"quartersharp":d="accidentals.halfsharp";break;case"dblsharp":d="accidentals.dblsharp";break;case"sharp":d="accidentals.sharp";break;case"quarterflat":d="accidentals.halfflat";break;case"flat":d="accidentals.flat";break;case"dblflat":d="accidentals.dblflat";break;case"natural":d="accidentals.nat"}var o=false;var z=g;for(var v=0;v<this.accidentalSlot.length;v++){if(m-this.accidentalSlot[v][0]>=6){this.accidentalSlot[v][0]=m;z=this.accidentalSlot[v][1];o=true;break}}if(o===false){z-=(this.glyphs.getSymbolWidth(d)*E+2);this.accidentalSlot.push([m,z]);this.accidentalshiftx=(this.glyphs.getSymbolWidth(d)*E+2)}p.addExtra(new ABCXJS.write.RelativeElement(d,z,this.glyphs.getSymbolWidth(d),m))}if(D.endTie){if(this.ties[0]){this.ties[0].anchor2=e;this.ties=this.ties.slice(1,this.ties.length)}}if(D.startTie){var w=new ABCXJS.write.TieElem(e,null,(this.stemdir==="down"||r==="down")&&this.stemdir!=="up",(this.stemdir==="down"||this.stemdir==="up"));this.ties[this.ties.length]=w;this.voice.addOther(w)}if(D.endSlur){for(y=0;y<D.endSlur.length;y++){var B=D.endSlur[y];var h;if(this.slurs[B]){h=this.slurs[B].anchor2=e;delete this.slurs[B]}else{h=new ABCXJS.write.TieElem(null,e,r==="down",(this.stemdir==="up"||r==="down")&&this.stemdir!=="down",this.stemdir);this.voice.addOther(h)}if(this.startlimitelem){h.startlimitelem=this.startlimitelem}}}if(D.startSlur){for(y=0;y<D.startSlur.length;y++){var B=D.startSlur[y].label;var h=new ABCXJS.write.TieElem(e,null,(this.stemdir==="down"||r==="down")&&this.stemdir!=="up",false);this.slurs[B]=h;this.voice.addOther(h)}}return e};ABCXJS.write.Layout.prototype.printDecoration=function(o,m,w,q,a,u,h){var t;var y;var l;var B;var v=[];var C=(m>9)?m+3:12;var k;var r=false;var p=-6;var A;a=a||0;if(m===5){C=14}var j=false;for(A=0;A<o.length;A++){if(o[A]==="staccato"||o[A]==="tenuto"){var x="scripts."+o[A];k=(u==="down")?m+2:h-2;switch(k){case 2:case 4:case 6:case 8:case 10:if(u==="up"){k--}else{k++}break}if(m>9){C++}var d=w/2;if(this.glyphs.getSymbolAlign(x)!=="center"){d-=(this.glyphs.getSymbolWidth(t)/2)}q.addChild(new ABCXJS.write.RelativeElement(x,d,this.glyphs.getSymbolWidth(x),k))}if(o[A]==="slide"&&q.heads[0]){k=q.heads[0].pitch;var e=new ABCXJS.write.RelativeElement("",-a-15,0,k-1);var c=new ABCXJS.write.RelativeElement("",-a-5,0,k+1);q.addChild(e);q.addChild(c);this.voice.addOther(new ABCXJS.write.TieElem(e,c,false))}}for(A=0;A<o.length;A++){r=false;switch(o[A]){case"trill":t="scripts.trill";break;case"roll":t="scripts.roll";break;case"irishroll":t="scripts.roll";break;case"marcato":t="scripts.umarcato";break;case"marcato2":t="scriopts.dmarcato";break;case"turn":t="scripts.turn";break;case"uppermordent":t="scripts.prall";break;case"mordent":case"lowermordent":t="scripts.mordent";break;case"staccato":case"tenuto":case"slide":continue;case"downbow":t="scripts.downbow";break;case"upbow":t="scripts.upbow";break;case"fermata":t="scripts.ufermata";break;case"invertedfermata":r=true;t="scripts.dfermata";break;case"breath":t=",";break;case"accent":t="scripts.sforzato";break;case"umarcato":t="scripts.umarcato";break;case"/":y=["flags.ugrace",1];continue;case"//":y=["flags.ugrace",2];continue;case"///":y=["flags.ugrace",3];continue;case"////":y=["flags.ugrace",4];continue;case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var z=new ABCXJS.write.DynamicDecoration(q,o[A]);this.voice.addOther(z);continue;case"mark":j=true;continue;case"diminuendo(":ABCXJS.write.Layout.prototype.startDiminuendoX=q;l=undefined;continue;case"diminuendo)":l={start:ABCXJS.write.Layout.prototype.startDiminuendoX,stop:q};ABCXJS.write.Layout.prototype.startDiminuendoX=undefined;continue;case"crescendo(":ABCXJS.write.Layout.prototype.startCrescendoX=q;B=undefined;continue;case"crescendo)":B={start:ABCXJS.write.Layout.prototype.startCrescendoX,stop:q};ABCXJS.write.Layout.prototype.startCrescendoX=undefined;
continue;default:v[v.length]=o[A];continue}if(r){k=p;p-=4}else{k=C;C+=3}var d=w/2;if(this.glyphs.getSymbolAlign(t)!=="center"){d-=(this.glyphs.getSymbolWidth(t)/2)}q.addChild(new ABCXJS.write.RelativeElement(t,d,this.glyphs.getSymbolWidth(t),k))}if(y){k=(u==="down")?m+1:m+9;d=w/2;d+=(u==="down")?-5:3;for(var g=0;g<y[1];g++){k-=1;q.addChild(new ABCXJS.write.RelativeElement(y[0],d,this.glyphs.getSymbolWidth(y[0]),k))}}if(l){var s=new ABCXJS.write.CrescendoElem(l.start,l.stop,">");this.voice.addOther(s)}if(B){var D=new ABCXJS.write.CrescendoElem(B.start,B.stop,"<");this.voice.addOther(D)}if(v.length>0){q.addChild(new ABCXJS.write.RelativeElement(v.join(","),0,0,19,{type:"text"}))}return j};ABCXJS.write.Layout.prototype.printBarLine=function(e){var g=10;var p=5;var s=new ABCXJS.write.AbsoluteElement(e,0,10);var k=null;var t=0;var c=(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat");var l=(e.type!=="bar_left_repeat"&&e.type!=="bar_thick_thin"&&e.type!=="bar_invisible");var m=(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat"||e.type==="bar_left_repeat"||e.type==="bar_thin_thick"||e.type==="bar_thick_thin");var o=(e.type==="bar_left_repeat"||e.type==="bar_thick_thin"||e.type==="bar_thin_thin"||e.type==="bar_dbl_repeat");var d=(e.type==="bar_left_repeat"||e.type==="bar_dbl_repeat");var q=false;if(c||d){for(var r in this.slurs){if(this.slurs.hasOwnProperty(r)){this.slurs[r].endlimitelem=s}}this.startlimitelem=s}if(c){s.addRight(new ABCXJS.write.RelativeElement("dots.dot",t,1,p+2));s.addRight(new ABCXJS.write.RelativeElement("dots.dot",t,1,p));t+=6}if(l){k=new ABCXJS.write.RelativeElement(null,t,1,2,{type:"bar",pitch2:g,linewidth:0.6});s.addRight(k);if(e.repeat>2&&this.tuneCurrStaff==0){s.addChild(new ABCXJS.write.RelativeElement(e.repeat+"x",0,-5,12,{type:"part"}));q=true}}if(e.type==="bar_invisible"){k=new ABCXJS.write.RelativeElement(null,t,1,2,{type:"none",pitch2:g,linewidth:0.6});s.addRight(k)}if(e.decoration){this.printDecoration(e.decoration,12,(m)?3:1,s,0,"down",2)}if(m){t+=4;k=new ABCXJS.write.RelativeElement(null,t,4,2,{type:"bar",pitch2:g,linewidth:4});s.addRight(k);t+=5}if(e.jumpDecoration){for(var h=0;h<e.jumpDecoration.length;h++){if((e.jumpDecoration[h].upper&&this.isFirstVoice())||(!e.jumpDecoration[h].upper&&this.isLastVoice())){var a=e.jumpDecoration[h].upper?12:-3;q=(q||e.jumpDecoration[h].upper);switch(e.jumpDecoration[h].type){case"coda":case"segno":case"fine":case"dcalfine":case"dcalcoda":case"dsalfine":case"dsalcoda":s.addRight(this.layoutJumpDecorationItem(e.jumpDecoration[h],a));break;case"dacapo":case"dasegno":case"dacoda":s.addExtra(this.layoutJumpDecorationItem(e.jumpDecoration[h],a));break}}}}if(e.barNumber&&e.barNumberVisible&&!q){s.addChild(new ABCXJS.write.RelativeElement(e.barNumber,0,0,12,{type:"barnumber"}))}if(this.partstartelem&&e.endDrawEnding){this.partstartelem.anchor2=k;this.partstartelem=null}if(o){t+=3;k=new ABCXJS.write.RelativeElement(null,t,1,2,{type:"bar",pitch2:g,linewidth:0.6});s.addRight(k)}if(d){t+=3;s.addRight(new ABCXJS.write.RelativeElement("dots.dot",t,1,p+2));s.addRight(new ABCXJS.write.RelativeElement("dots.dot",t,1,p))}if(e.startEnding){this.partstartelem=new ABCXJS.write.EndingElem(e.startEnding,k,null);this.voice.addOther(this.partstartelem)}return s};ABCXJS.write.Layout.prototype.printClef=function(g){var h="clefs.G";var d=0;var e=new ABCXJS.write.AbsoluteElement(g,0,10);switch(g.type){case"treble":break;case"tenor":h="clefs.C";break;case"alto":h="clefs.C";break;case"bass":h="clefs.F";break;case"treble+8":d=1;break;case"tenor+8":h="clefs.C";d=1;break;case"bass+8":h="clefs.F";d=1;break;case"alto+8":h="clefs.C";d=1;break;case"treble-8":d=-1;break;case"tenor-8":h="clefs.C";d=-1;break;case"bass-8":h="clefs.F";d=-1;break;case"alto-8":h="clefs.C";d=-1;break;case"accordionTab":h="clefs.tab";break;case"none":h="";break;case"perc":h="clefs.perc";break;default:e.addChild(new ABCXJS.write.RelativeElement("clef="+g.type,0,0,0,{type:"debug"}))}var c=10;if(h!==""){e.addRight(new ABCXJS.write.RelativeElement(h,c,this.glyphs.getSymbolWidth(h),g.clefPos))}if(d!==0){var j=2/3;var a=(this.glyphs.getSymbolWidth(h)-this.glyphs.getSymbolWidth("8"))/2;e.addRight(new ABCXJS.write.RelativeElement("8",c+a,this.glyphs.getSymbolWidth("8"),(d>0)?16:-2))}return e};ABCXJS.write.Layout.prototype.printKeySignature=function(d){var c=new ABCXJS.write.AbsoluteElement(d,0,10);var a=0;if(d.accidentals){ABCXJS.parse.each(d.accidentals,function(g){var e=(g.acc==="sharp")?"accidentals.sharp":(g.acc==="natural")?"accidentals.nat":"accidentals.flat";c.addRight(new ABCXJS.write.RelativeElement(e,a,this.glyphs.getSymbolWidth(e),g.verticalPos));a+=this.glyphs.getSymbolWidth(e)+2},this)}this.startlimitelem=c;return c};ABCXJS.write.Layout.prototype.printTimeSignature=function(e){var d=new ABCXJS.write.AbsoluteElement(e,0,20);if(e.type==="specified"){for(var c=0;c<e.value.length;c++){if(c!==0){d.addRight(new ABCXJS.write.RelativeElement("+",c*20-9,this.glyphs.getSymbolWidth("+"),7))}var a="n."+e.value[c].num;if(e.value[c].den){var g="n."+e.value[c].den;d.addRight(new ABCXJS.write.RelativeElement(a,c*20,this.glyphs.getSymbolWidth(a)*a.length,6));d.addRight(new ABCXJS.write.RelativeElement(g,c*20,this.glyphs.getSymbolWidth(g)*g.length,2))}else{d.addRight(new ABCXJS.write.RelativeElement(a,c*20,this.glyphs.getSymbolWidth(a)*a.length,4))}}}else{if(e.type==="common_time"){d.addRight(new ABCXJS.write.RelativeElement("timesig.common",0,this.glyphs.getSymbolWidth("timesig.common"),7))}else{if(e.type==="cut_time"){d.addRight(new ABCXJS.write.RelativeElement("timesig.cut",0,this.glyphs.getSymbolWidth("timesig.cut"),7))}}}this.startlimitelem=d;return d};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}}ABCXJS.write.spacing={};ABCXJS.write.spacing.FONTEM=360;ABCXJS.write.spacing.FONTSIZE=30;ABCXJS.write.spacing.STEP=ABCXJS.write.spacing.FONTSIZE*(93)/720;ABCXJS.write.spacing.SPACEX=30;ABCXJS.write.spacing.TOPNOTE=10;ABCXJS.write.color={};ABCXJS.write.color.highLight="#5151ff";ABCXJS.write.color.highLight="#ff0000";ABCXJS.write.color.unhighLight="black";ABCXJS.write.color.useTransparency=true;ABCXJS.write.Printer=function(d,c,a){c=c||{};this.y=0;this.pageNumber=1;this.estimatedPageLength=0;this.paper=d;this.glyphs=new ABCXJS.write.Glyphs();this.listeners=[];this.selected=[];this.scale=c.scale||1;this.paddingtop=c.paddingtop||15;this.paddingbottom=c.paddingbottom||15;this.paddingleft=c.paddingleft||15;this.paddingright=c.paddingright||30;this.editable=c.editable||false;this.loadedKeyboard=a||null;this.staffgroups=[]};ABCXJS.write.Printer.prototype.printABC=function(a,c){if(a[0]===undefined){a=[a]}this.y=0;this.totalY=0;for(var d=0;d<a.length;d++){this.printTune(a[d],c)}};ABCXJS.write.Printer.prototype.printTune=function(e,g){if(e.lines.length===0){return}this.currentTune=e;g=g||{};g.color=g.color||"black";g.backgroundColor=g.backgroundColor||"none";ABCXJS.write.color.unhighLight=g.color;var d="\n   .abc_link { font-weight: normal;  text-decoration: none; }\n   .abc_link:hover { stroke: blue;  font-weight: normal;  text-decoration: none; }\n   .abc_title {\n        font-size: 18px;\n        font-weight: bold;\n        font-family: Merienda, serif;\n    }\n    \n    .abc_subtitle {\n        font-size: 16px;\n        font-family: Merienda, serif;\n        font-style: italic;\n    }\n    \n    .abc_author {\n        font-size: 14px;\n        font-family: Merienda, serif;\n        font-style: italic;\n        font-weight: bold;\n    }\n    \n    .abc_rhythm {\n        font-size: 12px;\n        font-family: Merienda, serif;\n        font-style: italic;\n    }\n    \n    .abc_voice_header {\n        font-size: 12px;\n        font-family: Merienda, serif;\n        font-style: italic;\n        font-weight: bold;\n    }\n    \n    .abc_tempo {\n        font-size: 12px;\n        font-family: Merienda, serif;\n        font-weight: bold;\n    }\n    \n    .abc_text {\n        font-size: 12px;\n        font-family: arial, serif;\n    }\n    \n    .abc_lyrics {\n        font-size: 13px;\n        font-family: Merienda, serif;\n        font-weight: normal;\n    }\n    \n    .abc_ending {\n        font-size: 10px;\n        font-family: Merienda, serif;\n    }\n    \n    .abc_tabtext\n    ,.abc_tabtext2\n    ,.abc_tabtext3 {\n        font-family: arial;\n        font-weight: bold;\n        text-anchor:middle;\n        font-size: 14px;\n    }\n    .abc_tabtext2 {\n        font-size: 12px;\n    }\n    \n    .abc_tabtext3 {\n        font-size: 10px;\n    }";
var h="Partitura "+e.metaText.title+" criada por ABCXJS.";if(e.midi){e.midi.printer=this}this.pageratio=e.formatting.pageratio;this.pagenumbering=e.formatting.pagenumbering;this.staffsep=e.formatting.staffsep||ABCXJS.write.spacing.STEP*8;this.paddingtop=e.formatting.landscape?15:15;this.scale=e.formatting.scale?e.formatting.scale:this.scale;this.width=Math.min(e.formatting.staffwidth,e.formatting.usablewidth)-this.paddingright;this.maxwidth=this.width;this.y=this.paddingtop;this.totalY=0;this.layouter=new ABCXJS.write.Layout(this,e.formatting.bagpipes);this.calcPageLength();this.paper.initDoc("tune",h,d,g);this.paper.initPage(this.scale);if(e.metaText.title){this.paper.text(this.width/2,this.y+5,e.metaText.title,"abc_title","middle");this.y+=20}if(e.lines[0].staffs[0].subtitle){this.printSubtitleLine(e.lines[0].staffs[0].subtitle)}var D="";if(e.metaText.composer){D+=e.metaText.composer}if(e.metaText.origin){D+=" ("+e.metaText.origin+")"}if(e.metaText.author){D+=(D.length>0?"\n":"")+e.metaText.author}if(D.length>0){var B=D.split("\n").length;var r=(B>1?(B>2?0:5):30);this.paper.text(this.width,r,D,"abc_author","end")}var p;if(e.metaText.tempo&&!e.metaText.tempo.suppress){p=this.printTempo(this.paddingleft*2,e.metaText.tempo)}if(e.metaText.rhythm){this.paper.text(p||this.paddingleft*3+5,this.y,e.metaText.rhythm,"abc_rhythm","start")}this.y+=20;for(var q=0;q<e.lines.length;q++){var k=e.lines[q];if(k.newpage){this.skipPage();continue}if(k.staffs){var u=this.layouter.layoutABCLine(e,q,this.width);u.draw(this,q);this.staffgroups.push(u);this.maxwidth=Math.max(u.w,this.maxwidth);this.calcPageLength()}}var A="",z="",y=0,o=0,m=0;if(e.metaText.unalignedWords){for(var E=0;E<e.metaText.unalignedWords.length;E++){if(typeof e.metaText.unalignedWords[E]==="string"){A+=e.metaText.unalignedWords[E]+"\n";o++}}}if(e.metaText.book){m++;z+="Livro: "+e.metaText.book+"\n"}if(e.metaText.source){m++;z+="Fonte: "+e.metaText.source+"\n"}if(e.metaText.discography){m++;z+="Discografia: "+e.metaText.discography+"\n"}if(e.metaText.notes){m++;z+=e.metaText.notes+"\n"}if(e.metaText.transcription){m++;z+="Transcrito por "+e.metaText.transcription+"\n"}if(e.metaText.history){m++;z+="Histórico: "+e.metaText.history+"\n"}if(o>0){y=ABCXJS.write.spacing.STEP*3+o*1.5*16;if((this.pageNumber-((this.y+y)/this.estimatedPageLength))<0){this.skipPage()}else{this.y+=ABCXJS.write.spacing.STEP*3}this.printExtraText(A,this.paddingleft+50);this.y+=y}if(m>0){y=ABCXJS.write.spacing.STEP*3+m*1.5*16;if((this.pageNumber-((this.y+y)/this.estimatedPageLength))<0){this.skipPage()}else{this.y+=ABCXJS.write.spacing.STEP*3}this.printExtraText(z,this.paddingleft);this.y+=y}this.skipPage(true);this.paper.endDoc(e);this.formatPage();var c=e.lines;for(var C=0;C<c.length;C++){for(var w=0;c[C].staffs&&w<c[C].staffs.length;w++){for(var t=0;t<c[C].staffs[w].voices.length;t++){for(var F=0;F<c[C].staffs[w].voices[t].length;F++){var x=c[C].staffs[w].voices[t][F].parent;if(!x||!x.gid){continue}x.setMouse(this)}}}}this.paper.topDiv.style.width="auto"};ABCXJS.write.Printer.prototype.printTempo=function(r,l){this.y-=5;var q=5;this.paper.beginGroup();if(l.preString){this.paper.text(r,this.calcY(q-0.8),l.preString,"abc_tempo","start");r+=l.preString.length*5+5}if(l.duration){var s=0.9;var h=l.duration[0];var t=new ABCXJS.write.AbsoluteElement(l,h,1);var e=ABCXJS.write.getDurlog(h);var a=0;for(var m=Math.pow(2,e),g=m/2;m<h;a++,m+=g,g/=2){}var p=ABCXJS.write.chartable.note[-e];var o=ABCXJS.write.chartable.uflags[-e];var k=this.layouter.printNoteHead(t,p,{verticalPos:q},"up",0,0,o,a,0,s);t.addHead(k);if(h<1){var u=9.5;var d=-0.6;t.addExtra(new ABCXJS.write.RelativeElement(null,u,0,q,{type:"stem",pitch2:q+6,linewidth:d}))}t.x=r+4;t.draw(this,null);r+=(t.w+u);var j="= "+l.bpm;this.paper.text(r,this.calcY(q-0.8),j,"abc_tempo","start");r+=j.length*5+5}if(l.postString){this.paper.text(r,this.calcY(q-0.8),l.postString,"abc_tempo","start")}this.paper.endGroup();this.y+=5;return t.x+t.w+4};ABCXJS.write.Printer.prototype.printSymbol=function(a,g,c){if(!c){return null}try{this.paper.printSymbol(a,this.calcY(g+this.glyphs.getYCorr(c)),c)}catch(d){this.paper.text(a,this.calcY(g+this.glyphs.getYCorr(c)),d)}};ABCXJS.write.Printer.prototype.printTieArc=function(e,d,c,j,a){e=e+6;d=d+4;c=c+((a)?1.5:-1.5);j=j+((a)?1.5:-1.5);var h=this.calcY(c);var g=this.calcY(j);this.paper.printTieArc(e,h,d,g,a)};ABCXJS.write.Printer.prototype.printStave=function(c,e,a){if(a.numLines===4){this.printLedger(c+1,e-1,19.5);this.paper.printStaveLine(c,e,this.calcY(15)-0.5);this.paper.printStaveLine(c,e,this.calcY(15));this.printLedger(c+1,e-1,7.5);this.paper.printStaveLine(c,e,this.calcY(0))}else{for(var d=0;d<a.numLines;d++){this.paper.printStaveLine(c,e,this.calcY((d+1)*2))}}};ABCXJS.write.Printer.prototype.printDebugLine=function(c,a,e,d){this.paper.printStaveLine(c,a,e,d)};ABCXJS.write.Printer.prototype.printLedger=function(c,a,d){this.paper.printLedger(c-1,this.calcY(d),a+1,this.calcY(d))};ABCXJS.write.Printer.prototype.printText=function(a,g,e,c,d){d=d||"start";c=c||"abc_text";this.paper.text(a,this.calcY(g),e,c,d)};ABCXJS.write.Printer.prototype.printTabText=function(k,c,m,g){g=g||"abc_tabtext";var e=parseInt(m);var d=(m.match(/'/g)||[]).length;var a=m;if(this.loadedKeyboard.pautaNumerica&&!isNaN(e)&&this.loadedKeyboard.keyMap[d][e-1]&&!this.loadedKeyboard.keyMap[d][e-1].closeNote.isBass){var h=this.loadedKeyboard.keyMap[d][e-1];var l=this.loadedKeyboard.pautaNumericaFormato;if(l.overrides[h.tabButton]){a=l.overrides[h.tabButton]}else{a=e+l.rule[d]}}this.paper.tabText(k,this.calcY(c)+5,a,g,"middle")};ABCXJS.write.Printer.prototype.printTabText2=function(a,d,c){return this.printTabText(a,d,c,"abc_tabtext2")};ABCXJS.write.Printer.prototype.printTabText3=function(a,d,c){return this.printTabText(a,d,c,"abc_tabtext3")};ABCXJS.write.Printer.prototype.printBar=function(a,c,e,d,g){this.paper.printBar(a,c,e,d,g)};ABCXJS.write.Printer.prototype.printStem=function(a,c,e,d){this.paper.printStem(a,c,e,d)};ABCXJS.write.Printer.prototype.printDebugMsg=function(a,d,c){return this.paper.text(a,d,c,"abc_ending","start")};ABCXJS.write.Printer.prototype.printLyrics=function(a,g,d){var e=this.calcY(g.lowest-(g.lyricsRows>1?0:3.7));var c=d.indexOf("\n ");if(c>=0){d=d.substr(0,c)+"\n..."}this.paper.text(a,e,d,"abc_lyrics","start")};ABCXJS.write.Printer.prototype.printFingering=function(a,h,d){var g=this.calcY(h.lowest);try{this.paper.printSymbol(a-3,g,"cn."+d.trim())}catch(c){this.paper.text(a,g+12,d.trim(),"abc_lyrics","start")}};ABCXJS.write.Printer.prototype.addSelectListener=function(a){this.listeners[this.listeners.length]=a};ABCXJS.write.Printer.prototype.notifySelect=function(d,a){this.selected[this.selected.length]=d;d.highlight(a);for(var c=0;c<this.listeners.length;c++){this.listeners[c].highlight&&this.listeners[c].highlight(d.abcelem)}};ABCXJS.write.Printer.prototype.notifyClear=function(c){c.unhighlight();for(var a=0;a<this.listeners.length;a++){this.listeners[a].unhighlight&&this.listeners[a].unhighlight(c.abcelem)
}};ABCXJS.write.Printer.prototype.notifyClearNSelect=function(c,a){this.clearSelection();this.notifySelect(c,a)};ABCXJS.write.Printer.prototype.clearSelection=function(){for(var a=0;a<this.selected.length;a++){this.notifyClear(this.selected[a])}this.selected=[]};ABCXJS.write.Printer.prototype.rangeHighlight=function(c){this.clearSelection();if(c.length===1&&c[0].start.row===c[0].end.row&&c[0].start.column===c[0].end.column){return}for(var p=0;p<this.staffgroups.length;p++){var h=this.staffgroups[p].voices;for(var k=0;k<h.length;k++){var a=h[k].children;for(var d=0;d<a.length;d++){if(!a[d].abcelem.position){continue}var m=a[d].abcelem.position.anchor.line;var l=a[d].abcelem.position.anchor.ch;var g=a[d].abcelem.position.head.ch;for(var o=0;o<c.length;o++){try{if(m>=c[o].start.row&&m<=c[o].end.row){if((m===c[o].start.row&&g<c[o].start.column)||(m===c[o].end.row&&l>c[o].end.column)){continue}else{this.selected.push(a[d]);a[d].highlight();break}}}catch(j){}}}}}return this.selected};ABCXJS.write.Printer.prototype.beginGroup=function(a){a.gid=this.paper.beginGroup(a.abcelem.el_type)};ABCXJS.write.Printer.prototype.endGroup=function(){this.paper.endGroup();return};ABCXJS.write.Printer.prototype.calcY=function(a){return this.y+((ABCXJS.write.spacing.TOPNOTE-a)*ABCXJS.write.spacing.STEP)};ABCXJS.write.Printer.prototype.calcPageLength=function(){if(this.currentTune.formatting.papersize==="screen"){this.estimatedPageLength=1000000}else{this.estimatedPageLength=((this.maxwidth+this.paddingright)*this.pageratio-this.paddingbottom)/this.scale}};ABCXJS.write.Printer.prototype.printPageNumber=function(){this.y=this.estimatedPageLength;if(this.pagenumbering){this.paper.text(this.maxwidth+this.paddingright,this.y,"- "+this.pageNumber+" -","abc_tempo","end")}};ABCXJS.write.Printer.prototype.skipPage=function(a){if(!a||this.pageNumber>1){this.printPageNumber()}this.totalY+=this.y;this.paper.endPage({w:(this.maxwidth+this.paddingright),h:this.y});if(!a){this.y=this.paddingtop;this.pageNumber++;this.paper.initPage(this.scale)}};ABCXJS.write.Printer.prototype.formatPage=function(){var a=this.currentTune.formatting.landscape?"landscape":"portrait";var d=document.getElementById("page_format");var c="   @page {\n        margin: "+this.currentTune.formatting.defaultMargin+"; size: "+this.currentTune.formatting.papersize+" "+a+";\n    }\n";if(!d){d=document.createElement("style");d.setAttribute("id","page_format");document.head.appendChild(d)}d.innerHTML=c};ABCXJS.write.Printer.prototype.printExtraText=function(e,c){var d=this.paper.text(c,this.y,e,"abc_title","start");var a;if(!a){a=25}return a};ABCXJS.write.Printer.prototype.printSubtitleLine=function(a){this.paper.text(this.width/2,this.y+2,a,"abc_subtitle","middle")};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}}ABCXJS.write.sprintf=function(){var h=0,g,j=arguments[h++],l=[],e,k,q,d;while(j){if(e=/^[^\x25]+/.exec(j)){l.push(e[0])}else{if(e=/^\x25{2}/.exec(j)){l.push("%")}else{if(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(j)){if(((g=arguments[e[1]||h++])==null)||(g==undefined)){throw ("Too few arguments.")}if(/[^s]/.test(e[7])&&(typeof(g)!="number")){throw ("Expecting number but found "+typeof(g))}switch(e[7]){case"b":g=g.toString(2);break;case"c":g=String.fromCharCode(g);break;case"d":g=parseInt(g);break;case"e":g=e[6]?g.toExponential(e[6]):g.toExponential();break;case"f":g=e[6]?parseFloat(g).toFixed(e[6]):parseFloat(g);break;case"o":g=g.toString(8);break;case"s":g=((g=String(g))&&e[6]?g.substring(0,e[6]):g);break;case"u":g=Math.abs(g);break;case"x":g=g.toString(16);break;case"X":g=g.toString(16).toUpperCase();break}g=(/[def]/.test(e[7])&&e[2]&&g>0?"+"+g:g);q=e[3]?e[3]=="0"?"0":e[3].charAt(1):" ";d=e[5]-String(g).length;k=e[5]?str_repeat(q,d):"";l.push(e[4]?g+k:k+g)}else{throw ("Huh ?!")}}}j=j.substring(e[0].length)}return l.join("")};if(!window.SVG){window.SVG={}}if(!window.SVG.misc){window.SVG.misc={printerId:0}}if(!window.SVG.Printer){window.SVG.Printer={}}SVG.Printer=function(a){this.topDiv=a;this.scale=1;this.gid=0;this.printerId=++SVG.misc.printerId;this.title;this.styles="";this.defines="";this.defined_glyph=[];this.svg_pages=[];this.currentPage=0;this.glyphs=new SVG.Glyphs();this.initDoc();this.svgHead=function(l,e,g){var c=g?g.w*this.scale+"px":"0";var j=g?g.h*this.scale+"px":"0";var k=g?"":"display: none; ";return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="'+k+"width:"+c+"; height: "+j+';" >\n'}};SVG.Printer.prototype.initDoc=function(c,e,d,a){a=a||{};this.docId=c||"dcto";this.title=e||"";this.backgroundColor=a.backgroundColor||"none";this.color=a.color||"black";this.baseColor=a.baseColor||"black";this.scale=1;this.defines="";this.defined_glyph=[];this.svg_pages=[];this.currentPage=-1;this.gid=0;this.styles='<style type="text/css">\n    @media print {\n        div.nobrk {page-break-inside: avoid}\n        div.newpage {page-break-before: always}\n    }\n'+(d||"")+"\n</style>\n"};SVG.Printer.prototype.endDoc=function(){var a='<div style="display:block; margin:0; padding: 0; width: fit-content; background-color:'+this.backgroundColor+'; ">\n'+this.svgHead(this.docId);a+="<title>"+this.title+"</title>\n";a+=this.styles;if(this.defines.length>0){a+="<defs>"+this.defines+"</defs>\n"}a+="</svg>\n";for(var c=0;c<=this.currentPage;c++){a+='<div class="'+(c>0?"newpage":"nobrk")+'">'+this.svg_pages[c]+"</div>\n"}a+="</div>";this.topDiv.innerHTML=a};SVG.Printer.prototype.initPage=function(a){this.scale=a||this.scale;this.currentPage++;this.svg_pages[this.currentPage]="";var c="g"+this.docId+(this.currentPage+1);if(this.scale!==1){this.svg_pages[this.currentPage]+='<g id="'+c+'" transform="scale( '+this.scale+')">'}};SVG.Printer.prototype.endPage=function(a){if(this.scale&&this.scale!==1){this.svg_pages[this.currentPage]+="</g>"}var c=this.docId+(this.currentPage+1);this.svg_pages[this.currentPage]=this.svgHead(c,this.currentPage<1?"nobrk":"newpage",a)+this.svg_pages[this.currentPage]+"</svg>\n"};SVG.Printer.prototype.beginGroup=function(c){var d="p"+this.printerId+"g"+(++this.gid);var a=' style="fill:'+this.color+'; stroke:none;" ';this.svg_pages[this.currentPage]+='<g id="'+d+'"'+a+">\n";return d};SVG.Printer.prototype.endGroup=function(){this.svg_pages[this.currentPage]+="</g>\n"};SVG.Printer.prototype.setDefine=function(a){var c=this.glyphs.getDefinition(a);if(c.length===0){return false}if(!this.defined_glyph[a]){this.defines+=c;this.defined_glyph[a]=true}return true};SVG.Printer.prototype.printLine=function(a,g,e,c){if(a===e){e=ABCXJS.misc.isIE()?1:0.6;c-=g}if(g===c){c=ABCXJS.misc.isIE()?1:0.6;e-=a}var d=ABCXJS.write.sprintf('<rect style="fill:'+this.color+';"  x="%.1f" y="%.1f" width="%.1f" height="%.1f"/>\n',a,g,e,c);this.svg_pages[this.currentPage]+=d};SVG.Printer.prototype.printLedger=function(a,g,e,c){var d=ABCXJS.write.sprintf('<path style="stroke:'+this.baseColor+'; fill: white; stroke-width:0.6; stroke-dasharray: 1 1;" d="M %.1f %.1f h%.1f"/>\n',a,g,e-a);
this.svg_pages[this.currentPage]+=d};SVG.Printer.prototype.printBeam=function(h,k,e,j,c,g,a,d){this.svg_pages[this.currentPage]+=ABCXJS.write.sprintf('<path style="stroke:none; fill:'+this.color+';" d="M %.1f %.1f L %.1f %.1f L %.1f %.1f Z L %.1f %.1f L %.1f %.1f Z" />\n',h,k,e,j,c,g,c,g,a,d)};SVG.Printer.prototype.printStaveLine=function(h,g,j,e){var d=e?e:this.baseColor;var a=0.6;var c=ABCXJS.write.sprintf('<rect style="stroke:none; fill: %s;" x="%.1f" y="%.1f" width="%.1f" height="%.1f"/>\n',d,h,j,Math.abs(g-h),a);this.svg_pages[this.currentPage]+=c};SVG.Printer.prototype.printBar=function(j,l,h,e,g){var a=j+l;var d=g?"":'style="stroke:none; fill:'+this.baseColor+'"';if(ABCXJS.misc.isIE()&&l<1){l=1}var k=Math.abs(e-h);l=Math.abs(l);var c=ABCXJS.write.sprintf("<rect "+d+' x="%.1f" y="%.1f" width="%.1f" height="%.1f"/>\n',Math.min(j,a),Math.min(h,e),l,k);this.svg_pages[this.currentPage]+=c};SVG.Printer.prototype.printStem=function(a,g,j,h){var e=a+g;if(ABCXJS.misc.isIE()&&g<1){g=1}var c=Math.abs(h-j);g=Math.abs(g);var d=ABCXJS.write.sprintf('<rect x="%.1f" y="%.1f" width="%.1f" height="%.1f"/>\n',Math.min(a,e),Math.min(j,h),g,c);this.svg_pages[this.currentPage]+=d};SVG.Printer.prototype.printTieArc=function(s,d,r,c,j){var l=r-s;var k=c-d;var h=Math.sqrt(l*l+k*k);var g=l/h;var e=k/h;var v=h/3.5;var m=(j?-1:1)*Math.min(25,Math.max(4,v));var q=s+v*g-m*e;var u=d+v*e+m*g;var o=r-v*g-m*e;var t=c-v*e+m*g;var a=2;var p=ABCXJS.write.sprintf('<path style="fill:'+this.color+'; stroke-width:0.6px; stroke:none;" d="M %.1f %.1f C %.1f %.1f %.1f %.1f %.1f %.1f C %.1f %.1f %.1f %.1f %.1f %.1f z"/>\n',s,d,q,u,o,t,r,c,o-a*e,t+a*g,q-a*e,u+a*g,s,d);this.svg_pages[this.currentPage]+=p};SVG.Printer.prototype.printBrace=function(a,e,d){var g=Math.abs(e-d);var h=g/1027;this.setDefine("scripts.lbrace");var c=ABCXJS.write.sprintf('<use style="fill:'+this.baseColor+'" x="0" y="0" xlink:href="#scripts.lbrace" transform="translate(%.1f %.1f) scale(0.13 %.5f)" />\n',a,d,h);this.svg_pages[this.currentPage]+=c};SVG.Printer.prototype.printSymbol=function(a,e,d){if(this.setDefine(d)){var c=ABCXJS.write.sprintf('<use x="%.1f" y="%.1f" xlink:href="#%s" />\n',a,e,d);this.svg_pages[this.currentPage]+=c}else{throw"Undefined: "+d}};SVG.Printer.prototype.tabText=function(c,g,e,d,a){if(e==="scripts.rarrow"){this.printSymbol(c,g,e);return}e=""+e;if(e.length===0){return}a=a||"start";c=c.toFixed(2);g=g.toFixed(2);this.svg_pages[this.currentPage]+='<text class="'+d+'" x="'+c+'" y="'+g+'" >'+e+"</text>\n"};SVG.Printer.prototype.text=function(j,h,g,d,e){g=""+g;if(g.length===0){return}var a=d==="abc_lyrics"?"":'style="stroke:none; fill: '+this.color+';"';var k=g.split("\n");e=e||"start";j=j.toFixed(2);h=h.toFixed(2);this.svg_pages[this.currentPage]+='<g class="'+d+'" '+a+' transform="translate('+j+" "+h+')">\n';if(k.length<2){var l=k[0].trim()==="."?'style="opacity:0;"':"";this.svg_pages[this.currentPage]+='<text text-anchor="'+e+'" x="0" y="0" '+l+" >"+k[0]+"</text>\n"}else{this.svg_pages[this.currentPage]+='<text text-anchor="'+e+'" x="0" y="0">\n';for(var c=0;c<k.length;c++){var l=k[c].trim()==="."?'style="opacity:0;"':"";this.svg_pages[this.currentPage]+='<tspan x="0" dy="1.2em" '+l+" >"+(k[c].length===0?"&nbsp;":k[c])+"</tspan>\n"}this.svg_pages[this.currentPage]+="</text>\n"}this.svg_pages[this.currentPage]+="</g>\n"};SVG.Printer.prototype.printButton=function(a,l,k,o){var e=o.radius/26;var g="p"+this.printerId+a;var c="stroke:"+o.borderColor+"; stroke-width:"+o.borderWidth+"px; fill: none;";var h="stroke:"+o.borderColor+"; stroke-width:"+o.borderWidth+"px; fill: black;";var j='<path style="'+c+'" d="m 2 34 l 52 -12" ></path>\n';var m="";if(o.pautaNumerica){if(o.pautaNumericaMini){m='<circle style="'+h+'" cx="46" cy="46" r="10"></circle>\n'}else{j=""}}var d=ABCXJS.write.sprintf('<g id="%s" transform="translate(%.1f %.1f) scale(%.5f)">\n        <circle cx="28" cy="28" r="26" style="stroke:none; fill: %s;" ></circle>\n        <path id="%s_ac" style="stroke: none; fill: %s;" d="M 2 34 a26 26 0 0 1 52 -12"></path>\n        <path id="%s_ao" style="stroke: none; fill: %s;" d="M 54 22 a26 26 0 0 1 -52 12"></path>\n        <circle style="'+c+'" cx="28" cy="28" r="26"></circle>\n        '+j+'        <text id="%s_tc" class="%s" style="stroke:none; fill: black;" x="27" y="22" ></text>\n        <text id="%s_to" class="%s" style="stroke:none; fill: black;" x="27" y="44" ></text>\n        <text id="%s_tn" class="%s" style="stroke:none; fill: black;" x="28" y="36" ></text>\n        '+m+'        <text id="%s_tm" class="%s" style="stroke:none; fill: white;" x="46" y="50" ></text>\n        </g>\n',g,l,k,e,o.fillColor,g,o.closeColor,g,o.openColor,g,o.kls,g,o.kls,g,o.klsN,g,o.klsNMini);this.svg_pages[this.currentPage]+=d;return g};if(!window.SVG){window.SVG={}}if(!window.SVG.Glyphs){window.SVG.Glyphs={}}SVG.Glyphs=function(){var d=new ABCXJS.write.Glyphs();var a="0.06";var c={"cn.1":'<path id="cn.1" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M150.026,80.39h-22.84c-6.91,0-10.933,7.044-10.933,13.158c0,5.936,3.209,13.158,10.933,13.158 h7.259v85.36c0,8.734,6.257,13.605,13.176,13.605s13.185-4.881,13.185-13.605V92.771C160.798,85.789,156.945,80.39,150.026,80.39z"/>',"cn.2":'<path id="cn.2" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M173.232,180.205h-32.038 c15.661-18.459,40.852-39.753,40.852-63.736c0-21.91-16.564-35.882-39.216-35.882c-22.661,0-43.847,17.977-43.847,39.717 c0,6.731,4.604,12.586,13.445,12.586c17.691,0,8.108-28.498,29.294-28.498c7.554,0,13.266,6.204,13.266,13.284 c0,6.204-3.138,11.558-6.454,16.046c-13.999,18.969-30.581,34.496-45.867,51.579c-1.841,2.065-4.246,5.176-4.246,8.796 c0,7.938,6.266,11.38,14.365,11.38h61.528c6.999,0,13.266-4.568,13.266-12.497C187.58,185.05,181.331,180.205,173.232,180.205z"/>',"cn.23":'<path id="cn.23" transform="scale('+a+')" \nd="M 244.597 167.084 C 244.597 187.457 226.665 204.611 203.513 204.611 C 179.386 204.611 164.386 186.107 164.386 172.689 C 164.386 166.065 171.064 161.309 176.937 161.309 C 188.022 161.309 185.411 181.181 203.835 181.181 C 212.31 181.181 219.166 174.387 219.166 165.385 C 219.166 141.616 191.446 159.101 191.446 139.068 C 191.446 121.235 214.598 133.294 214.598 114.441 C 214.598 107.995 210.2 103.07 202.861 103.07 C 187.378 103.07 189.497 119.706 178.412 119.706 C 171.725 119.706 167.81 113.43 167.81 107.146 C 167.81 93.907 185.259 79.631 203.352 79.631 C 226.827 79.631 238.081 97.474 238.081 110.713 C 238.081 121.413 233.683 130.754 224.717 136.69 C 236.445 142.303 244.598 153.674 244.597 167.084 M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 154.528 189.927 C 154.528 197.856 148.261 202.424 141.262 202.424 L 79.734 202.424 C 71.635 202.424 65.369 198.982 65.369 191.044 C 65.369 187.424 67.774 184.313 69.615 182.248 C 84.901 165.165 101.483 149.638 115.482 130.669 C 118.798 126.181 121.936 120.827 121.936 114.623 C 121.936 107.543 116.224 101.339 108.67 101.339 C 87.484 101.339 97.067 129.837 79.376 129.837 C 70.535 129.837 65.931 123.982 65.931 117.251 C 65.931 95.511 87.117 77.534 109.778 77.534 C 132.43 77.534 148.994 91.506 148.994 113.416 C 148.994 137.399 123.803 158.693 108.142 177.152 L 140.18 177.152 C 148.279 177.152 154.528 181.997 154.528 189.927 Z"/>',"cn.234":'<path id="cn.234" transform="scale('+a+')" \nd="M 259.702 172.031 C 259.702 192.404 241.77 209.558 218.618 209.558 C 194.491 209.558 179.491 191.054 179.491 177.636 C 179.491 171.012 186.169 166.256 192.042 166.256 C 203.127 166.256 200.516 186.128 218.94 186.128 C 227.415 186.128 234.271 179.334 234.271 170.332 C 234.271 146.563 206.551 164.048 206.551 144.015 C 206.551 126.182 229.703 138.241 229.703 119.388 C 229.703 112.942 225.305 108.017 217.966 108.017 C 202.483 108.017 204.602 124.653 193.517 124.653 C 186.83 124.653 182.915 118.377 182.915 112.093 C 182.915 98.854 200.364 84.578 218.457 84.578 C 241.932 84.578 253.186 102.421 253.186 115.66 C 253.186 126.36 248.788 135.701 239.822 141.637 C 251.55 147.25 259.703 158.621 259.702 172.031 M 168.58 194.874 C 168.58 202.803 162.313 207.371 155.314 207.371 L 93.786 207.371 C 85.687 207.371 79.421 203.929 79.421 195.991 C 79.421 192.371 81.826 189.26 83.667 187.195 C 98.953 170.112 115.535 154.585 129.534 135.616 C 132.85 131.128 135.988 125.774 135.988 119.57 C 135.988 112.49 130.276 106.286 122.722 106.286 C 101.536 106.286 111.119 134.784 93.428 134.784 C 84.587 134.784 79.983 128.929 79.983 122.198 C 79.983 100.458 101.169 82.481 123.83 82.481 C 146.482 82.481 163.046 96.453 163.046 118.363 C 163.046 142.346 137.855 163.64 122.194 182.099 L 154.232 182.099 C 162.331 182.099 168.58 186.944 168.58 194.874 M 143.027 288.948 C 64.04 288.948 0 224.917 0 145.921 C 0 66.934 64.04 2.894 143.027 2.894 C 169.792 2.894 194.84 10.246 216.261 23.04 C 238.668 8.467 265.412 0 294.132 0 C 373.119 0 437.159 64.04 437.159 143.027 C 437.159 222.023 373.119 286.054 294.132 286.054 C 267.369 286.054 242.322 278.703 220.9 265.909 C 198.492 280.482 171.748 288.948 143.027 288.948 Z M 216.017 55.488 C 196.068 39.366 170.675 29.712 143.027 29.712 C 78.844 29.712 26.818 81.738 26.818 145.921 C 26.818 210.104 78.844 262.13 143.027 262.13 C 171.975 262.13 198.449 251.547 218.793 234.039 C 219.116 234.43 219.441 234.82 219.768 235.208 C 220.231 234.629 220.689 234.047 221.143 233.462 C 241.093 249.582 266.484 259.236 294.132 259.236 C 358.315 259.236 410.341 207.21 410.341 143.027 C 410.341 78.844 358.315 26.818 294.132 26.818 C 265.184 26.818 238.71 37.401 218.366 54.909 C 218.043 54.518 217.719 54.129 217.392 53.742 C 216.929 54.321 216.471 54.902 216.017 55.488 M 354.44 159.87 L 349.398 159.87 L 349.398 107.263 C 349.398 91.673 341.004 85.326 330.465 85.326 C 321.016 85.326 315.93 88.419 311.934 95.266 L 271.234 164.831 C 270.143 166.538 268.686 168.603 268.686 172.376 C 268.686 176.828 272.503 182.486 281.406 182.486 L 325.199 182.486 L 325.199 197.048 C 325.199 206.139 327.049 210.412 336.319 210.412 C 345.589 210.412 349.397 206.13 349.397 197.048 L 349.397 182.486 L 354.439 182.486 C 361.528 182.486 367.159 178.034 367.159 171.169 C 367.16 164.321 361.529 159.87 354.44 159.87 Z M 325.754 159.87 L 300.858 159.87 L 325.387 112.054 L 325.754 112.054 L 325.754 159.87 Z"/>',"cn.2345":'<path id="cn.2345" transform="scale('+a+')" \nd="M 208.702 167.302 C 208.702 187.675 190.77 204.829 167.618 204.829 C 143.491 204.829 128.491 186.325 128.491 172.907 C 128.491 166.283 135.169 161.527 141.042 161.527 C 152.127 161.527 149.516 181.399 167.94 181.399 C 176.415 181.399 183.271 174.605 183.271 165.603 C 183.271 141.834 155.551 159.319 155.551 139.286 C 155.551 121.453 178.703 133.512 178.703 114.659 C 178.703 108.213 174.305 103.288 166.966 103.288 C 151.483 103.288 153.602 119.924 142.517 119.924 C 135.83 119.924 131.915 113.648 131.915 107.364 C 131.915 94.125 149.364 79.849 167.457 79.849 C 190.932 79.849 202.186 97.692 202.186 110.931 C 202.186 121.631 197.788 130.972 188.822 136.908 C 200.55 142.521 208.703 153.892 208.702 167.302 M 444.58 144.08 C 444.58 223.076 375.277 286.054 296.29 286.054 C 269.744 286.054 244.886 278.821 223.58 266.219 C 201.27 280.602 174.701 288.948 146.185 288.948 C 67.198 288.948 0 224.917 0 145.921 C 0 66.934 67.198 2.894 146.185 2.894 C 172.733 2.894 197.592 10.127 218.897 22.73 C 241.207 8.347 267.775 0 296.29 0 C 375.277 0 444.58 65.093 444.58 144.08 Z M 223.301 233.462 C 243.251 249.582 268.642 259.236 296.29 259.236 C 360.473 259.236 417.762 208.263 417.762 144.08 C 417.762 79.897 360.473 26.818 296.29 26.818 C 267.342 26.818 240.868 37.401 220.524 54.909 C 220.371 54.724 220.217 54.539 220.063 54.354 C 219.765 54.73 219.469 55.108 219.175 55.488 C 199.226 39.366 173.833 29.712 146.185 29.712 C 82.002 29.712 26.818 81.738 26.818 145.921 C 26.818 210.104 82.002 262.13 146.185 262.13 C 175.133 262.13 201.607 251.547 221.951 234.039 C 222.105 234.225 222.259 234.411 222.413 234.596 C 222.711 234.219 223.007 233.841 223.301 233.462 M 296.44 153.141 L 291.398 153.141 L 291.398 100.534 C 291.398 84.944 283.004 78.597 272.465 78.597 C 263.016 78.597 257.93 81.69 253.934 88.537 L 213.234 158.102 C 212.143 159.809 210.686 161.874 210.686 165.647 C 210.686 170.099 214.503 175.757 223.406 175.757 L 267.199 175.757 L 267.199 190.319 C 267.199 199.41 269.049 203.683 278.319 203.683 C 287.589 203.683 291.397 199.401 291.397 190.319 L 291.397 175.757 L 296.439 175.757 C 303.528 175.757 309.159 171.305 309.159 164.44 C 309.16 157.592 303.529 153.141 296.44 153.141 Z M 267.754 153.141 L 242.858 153.141 L 267.387 105.325 L 267.754 105.325 L 267.754 153.141 M 395.591 156.989 C 395.591 185.862 378.633 204.885 346.774 204.885 C 333.696 204.885 306.253 196.929 306.253 181.715 C 306.253 175.324 311.956 169.96 318.768 169.96 C 326.134 169.96 334.984 181.018 347.329 181.018 C 360.219 181.018 366.852 169.272 366.852 158.375 C 366.852 147.997 360.585 140.917 349.161 140.917 C 338.47 140.917 336.816 146.62 327.421 146.62 C 320.243 146.62 316.56 141.435 316.56 138.494 C 316.56 136.25 316.926 134.516 317.114 132.621 L 321.718 96.14 C 323.371 82.651 327.251 79.71 336.083 79.71 L 380.484 79.71 C 388.95 79.71 393.929 84.376 393.929 90.598 C 393.929 102.532 384.355 103.569 381.039 103.569 L 346.409 103.569 L 343.647 121.894 C 348.063 121.045 352.845 120.178 357.458 120.178 C 379.752 120.178 395.592 136.769 395.591 156.989 M 130.344 188.824 C 130.344 196.753 124.077 201.321 117.078 201.321 L 55.55 201.321 C 47.451 201.321 41.185 197.879 41.185 189.941 C 41.185 186.321 43.59 183.21 45.431 181.145 C 60.717 164.062 77.299 148.535 91.298 129.566 C 94.614 125.078 97.752 119.724 97.752 113.52 C 97.752 106.44 92.04 100.236 84.486 100.236 C 63.3 100.236 72.883 128.734 55.192 128.734 C 46.351 128.734 41.747 122.879 41.747 116.148 C 41.747 94.408 62.933 76.431 85.594 76.431 C 108.246 76.431 124.81 90.403 124.81 112.313 C 124.81 136.296 99.619 157.59 83.958 176.049 L 115.996 176.049 C 124.095 176.049 130.344 180.894 130.344 188.824 Z"/>',"cn.24":'<path id="cn.24" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 156.87 187.139 C 156.87 195.068 150.603 199.636 143.604 199.636 L 82.076 199.636 C 73.977 199.636 67.711 196.194 67.711 188.256 C 67.711 184.636 70.116 181.525 71.957 179.46 C 87.243 162.377 103.825 146.85 117.824 127.881 C 121.14 123.393 124.278 118.039 124.278 111.835 C 124.278 104.755 118.566 98.551 111.012 98.551 C 89.826 98.551 99.409 127.049 81.718 127.049 C 72.877 127.049 68.273 121.194 68.273 114.463 C 68.273 92.723 89.459 74.746 112.12 74.746 C 134.772 74.746 151.336 88.718 151.336 110.628 C 151.336 134.611 126.145 155.905 110.484 174.364 L 142.522 174.364 C 150.621 174.364 156.87 179.209 156.87 187.139 M 242.361 149.977 L 237.319 149.977 L 237.319 97.37 C 237.319 81.78 228.925 75.433 218.386 75.433 C 208.937 75.433 203.851 78.526 199.855 85.373 L 159.155 154.938 C 158.064 156.645 156.607 158.71 156.607 162.483 C 156.607 166.935 160.424 172.593 169.327 172.593 L 213.12 172.593 L 213.12 187.155 C 213.12 196.246 214.97 200.519 224.24 200.519 C 233.51 200.519 237.318 196.237 237.318 187.155 L 237.318 172.593 L 242.36 172.593 C 249.449 172.593 255.08 168.141 255.08 161.276 C 255.081 154.428 249.45 149.977 242.361 149.977 Z M 213.675 149.977 L 188.779 149.977 L 213.308 102.161 L 213.675 102.161 L 213.675 149.977 Z"/>',"cn.25":'<path id="cn.25" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 154.049 186.195 C 154.049 194.124 147.782 198.692 140.783 198.692 L 79.255 198.692 C 71.156 198.692 64.89 195.25 64.89 187.312 C 64.89 183.692 67.295 180.581 69.136 178.516 C 84.422 161.433 101.004 145.906 115.003 126.937 C 118.319 122.449 121.457 117.095 121.457 110.891 C 121.457 103.811 115.745 97.607 108.191 97.607 C 87.005 97.607 96.588 126.105 78.897 126.105 C 70.056 126.105 65.452 120.25 65.452 113.519 C 65.452 91.779 86.638 73.802 109.299 73.802 C 131.951 73.802 148.515 87.774 148.515 109.684 C 148.515 133.667 123.324 154.961 107.663 173.42 L 139.701 173.42 C 147.8 173.42 154.049 178.265 154.049 186.195 M 253.691 159.249 C 253.691 188.122 236.733 207.145 204.874 207.145 C 191.796 207.145 164.353 199.189 164.353 183.975 C 164.353 177.584 170.056 172.22 176.868 172.22 C 184.234 172.22 193.084 183.278 205.429 183.278 C 218.319 183.278 224.952 171.532 224.952 160.635 C 224.952 150.257 218.685 143.177 207.261 143.177 C 196.57 143.177 194.916 148.88 185.521 148.88 C 178.343 148.88 174.66 143.695 174.66 140.754 C 174.66 138.51 175.026 136.776 175.214 134.881 L 179.818 98.4 C 181.471 84.911 185.351 81.97 194.183 81.97 L 238.584 81.97 C 247.05 81.97 252.029 86.636 252.029 92.858 C 252.029 104.792 242.455 105.829 239.139 105.829 L 204.509 105.829 L 201.747 124.154 C 206.163 123.305 210.945 122.438 215.558 122.438 C 237.852 122.438 253.692 139.029 253.691 159.249 Z"/>',"cn.3":'<path id="cn.3" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M167.717,137.637 c8.966-5.936,13.364-15.277,13.364-25.977c0-13.239-11.254-31.082-34.729-31.082c-18.093,0-35.542,14.276-35.542,27.515 c0,6.284,3.915,12.56,10.602,12.56c11.085,0,8.966-16.636,24.449-16.636c7.339,0,11.737,4.925,11.737,11.371 c0,18.853-23.152,6.794-23.152,24.627c0,20.033,27.72,2.548,27.72,26.317c0,9.002-6.856,15.796-15.331,15.796 c-18.424,0-15.813-19.872-26.898-19.872c-5.873,0-12.551,4.756-12.551,11.38c0,13.418,15,31.922,39.127,31.922 c23.152,0,41.084-17.154,41.084-37.527C187.598,154.621,179.445,143.25,167.717,137.637z"/>',"cn.34":'<path id="cn.34" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 146.304 166.911 C 146.304 187.284 128.372 204.438 105.22 204.438 C 81.093 204.438 66.093 185.934 66.093 172.516 C 66.093 165.892 72.771 161.136 78.644 161.136 C 89.729 161.136 87.118 181.008 105.542 181.008 C 114.017 181.008 120.873 174.214 120.873 165.212 C 120.873 141.443 93.153 158.928 93.153 138.895 C 93.153 121.062 116.305 133.121 116.305 114.268 C 116.305 107.822 111.907 102.897 104.568 102.897 C 89.085 102.897 91.204 119.533 80.119 119.533 C 73.432 119.533 69.517 113.257 69.517 106.973 C 69.517 93.734 86.966 79.458 105.059 79.458 C 128.534 79.458 139.788 97.301 139.788 110.54 C 139.788 121.24 135.39 130.581 126.424 136.517 C 138.152 142.13 146.305 153.501 146.304 166.911 M 244.084 155.896 L 239.042 155.896 L 239.042 103.289 C 239.042 87.699 230.648 81.352 220.109 81.352 C 210.66 81.352 205.574 84.445 201.578 91.292 L 160.878 160.857 C 159.787 162.564 158.33 164.629 158.33 168.402 C 158.33 172.854 162.147 178.512 171.05 178.512 L 214.843 178.512 L 214.843 193.074 C 214.843 202.165 216.693 206.438 225.963 206.438 C 235.233 206.438 239.041 202.156 239.041 193.074 L 239.041 178.512 L 244.083 178.512 C 251.172 178.512 256.803 174.06 256.803 167.195 C 256.804 160.347 251.173 155.896 244.084 155.896 Z M 215.398 155.896 L 190.502 155.896 L 215.031 108.08 L 215.398 108.08 L 215.398 155.896 Z"/>',"cn.345":'<path id="cn.345" transform="scale('+a+')" \nd="M 158.702 167.031 C 158.702 187.404 140.77 204.558 117.618 204.558 C 93.491 204.558 78.491 186.054 78.491 172.636 C 78.491 166.012 85.169 161.256 91.042 161.256 C 102.127 161.256 99.516 181.128 117.94 181.128 C 126.415 181.128 133.271 174.334 133.271 165.332 C 133.271 141.563 105.551 159.048 105.551 139.015 C 105.551 121.182 128.703 133.241 128.703 114.388 C 128.703 107.942 124.305 103.017 116.966 103.017 C 101.483 103.017 103.602 119.653 92.517 119.653 C 85.83 119.653 81.915 113.377 81.915 107.093 C 81.915 93.854 99.364 79.578 117.457 79.578 C 140.932 79.578 152.186 97.421 152.186 110.66 C 152.186 121.36 147.788 130.701 138.822 136.637 C 150.55 142.25 158.703 153.621 158.702 167.031 M 436.159 143.027 C 436.159 222.023 372.119 286.054 293.132 286.054 C 266.586 286.054 241.728 278.821 220.422 266.219 C 198.112 280.602 171.543 288.948 143.027 288.948 C 64.04 288.948 0 224.917 0 145.921 C 0 66.934 64.04 2.894 143.027 2.894 C 169.575 2.894 194.434 10.127 215.739 22.73 C 238.049 8.347 264.617 0 293.132 0 C 372.119 0 436.159 64.04 436.159 143.027 Z M 220.143 233.462 C 240.093 249.582 265.484 259.236 293.132 259.236 C 357.315 259.236 409.341 207.21 409.341 143.027 C 409.341 78.844 357.315 26.818 293.132 26.818 C 264.184 26.818 237.71 37.401 217.366 54.909 C 217.213 54.724 217.059 54.539 216.905 54.354 C 216.607 54.73 216.311 55.108 216.017 55.488 C 196.068 39.366 170.675 29.712 143.027 29.712 C 78.844 29.712 26.818 81.738 26.818 145.921 C 26.818 210.104 78.844 262.13 143.027 262.13 C 171.975 262.13 198.449 251.547 218.793 234.039 C 218.947 234.225 219.101 234.411 219.255 234.596 C 219.553 234.219 219.849 233.841 220.143 233.462 M 250.44 152.87 L 245.398 152.87 L 245.398 100.263 C 245.398 84.673 237.004 78.326 226.465 78.326 C 217.016 78.326 211.93 81.419 207.934 88.266 L 167.234 157.831 C 166.143 159.538 164.686 161.603 164.686 165.376 C 164.686 169.828 168.503 175.486 177.406 175.486 L 221.199 175.486 L 221.199 190.048 C 221.199 199.139 223.049 203.412 232.319 203.412 C 241.589 203.412 245.397 199.13 245.397 190.048 L 245.397 175.486 L 250.439 175.486 C 257.528 175.486 263.159 171.034 263.159 164.169 C 263.16 157.321 257.529 152.87 250.44 152.87 Z M 221.754 152.87 L 196.858 152.87 L 221.387 105.054 L 221.754 105.054 L 221.754 152.87 M 362.591 156.718 C 362.591 185.591 345.633 204.614 313.774 204.614 C 300.696 204.614 273.253 196.658 273.253 181.444 C 273.253 175.053 278.956 169.689 285.768 169.689 C 293.134 169.689 301.984 180.747 314.329 180.747 C 327.219 180.747 333.852 169.001 333.852 158.104 C 333.852 147.726 327.585 140.646 316.161 140.646 C 305.47 140.646 303.816 146.349 294.421 146.349 C 287.243 146.349 283.56 141.164 283.56 138.223 C 283.56 135.979 283.926 134.245 284.114 132.35 L 288.718 95.869 C 290.371 82.38 294.251 79.439 303.083 79.439 L 347.484 79.439 C 355.95 79.439 360.929 84.105 360.929 90.327 C 360.929 102.261 351.355 103.298 348.039 103.298 L 313.409 103.298 L 310.647 121.623 C 315.063 120.774 319.845 119.907 324.458 119.907 C 346.752 119.907 362.592 136.498 362.591 156.718 Z"/>',"cn.35":'<path id="cn.35" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 250.888 154.38 C 250.888 183.253 233.93 202.276 202.071 202.276 C 188.993 202.276 161.55 194.32 161.55 179.106 C 161.55 172.715 167.253 167.351 174.065 167.351 C 181.431 167.351 190.281 178.409 202.626 178.409 C 215.516 178.409 222.149 166.663 222.149 155.766 C 222.149 145.388 215.882 138.308 204.458 138.308 C 193.767 138.308 192.113 144.011 182.718 144.011 C 175.54 144.011 171.857 138.826 171.857 135.885 C 171.857 133.641 172.223 131.907 172.411 130.012 L 177.015 93.531 C 178.668 80.042 182.548 77.101 191.38 77.101 L 235.781 77.101 C 244.247 77.101 249.226 81.767 249.226 87.989 C 249.226 99.923 239.652 100.96 236.336 100.96 L 201.706 100.96 L 198.944 119.285 C 203.36 118.436 208.142 117.569 212.755 117.569 C 235.049 117.569 250.889 134.16 250.888 154.38 M 149.904 161.495 C 149.904 181.868 131.972 199.022 108.82 199.022 C 84.693 199.022 69.693 180.518 69.693 167.1 C 69.693 160.476 76.371 155.72 82.244 155.72 C 93.329 155.72 90.718 175.592 109.142 175.592 C 117.617 175.592 124.473 168.798 124.473 159.796 C 124.473 136.027 96.753 153.512 96.753 133.479 C 96.753 115.646 119.905 127.705 119.905 108.852 C 119.905 102.406 115.507 97.481 108.168 97.481 C 92.685 97.481 94.804 114.117 83.719 114.117 C 77.032 114.117 73.117 107.841 73.117 101.557 C 73.117 88.318 90.566 74.042 108.659 74.042 C 132.134 74.042 143.388 91.885 143.388 105.124 C 143.388 115.824 138.99 125.165 130.024 131.101 C 141.752 136.714 149.905 148.085 149.904 161.495 Z"/>',"cn.4":'<path id="cn.4" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M175.065,155.122h-5.042v-52.607 c0-15.59-8.394-21.937-18.933-21.937c-9.449,0-14.535,3.093-18.531,9.94l-40.7,69.565c-1.091,1.707-2.548,3.772-2.548,7.545 c0,4.452,3.817,10.11,12.72,10.11h43.793V192.3c0,9.091,1.85,13.364,11.12,13.364s13.078-4.282,13.078-13.364v-14.562h5.042 c7.089,0,12.72-4.452,12.72-11.317C187.785,159.573,182.154,155.122,175.065,155.122z M146.379,155.122h-24.896l24.529-47.816 h0.367V155.122z"/>',"cn.45":'<path id="cn.45" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 147.276 152.9 L 142.234 152.9 L 142.234 100.293 C 142.234 84.703 133.84 78.356 123.301 78.356 C 113.852 78.356 108.766 81.449 104.77 88.296 L 64.07 157.861 C 62.979 159.568 61.522 161.633 61.522 165.406 C 61.522 169.858 65.339 175.516 74.242 175.516 L 118.035 175.516 L 118.035 190.078 C 118.035 199.169 119.885 203.442 129.155 203.442 C 138.425 203.442 142.233 199.16 142.233 190.078 L 142.233 175.516 L 147.275 175.516 C 154.364 175.516 159.995 171.064 159.995 164.199 C 159.996 157.351 154.365 152.9 147.276 152.9 Z M 118.59 152.9 L 93.694 152.9 L 118.223 105.084 L 118.59 105.084 L 118.59 152.9 M 256.743 156.906 C 256.743 185.779 239.785 204.802 207.926 204.802 C 194.848 204.802 167.405 196.846 167.405 181.632 C 167.405 175.241 173.108 169.877 179.92 169.877 C 187.286 169.877 196.136 180.935 208.481 180.935 C 221.371 180.935 228.004 169.189 228.004 158.292 C 228.004 147.914 221.737 140.834 210.313 140.834 C 199.622 140.834 197.968 146.537 188.573 146.537 C 181.395 146.537 177.712 141.352 177.712 138.411 C 177.712 136.167 178.078 134.433 178.266 132.538 L 182.87 96.057 C 184.523 82.568 188.403 79.627 197.235 79.627 L 241.636 79.627 C 250.102 79.627 255.081 84.293 255.081 90.515 C 255.081 102.449 245.507 103.486 242.191 103.486 L 207.561 103.486 L 204.799 121.811 C 209.215 120.962 213.997 120.095 218.61 120.095 C 240.904 120.095 256.744 136.686 256.743 156.906 Z"/>',"cn.5":'<path id="cn.5" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M149.678,120.849 c-4.613,0-9.395,0.867-13.811,1.716l2.762-18.325h34.63c3.316,0,12.89-1.037,12.89-12.971c0-6.222-4.979-10.888-13.445-10.888 h-44.401c-8.832,0-12.712,2.941-14.365,16.43l-4.604,36.481c-0.188,1.895-0.554,3.629-0.554,5.873 c0,2.941,3.683,8.126,10.861,8.126c9.395,0,11.049-5.703,21.74-5.703c11.424,0,17.691,7.08,17.691,17.458 c0,10.897-6.633,22.643-19.523,22.643c-12.345,0-21.195-11.058-28.561-11.058c-6.812,0-12.515,5.364-12.515,11.755 c0,15.214,27.443,23.17,40.521,23.17c31.859,0,48.817-19.023,48.817-47.896C187.812,137.44,171.972,120.849,149.678,120.849z"/>',"n.0":'<path id="n.0" transform="scale(0.95)" \nd="@@"/>',"n.1":'<path id="n.1" transform="scale(0.95)" \nd="@@"/>',"n.2":'<path id="n.2" transform="scale(0.95)" \nd="@@"/>',"n.3":'<path id="n.3" transform="scale(0.95)" \nd="@@"/>',"n.4":'<path id="n.4" transform="scale(0.95)" \nd="@@"/>',"n.5":'<path id="n.5" transform="scale(0.95)" \nd="@@"/>',"n.6":'<path id="n.6" transform="scale(0.95)" \nd="@@"/>',"n.7":'<path id="n.7" transform="scale(0.95)" \nd="@@"/>',"n.8":'<path id="n.8" transform="scale(0.95)" \nd="@@"/>',"n.9":'<path id="n.9" transform="scale(0.95)" \nd="@@"/>',f:'<path id="n.f" transform="scale(0.95)" \nd="@@"/>',m:'<path id="n.m" transform="scale(0.95)" \nd="@@"/>',p:'<path id="n.p" transform="scale(0.95)" \nd="@@"/>',r:'<path id="n.r" transform="scale(0.95)" \nd="@@"/>',s:'<path id="n.s" transform="scale(0.95)" \nd="@@"/>',z:'<path id="n.z" transform="scale(0.95)" \nd="@@"/>',"+":'<path id="+" transform="scale(0.95)" \nd="@@"/>',",":'<path id="," transform="scale(0.95)" \nd="@@"/>',"-":'<path id="-" transform="scale(0.95)" \nd="@@"/>',".":'<path id="." transform="scale(0.95)" \nd="@@"/>',"accidentals.nat":'<path id="accidentals.nat" transform="scale(0.8)" \nd="@@"/>',"accidentals.sharp":'<path id="accidentals.sharp" transform="scale(0.8)" \nd="@@"/>',"accidentals.flat":'<path id="accidentals.flat" transform="scale(0.8)" \nd="@@"/>',"accidentals.halfsharp":'<path id="accidentals.halfsharp" transform="scale(0.8)" \nd="@@"/>',"accidentals.dblsharp":'<path id="accidentals.dblsharp" transform="scale(0.8)" \nd="@@"/>',"accidentals.halfflat":'<path id="accidentals.halfflat" transform="scale(0.8)" \nd="@@"/>',"accidentals.dblflat":'<path id="accidentals.dblflat" transform="scale(0.8)" \nd="@@"/>',"clefs.C":'<path id="clefs.C" \nd="@@"/>',"clefs.F":'<path id="clefs.F" \nd="@@"/>',"clefs.G":'<path id="clefs.G" \nd="@@"/>',"clefs.perc":'<path id="clefs.perc" \nd="@@"/>',"clefs.tab":'<path id="clefs.tab" transform="scale(0.9)" \nd="@@"/>',"dots.dot":'<path id="dots.dot" \nd="@@"/>',"flags.d8th":'<path id="flags.d8th" \nd="@@"/>',"flags.d16th":'<path id="flags.d16th" \nd="@@"/>',"flags.d32nd":'<path id="flags.d32nd" \nd="@@"/>',"flags.d64th":'<path id="flags.d64th" \nd="@@"/>',"flags.dgrace":'<path id="flags.dgrace" \nd="@@"/>',"flags.u8th":'<path id="flags.u8th" \nd="@@"/>',"flags.u16th":'<path id="flags.u16th" \nd="@@"/>',"flags.u32nd":'<path id="flags.u32nd" \nd="@@"/>',"flags.u64th":'<path id="flags.u64th" \nd="@@"/>',"flags.ugrace":'<path id="flags.ugrace" \nd="@@"/>',"graceheads.quarter":'<g id="graceheads.quarter" transform="scale(0.6)" ><use xlink:href="#noteheads.quarter" /></g>',"graceflags.d8th":'<g id="graceflags.d8th" transform="scale(0.6)" ><use xlink:href="#flags.d8th" /></g>',"graceflags.u8th":'<g id="graceflags.u8th" transform="scale(0.6)" ><use xlink:href="#flags.u8th" /></g>',"noteheads.quarter":'<path id="noteheads.quarter" \nd="@@"/>',"noteheads.whole":'<path id="noteheads.whole" \nd="@@"/>',"notehesad.dbl":'<path id="noteheads.dbl" \nd="@@"/>',"noteheads.half":'<path id="noteheads.half" \nd="@@"/>',"rests.whole":'<path id="rests.whole" \nd="@@"/>',"rests.half":'<path id="rests.half" \nd="@@"/>',"rests.quarter":'<path id="rests.quarter" \nd="@@"/>',"rests.8th":'<path id="rests.8th" \nd="@@"/>',"rests.16th":'<path id="rests.16th" \nd="@@"/>',"rests.32nd":'<path id="rests.32nd" \nd="@@"/>',"rests.64th":'<path id="rests.64th" \nd="@@"/>',"rests.128th":'<path id="rests.128th" \nd="@@"/>',"scripts.rarrow":'<path id="scripts.rarrow" \nd="M -6 -5 h 8 v -3 l 4 4 l -4 4 v -3 h -8 z"/>',"scripts.tabrest":'<path id="scripts.tabrest" \nd="M -5 5 h 10 v 2 h -10 z"/>',"scripts.lbrace":'<path id="scripts.lbrace" \nd="@@"/>',"scripts.ufermata":'<path id="scripts.ufermata" \nd="@@"/>',"scripts.dfermata":'<path id="scripts.dfermata" \nd="@@"/>',"scripts.sforzato":'<path id="scripts.sforzato" \nd="@@"/>',"scripts.staccato":'<path id="scripts.staccato" \nd="@@"/>',"scripts.tenuto":'<path id="scripts.tenuto" \nd="@@"/>',"scripts.umarcato":'<path id="scripts.umarcato" \nd="@@"/>',"scripts.dmarcato":'<path id="scripts.dmarcato" \nd="@@"/>',"scripts.stopped":'<path id="scripts.stopped" \nd="@@"/>',"scripts.upbow":'<path id="scripts.upbow" \nd="@@"/>',"scripts.downbow":'<path id="scripts.downbow" \nd="@@"/>',"scripts.turn":'<path id="scripts.turn" \nd="@@"/>',"scripts.trill":'<path id="scripts.trill" \nd="@@"/>',"scripts.segno":'<path id="scripts.segno" transform="scale(0.8)" \nd="@@"/>',"scripts.coda":'<path id="scripts.coda" transform="scale(0.8)" \nd="@@"/>',"scripts.comma":'<path id="scripts.comma" \nd="@@"/>',"scripts.roll":'<path id="scripts.roll" \nd="@@"/>',"scripts.prall":'<path id="scripts.prall" \nd="@@"/>',"scripts.mordent":'<path id="scripts.mordent" \nd="@@"/>',"timesig.common":'<path id="timesig.common" \nd="@@"/>',"timesig.cut":'<path id="timesig.cut" \nd="@@"/>',"it.punto":'<path id="it.punto" \nd="@@"/>',"it.l":'<path id="it.l" \nd="@@"/>',"it.f":'<path id="it.f" \nd="@@"/>',"it.F":'<path id="it.F" \nd="@@"/>',"it.i":'<path id="it.i" \nd="@@"/>',"it.n":'<path id="it.n" \nd="@@"/>',"it.e":'<path id="it.e" \nd="@@"/>',"it.D":'<path id="it.D" \nd="@@"/>',"it.d":'<path id="it.d" \nd="@@"/>',"it.a":'<path id="it.a" \nd="@@"/>',"it.C":'<path id="it.C" \nd="@@"/>',"it.c":'<path id="it.c" \nd="@@"/>',"it.p":'<path id="it.p" \nd="@@"/>',"it.o":'<path id="it.o" \nd="@@"/>',"it.S":'<path id="it.S" \nd="@@"/>',"it.s":'<path id="it.s" \nd="@@"/>',"it.Fine":'<g id="it.Fine" ><use xlink:href="#it.F" x="0" y="3" /><use xlink:href="#it.i" x="12" y="3" /><use xlink:href="#it.n" x="17.5" y="3" /><use xlink:href="#it.e" x="27" y="3" /></g>',"it.Coda":'<g id="it.Coda" ><use xlink:href="#it.C" x="0" y="3" /><use xlink:href="#it.o" x="12" y="3" /><use xlink:href="#it.d" x="20" y="3" /><use xlink:href="#it.a" x="30" y="3" /></g>',"it.Da":'<g id="it.Da"><use xlink:href="#it.D" x="0" y="3" /><use xlink:href="#it.a" x="14" y="3" /></g>',"it.DaCoda":'<g id="it.DaCoda"><use xlink:href="#it.Da" x="0" y="0" /><use xlink:href="#scripts.coda" x="32" y="0" /></g>',"it.DaSegno":'<g id="it.DaSegno"><use xlink:href="#it.Da" x="0" y="0" /><use xlink:href="#scripts.segno" x="32" y="-3" /></g>',"it.DC":'<g id="it.DC"><use xlink:href="#it.D" x="0" y="1" /><use xlink:href="#it.punto" x="12" y="2" /><use xlink:href="#it.C" x="18" y="1" /><use xlink:href="#it.punto" x="29" y="2" /></g>',"it.DS":'<g id="it.DS"><use xlink:href="#it.D" x="0" y="1" /><use xlink:href="#it.punto" x="12" y="2" /><use xlink:href="#it.S" x="18" y="1" /><use xlink:href="#it.punto" x="29" y="2" /></g>',"it.al":'<g id="it.al"><use xlink:href="#it.a" x="0" y="2" /><use xlink:href="#it.l" x="10" y="2" /></g>',"it.DCalFine":'<g id="it.DCalFine"><use xlink:href="#it.DC" x="-14" y="1" /><use xlink:href="#it.al" x="25" y="1" /><use xlink:href="#it.Fine" x="46" y="-1" /></g>',"it.DCalCoda":'<g id="it.DCalCoda"><use xlink:href="#it.DC" x="-14" y="1" /><use xlink:href="#it.al" x="25" y="1" /><use xlink:href="#it.Coda" x="46" y="-1" /></g>',"it.DSalFine":'<g id="it.DSalFine"><use xlink:href="#it.DS" x="-14" y="1" /><use xlink:href="#it.al" x="25" y="1" /><use xlink:href="#it.Fine" x="46" y="-1" /></g>',"it.DSalCoda":'<g id="it.DSalCoda"><use xlink:href="#it.DS" x="-14" y="1" /><use xlink:href="#it.al" x="25" y="1" /><use xlink:href="#it.Coda" x="46" y="-1" /></g>'};
this.getDefinition=function(l){var k=c[l];if(!k){return""}k=k.replace("@@",d.getSymbolPathTxt(l));var h=0,e=0;while(h>=0){h=k.indexOf('xlink:href="#',e);if(h<0){continue}h+=13;e=k.indexOf('"',h);k+=this.getDefinition(k.slice(h,e))}return"\n"+k}};if(!window.ABCXJS){window.ABCXJS={}}if(!ABCXJS.edit){ABCXJS.edit={}}ABCXJS.edit.AccordionSelector=function(e,a,d,c){this.extraItems=c||[];this.ddmId=e;if(a instanceof DRAGGABLE.ui.DropdownMenu){this.menu=a}else{this.menu=new DRAGGABLE.ui.DropdownMenu(a,d,[{title:"Acordeons",ddmId:this.ddmId,itens:[]}])}if(d&&d.listener&&d.listener.accordion){this.accordion=d.listener.accordion}};ABCXJS.edit.AccordionSelector.prototype.populate=function(g,e){var a,c,h;this.menu.emptySubMenu(this.ddmId);for(var d=0;d<this.accordion.accordions.length;d++){a=this.menu.addItemSubMenu(this.ddmId,this.accordion.accordions[d].getFullName()+"|"+this.accordion.accordions[d].getId());if(typeof e==="undefined"){if(this.accordion.getId()===this.accordion.accordions[d].getId()){c=a;h=this.accordion.getFullName()}}else{if(e===this.accordion.accordions[d].getId()){c=a;h=this.accordion.accordions[d].getFullName()}}}for(var d=0;d<this.extraItems.length;d++){var a=this.menu.addItemSubMenu(this.ddmId,this.extraItems[d])}if(g&&h){this.menu.setSubMenuTitle(this.ddmId,h)}if(c){this.menu.selectItem(this.ddmId,c)}};ABCXJS.edit.KeySelector=function(d,a,c){this.ddmId=d;if(a instanceof DRAGGABLE.ui.DropdownMenu){this.menu=a}else{this.menu=new DRAGGABLE.ui.DropdownMenu(a,c,[{title:"Keys",ddmId:this.ddmId,itens:[]}])}};ABCXJS.edit.KeySelector.prototype.setVisible=function(a){this.menu.setVisible(a)};ABCXJS.edit.KeySelector.prototype.populate=function(g){var a=12;this.menu.emptySubMenu(this.ddmId);for(var d=+(a+g-1);d>-(a-g);d--){var c;if(d>g){c=ABCXJS.parse.number2keysharp[(d+a)%a]}else{c=ABCXJS.parse.number2keyflat[(d+a)%a]}var h=this.menu.addItemSubMenu(this.ddmId,c+"|"+(d-g));if(d===g){this.menu.setSubMenuTitle(this.ddmId,c);this.menu.selectItem(this.ddmId,h)}}};if(!window.ABCXJS){window.ABCXJS={}}if(!ABCXJS.edit){ABCXJS.edit={}}ABCXJS.edit.EditArea=function(g,h,e){var d=this;e=e?e:{};this.parentCallback=h;this.callback={listener:this,method:"editareaCallback"};this.container={};var a=["gutter","download","undoall","undo","redo","redoall","refresh","findNreplace","fontSize","DROPDOWN|selKey","octavedown","octaveup","lighton","readonly"];e.draggable=typeof(e.draggable)==="undefined"?true:e.draggable;this.draggagle=e.draggable;this.compileOnChange=typeof(e.compileOnChange)==="undefined"?false:e.compileOnChange;this.maximized=typeof(e.maximized)==="undefined"?false:e.maximized;this.translator=e.translator?e.translator:null;var c;if(typeof g==="string"){c=document.getElementById(g)}else{c=g}if(!c){alert('this.container: elemento "'+g+'" não encontrado.')}this.container=new DRAGGABLE.ui.Window(c,["move","popin","popout","restore","maximize"],e,this.callback,a);this.keySelector=new ABCXJS.edit.KeySelector("selKey",this.container.menu.selKey,this.callback);this.setFloating(this.draggable);this.currrentFontSize="15px";this.aceEditor=ace.edit(this.container.dataDiv);this.aceEditor.setOptions({highlightActiveLine:true,selectionStyle:"text",cursorStyle:"smooth"});this.aceEditor.setOptions({fontFamily:"'DejaVuSansMono','Monospace'",fontSize:this.currrentFontSize,fontWeight:"normal"});this.aceEditor.setOptions({tabSize:4,useSoftTabs:false,showInvisibles:false});this.aceEditor.renderer.setOptions({highlightGutterLine:true,showPrintMargin:false,showFoldWidgets:false});this.aceEditor.session.setNewLineMode("unix");this.aceEditor.$blockScrolling=Infinity;this.Range=require("ace/range").Range;this.gutterVisible=true;this.readOnly=false;this.showHiddenChar=false;this.syntaxHighLightVisible=true;this.selectionEnabled=true;this.restartUndoManager();this.createStyleSheet();this.aceEditor.on("focus",function(){d.aceEditor.focus();d.container.focus()});this.aceEditor.on("blur",function(){d.aceEditor.blur();d.container.blur()});if(h.listener){this.addChangeListener(h.listener)}};ABCXJS.edit.EditArea.prototype.setCompileOnChange=function(a){this.compileOnChange=a};ABCXJS.edit.EditArea.prototype.setMaximized=function(a){this.maximized=a;this.container.draggable=!a;this.container.setButtonVisible("maximize",this.draggable&&!this.maximized);this.container.setButtonVisible("restore",this.draggable&&this.maximized)};ABCXJS.edit.EditArea.prototype.setFloating=function(a){this.draggable=a;this.container.setButtonVisible("popout",!this.draggable);this.container.setButtonVisible("popin",this.draggable);this.container.setButtonVisible("maximize",this.draggable&&!this.maximized);this.container.setButtonVisible("restore",this.draggable&&this.maximized);this.container.setButtonVisible("move",this.draggable);this.container.setFloating(a)};ABCXJS.edit.EditArea.prototype.editareaCallback=function(j,g,a,h,k,e){this.container.setStatusMessage("");switch(j){case"UNDO":this.undoManager.hasUndo()&&this.undoManager.undo(false);break;case"REDO":this.undoManager.hasRedo()&&this.undoManager.redo(false);break;case"UNDOALL":while(this.undoManager.hasUndo()){this.undoManager.undo(false)}break;case"REDOALL":while(this.undoManager.hasRedo()){this.undoManager.redo(false)}break;case"FONTSIZE":switch(this.currrentFontSize){case"15px":this.currrentFontSize="18px";break;case"18px":this.currrentFontSize="22px";break;case"22px":this.currrentFontSize="15px";break}this.aceEditor.setOptions({fontSize:this.currrentFontSize});break;case"FINDNREPLACE":this.alert=new DRAGGABLE.ui.ReplaceDialog(this.container,{translator:this.translator});break;case"DO-SEARCH":if(a===""){this.container.setStatusMessage(this.translator.getResource("search_field_empty"));break}this.searchRange=this.aceEditor.find(a,{wrap:true,caseSensitive:k,wholeWord:e,regExp:false,preventScroll:true});if(this.searchRange){this.aceEditor.selection.setRange(this.searchRange)}else{this.container.setStatusMessage(this.translator.getResource("not_found"))}break;case"DO-REPLACE":if(a===""){this.container.setStatusMessage(this.translator.getResource("search_field_empty"));break}if(!this.searchRange){this.searchRange=this.aceEditor.find(a,{wrap:true,caseSensitive:k,wholeWord:e,regExp:false,preventScroll:true});if(this.searchRange){this.aceEditor.selection.setRange(this.searchRange)}else{this.container.setStatusMessage(this.translator.getResource("not_found"));break}}this.aceEditor.session.replace(this.searchRange,h);this.searchRange=this.aceEditor.find(a,{wrap:true,caseSensitive:k,wholeWord:e,regExp:false,preventScroll:true});if(this.searchRange){this.aceEditor.selection.setRange(this.searchRange)}break;case"DO-REPLACEALL":if(a===""){this.container.setStatusMessage(this.translator.getResource("search_field_empty"));break}this.searchRange=true;var l=0;while(this.searchRange){this.searchRange=this.aceEditor.find(a,{wrap:true,caseSensitive:k,wholeWord:e,regExp:false,preventScroll:true});if(this.searchRange){this.aceEditor.session.replace(this.searchRange,h);l++}else{if(l===0){this.container.setStatusMessage(this.translator.getResource("not_found"))
}else{this.container.setStatusMessage(l+" "+this.translator.getResource("occurrence_replaced"))}}}break;case"GUTTER":this.setGutter();break;case"READONLY":this.setReadOnly();var d=g.getElementsByTagName("i")[0];d.className=(this.readOnly?"ico-lock ico-black ico-large":"ico-lock-open ico-black ico-large");break;case"LIGHTON":this.setSyntaxHighLight();var d=g.getElementsByTagName("i")[0];d.className=(this.syntaxHighLightVisible?"ico-lightbulb-on ico-black ico-large":"ico-lightbulb-off ico-black ico-large");break;case"HIDDENCHAR":this.showHiddenChars();break;case"RESIZE":this.resize();this.parentCallback.listener[this.parentCallback.method](j,g);break;default:this.parentCallback.listener[this.parentCallback.method](j,g)}this.aceEditor.focus()};ABCXJS.edit.EditArea.prototype.createStyleSheet=function(){this.style=document.createElement("style");this.style.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.style)};ABCXJS.edit.EditArea.prototype.setEditorHighLightStyle=function(){this.style.innerHTML=".ABCXHighLight { background-color: "+ABCXJS.write.color.highLight+" !important; opacity: 0.15; }"};ABCXJS.edit.EditArea.prototype.clearEditorHighLightStyle=function(){this.style.innerHTML=".ABCXHighLight { }"};ABCXJS.edit.EditArea.prototype.showHiddenChars=function(a){if(typeof a==="boolean"){this.showHiddenChar=a}else{this.showHiddenChar=!this.showHiddenChar}this.aceEditor.setOption("showInvisibles",this.showHiddenChar)};ABCXJS.edit.EditArea.prototype.setGutter=function(a){if(typeof a==="boolean"){this.gutterVisible=a}else{this.gutterVisible=!this.gutterVisible}this.aceEditor.renderer.setShowGutter(this.gutterVisible)};ABCXJS.edit.EditArea.prototype.setReadOnly=function(a){if(typeof a==="boolean"){this.readOnly=a}else{this.readOnly=!this.readOnly}this.aceEditor.setOptions({readOnly:this.readOnly,highlightActiveLine:!this.readOnly,highlightGutterLine:!this.readOnly});this.aceEditor.textInput.getElement().disabled=this.readOnly};ABCXJS.edit.EditArea.prototype.setSyntaxHighLight=function(a){if(typeof a==="boolean"){this.syntaxHighLightVisible=a}else{this.syntaxHighLightVisible=!this.syntaxHighLightVisible}this.aceEditor.getSession().setMode(this.syntaxHighLightVisible?"ace/mode/abcx":"ace/mode/text")};ABCXJS.edit.EditArea.prototype.setStatusBarVisible=function(a){this.container.setStatusBarVisible(a);this.resize()};ABCXJS.edit.EditArea.prototype.setToolBarVisible=function(a){this.container.setToolBarVisible(a);this.resize()};ABCXJS.edit.EditArea.prototype.setVisible=function(a){this.container.setVisible(a)};ABCXJS.edit.EditArea.prototype.resize=function(){this.container.resize();this.aceEditor.resize()};ABCXJS.edit.EditArea.prototype.setOptions=function(c,a){if(c){this.aceEditor.setOptions(c)}if(a){this.aceEditor.renderer.setOptions(a)}};ABCXJS.edit.EditArea.prototype.addChangeListener=function(c){var a=this;a.aceEditor.textInput.getElement().addEventListener("keyup",function(){if(a.timerId1){clearTimeout(a.timerId1)}a.timerId1=setTimeout(function(){c.updateSelection()},100)});a.aceEditor.on("dblclick",function(){if(a.timerId2){clearTimeout(a.timerId2)}a.timerId2=setTimeout(function(){c.updateSelection()},100)});a.aceEditor.on("mousedown",function(){a.aceEditor.on("mouseup",function(){if(a.timerId3){clearTimeout(a.timerId3)}a.timerId3=setTimeout(function(){c.updateSelection()},100)})});a.aceEditor.on("change",function(){var d=a.aceEditor.getValue();if(a.compileOnChange&&d!==a.initialText){a.initialText=d;if(a.timerId4){clearTimeout(a.timerId4)}a.timerId4=setTimeout(function(){c.fireChanged(0,{force:false,showProgress:false})},300)}})};ABCXJS.edit.EditArea.prototype.getString=function(){return this.aceEditor.getValue()};ABCXJS.edit.EditArea.prototype.setString=function(c){if(c===this.aceEditor.getValue()){return}var a=this.aceEditor.getCursorPosition();this.aceEditor.setValue(c);this.aceEditor.clearSelection();this.initialText=this.getString();this.aceEditor.moveCursorToPosition(a)};ABCXJS.edit.EditArea.prototype.restartUndoManager=function(){this.aceEditor.getSession().setUndoManager(new ace.UndoManager());this.undoManager=this.aceEditor.getSession().getUndoManager()};ABCXJS.edit.EditArea.prototype.getSelection=function(){return this.aceEditor.selection.getAllRanges()};ABCXJS.edit.EditArea.prototype.setSelection=function(c){if(c&&c.position){this.searchRange=null;var a=new this.Range(c.position.anchor.line,c.position.anchor.ch,c.position.head.line,c.position.head.ch);this.aceEditor.selection.addRange(a);if(c.position.selectable||!this.selectionEnabled){this.aceEditor.renderer.scrollCursorIntoView(a.end,1)}}};ABCXJS.edit.EditArea.prototype.clearSelection=function(c){if(c&&c.position){var a=new this.Range(c.position.anchor.line,c.position.anchor.ch,c.position.head.line,c.position.head.ch);this.aceEditor.selection.clearRange(a)}};ABCXJS.edit.EditArea.prototype.clearSelection=function(c){if(c&&c.position){var a=new this.Range(c.position.anchor.line,c.position.anchor.ch,c.position.head.line,c.position.head.ch);this.aceEditor.selection.clearRange(a)}};ABCXJS.edit.EditArea.prototype.maximizeWindow=function(d,c){this.setMaximized(d);c.maximized=d;if(d){this.container.move(0,0);this.container.setSize("100%","calc( 100% - 7px)")}else{var a=this.container.topDiv.style;a.left=c.left;a.top=c.top;a.width=c.width;a.height=c.height}this.resize()};ABCXJS.edit.EditArea.prototype.dockWindow=function(g,e,a,j,c,d){e.floating=!g;this.setFloating(e.floating);this.setToolBarVisible(e.floating);this.setStatusBarVisible(e.floating);if(e.floating){this.maximizeWindow(e.maximized,e)}else{this.container.move(a,j);this.container.setSize(c,d);this.resize()}};ABCXJS.edit.EditArea.prototype.retrieveProps=function(c){if(c.floating&&!c.maximized){var a=this.container.topDiv.style;c.left=a.left;c.top=a.top;c.width=a.width;c.height=a.height}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.midi){window.ABCXJS.midi={}}window.ABCXJS.midi.keyToNote={};window.ABCXJS.midi.minNote=21;window.ABCXJS.midi.maxNote=108;for(var n=window.ABCXJS.midi.minNote;n<=window.ABCXJS.midi.maxNote;n++){var octave=(n-12)/12>>0;var name=ABCXJS.parse.number2keysharp[n%12]+octave;ABCXJS.midi.keyToNote[name]=n;name=ABCXJS.parse.number2keyflat[n%12]+octave;ABCXJS.midi.keyToNote[name]=n}if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.midi){window.ABCXJS.midi={}}ABCXJS.midi.Parse=function(a){a=a||{};this.vars={warnings:[]};this.scale=[0,2,4,5,7,9,11];this.wholeNote=32;this.minNote=1/this.wholeNote;this.oneMinute=60000;this.reset();this.addWarning=function(c){this.vars.warnings.push(c)};this.getWarnings=function(){return this.vars.warnings}};ABCXJS.midi.Parse.prototype.reset=function(){this.vars={warnings:[]};this.globalJumps=[];this.addingBarNumbers=-1;this.channel=-1;this.timecount=0;this.playlistpos=0;this.maxPass=2;this.countBar=0;this.next=null;this.restart={line:0,staff:0,voice:0,pos:0};this.multiplier=1;this.alertedMin=false;this.startTieInterval=[];this.lastTabElem=[];this.baraccidentals=[];this.parsedElements=[];
this.pass=[];this.midiTune={tempo:this.oneMinute/640,playlist:[],measures:[]}};ABCXJS.midi.Parse.prototype.parse=function(g,a){var c=this;var d=0;this.reset();this.abctune=g;this.transposeTab=0;if(g.hasTablature){this.transposeTab=g.lines[0].staffs[g.tabStaffPos].clef.transpose||0}this.midiTune.keyboard=a;if(g.metaText&&g.metaText.tempo){var j=g.metaText.tempo.bpm||80;var h=g.metaText.tempo.duration[0]||0.25;this.midiTune.tempo=this.oneMinute/(j*h*this.wholeNote)}this.staffcount=1;for(this.staff=0;this.staff<this.staffcount;this.staff++){this.voicecount=1;for(this.voice=0;this.voice<this.voicecount;this.voice++){this.startTrack();for(this.line=0;!this.endTrack&&this.line<this.abctune.lines.length;this.line++){if(this.getStaff()){this.pos=0;if(!this.capo){this.capo=this.restart=this.getMark()}this.next=null;this.staffcount=this.getLine().staffs.length;this.voicecount=this.getStaff().voices.length;this.setKeySignature(this.getStaff().key);while(!this.endTrack&&this.pos<this.getVoice().length){var e=this.getElem();switch(e.el_type){case"note":if(this.skipping){break}if(this.getStaff().clef.type!=="accordionTab"){this.writeNote(e)}else{this.selectButtons(e)}break;case"key":if(this.skipping){break}this.setKeySignature(e);break;case"bar":if(!this.handleBar(e)){return null}break;case"meter":case"clef":break;default:}if(this.next){this.line=this.next.line;this.staff=this.next.staff;this.voice=this.next.voice;this.pos=this.next.pos;this.next=null}else{this.pos++}}}}}}if(this.lookingForCoda){this.addWarning('Simbolo não encontrado: "Coda"!')}this.parsedElements.forEach(function(l,m){if(l.end.pitches.length+l.end.abcelems.length){c.midiTune.playlist.push({item:l.end,time:m,start:false})}if(l.start.pitches.length+l.start.abcelems.length+l.start.buttons.length>0){var k={item:null,time:m,start:true};if(l.start.barNumber){this.lastBar=null;if(l.start.barNumber>d){d=this.lastBar=l.start.barNumber;c.midiTune.measures[d]=c.midiTune.playlist.length}k.barNumber=l.start.barNumber}delete l.start.barNumber;c.handleButtons(l.start.pitches,l.start.buttons);delete l.start.buttons;k.item=l.start;c.midiTune.playlist.push(k)}});g.midi=this.midiTune;return this.midiTune};ABCXJS.midi.Parse.prototype.handleButtons=function(g,e){var d,j,c,h;var a=this;e.forEach(function(o){if(!o.button.button){return}if(o.button.closing){d=ABCXJS.parse.clone(o.button.button.closeNote)}else{d=ABCXJS.parse.clone(o.button.button.openNote)}if(d.isBass){if(d.isChord){c=d.key.toUpperCase()}else{c=d.key}}else{if(a.transposeTab){switch(a.transposeTab){case 8:d.octave--;break;case -8:d.octave++;break;default:this.addWarning("Possível transpor a tablatura uma oitava acima ou abaixo +/-8. Ignorando transpose.")}}j=12+12*d.octave+ABCXJS.parse.key2number[d.key]}var p=false,m=false;for(var l=0;l<g.length;l++){if(d.isBass&&g[l].midipitch.clef==="bass"){h=g[l].midipitch.midipitch%12;p=true;if(h===ABCXJS.parse.key2number[c]&&!g[l].button){g[l].button=o.button;o.button=null;return}}else{if(!d.isBass&&g[l].midipitch.clef!=="bass"){m=true;if(g[l].midipitch.midipitch===j){g[l].button=o.button;o.button=null;return}}}}if(this.lastBar&&((d.isBass&&p)||(!d.isBass&&m))){var k=o.button.button;a.addWarning("Compasso "+this.lastBar+": Botao "+k.tabButton+" ("+k.closeNote.key+"/"+k.openNote.key+") não corresponde a nenhuma nota em execução.")}})};ABCXJS.midi.Parse.prototype.writeNote=function(g){if(g.startTriplet){this.multiplier=(g.startTriplet.num===2)?3/2:(g.startTriplet.num-1)/g.startTriplet.num}var a=this.checkMinNote(g.duration*this.wholeNote*this.multiplier);if(g.pitches){var j;for(var c=0;c<g.pitches.length;c++){var d=g.pitches[c];var h=d.pitch;if(d.accidental){this.baraccidentals[h]=this.getAccOffset(d.accidental)}j=60+12*this.extractOctave(h)+this.scale[this.extractNote(h)];if(this.baraccidentals[h]!==undefined){j+=this.baraccidentals[h]}else{j+=this.accidentals[this.extractNote(h)]}if(d.tie){this.handleTie(g,d,j,a)}else{if(this.startTieInterval[j]&&this.startTieInterval[j][0]){this.addWarning("Linha "+(g.line+1)+": Nota sendo ignorada porque já está contida na ligadura!");this.addStart(this.timecount,null,g,null);this.addEnd(this.timecount+a,null,g)}else{var e={channel:this.channel,midipitch:j,mididuration:a};this.addStart(this.timecount,e,g,null);this.addEnd(this.timecount+a,e,g)}}}}else{this.addStart(this.timecount,null,g,null);this.addEnd(this.timecount+a,null,g)}this.setTimeCount(a);if(g.endTriplet){this.multiplier=1}};ABCXJS.midi.Parse.prototype.handleTie=function(g,d,k,a){if(d.tie&&d.tie.id_end){var h=this.startTieInterval[k];if(d.tie.id_start){this.addStart(this.timecount,null,g,null);h.otrElems.push(g)}else{this.addStart(this.timecount,null,g,null);this.addEnd(this.timecount+a,null,g);if(!h){this.addWarning("Verifique as ligaduras: possivel ligacao de notas com alturas diferentes");return}for(var c=0;c<h.otrElems.length;c++){this.addEnd(this.timecount+a,null,h.otrElems[c])}var j=this.timecount-h.startTime+a;h.midipitch.mididuration=j;this.addEnd(this.timecount+a,h.midipitch,h.elem);this.startTieInterval[k]=null}}else{if(d.tie&&d.tie.id_start){var e={channel:this.channel,midipitch:k,mididuration:a};this.addStart(this.timecount,e,g,null);this.startTieInterval[k]={elem:g,startTime:this.timecount,midipitch:e,otrElems:[]}}}};ABCXJS.midi.Parse.prototype.clearTies=function(){var a=this;a.startTieInterval.forEach(function(d,c){if(!d){return}a.addEnd(a.timecount,d.midipitch,d.elem);a.startTieInterval[c]=null})};ABCXJS.midi.Parse.prototype.setTimeCount=function(a){this.timecount+=a;if(this.timecount%1>0.9999){this.timecount=Math.round(this.timecount)}};ABCXJS.midi.Parse.prototype.checkMinNote=function(a){if(a<0.99){a=1;if(!this.alertedMin){this.addWarning("Nota(s) com duração menor que o mínimo suportado: 1/"+this.wholeNote+".");this.alertedMin=true}}return a};ABCXJS.midi.Parse.prototype.selectButtons=function(g){if(g.startTriplet){this.multiplier=(g.startTriplet.num===2)?3/2:(g.startTriplet.num-1)/g.startTriplet.num}var a=g.duration*this.wholeNote*this.multiplier;if(g.pitches){var d;var e=0;for(var c=0;c<g.pitches.length;c++){var h=false;if(g.pitches[c].bass){e++}if(g.pitches[c].type==="rest"){continue}if(g.pitches[c].bass){if(g.pitches[c].c==="scripts.rarrow"){d=this.lastTabElem[c];g.pitches[c].lastButton=(d?d.tabButton:"x");h=true}else{d=this.getBassButton(g.bellows,g.pitches[c].c);this.lastTabElem[c]=d}}else{if(g.pitches[c].c==="scripts.rarrow"){d=this.lastTabElem[10+c-e];g.pitches[c].lastButton=(d?d.tabButton:"x");h=true}else{d=this.getButton(g.pitches[c].c);this.lastTabElem[10+c-e]=d}}if(!h){this.addStart(this.timecount,null,null,{button:d,closing:(g.bellows==="+"),duration:g.duration})}}}this.addStart(this.timecount,null,g,null);this.addEnd(this.timecount+a,null,g);this.setTimeCount(a);if(g.endTriplet){this.multiplier=1}};ABCXJS.midi.Parse.prototype.handleBar=function(e){this.countBar++;if(this.countBar>10000){this.addWarning("Impossível gerar o MIDI para esta partitura após 10.000 ciclos.");return false}this.maxPass=e.repeat;if(e.barNumber){this.addBarNumber=e.barNumber
}this.baraccidentals=[];if(this.lookingForCoda){if(!e.jumpInfo||e.jumpInfo.type!=="coda"){return true}else{this.codaPoint=this.getMark();this.lookingForCoda=false;this.skipping=false}}var d=this.setPass();if(e.type==="bar_left_repeat"){this.restart=this.getMark()}if(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat"){if(d<this.maxPass){delete this.currEnding;this.clearTies();this.next=this.restart;return true}else{if(e.type==="bar_dbl_repeat"){this.restart=this.getMark()}}}if(e.endEnding){delete this.currEnding}if(e.startEnding){var c=e.startEnding.split("-");this.currEnding={};this.currEnding.min=parseInt(c[0]);this.currEnding.max=c.length>1?parseInt(c[1]):this.currEnding.min;this.currEnding.measuresInEnding=[];this.maxPass=Math.max(this.currEnding.max,2);if(this.currEnding.min>1){delete this.currEnding}}if(this.currEnding){this.currEnding.measuresInEnding.push(this.getMark())}this.skipping=(this.currEnding&&(d<this.currEnding.min||d>this.currEnding.max))||false;if(e.jumpPoint){switch(e.jumpPoint.type){case"coda":this.codaPoint=this.getMark();break;case"segno":this.segnoPoint=this.getMark();break;case"fine":if(this.fineFlagged){this.endTrack=true;return true}break}}if(e.jumpInfo){switch(e.jumpInfo.type){case"dacapo":if(!this.daCapoFlagged){this.next=this.capo;this.daCapoFlagged=true;this.resetPass()}break;case"dasegno":if(this.segnoPoint){if(!this.daSegnoFlagged){this.next=this.segnoPoint;this.daSegnoFlagged=true;this.resetPass()}}else{this.addWarning("Ignorando Da segno!")}break;case"dcalfine":if(!this.daCapoFlagged){this.next=this.capo;this.daCapoFlagged=true;this.fineFlagged=true;this.resetPass()}break;case"dsalfine":if(this.segnoPoint){if(!this.daSegnoFlagged){this.next=this.segnoPoint;this.fineFlagged=true;this.daSegnoFlagged=true;this.resetPass()}}else{this.addWarning("Ignorando Da segno al fine!")}break;case"dacoda":if(this.codaPoint){if(d>=this.maxPass||this.daCodaFlagged){this.next=this.codaPoint;this.daCodaFlagged=false;this.resetPass()}}else{if(this.daCodaFlagged){this.lookingForCoda=true;this.skipping=true}}break;case"dsalcoda":if(this.segnoPoint){if(!this.daSegnoFlagged){this.next=this.segnoPoint;this.daSegnoFlagged=true;this.daCodaFlagged=true;this.resetPass()}}else{this.addWarning('Ignorando "D.S. al coda"!')}break;case"dcalcoda":if(!this.daCapoFlagged){this.next=this.capo;this.daCapoFlagged=true;this.daCodaFlagged=true;this.resetPass()}break}}return true};ABCXJS.midi.Parse.prototype.getParsedElement=function(a){if(!this.parsedElements[a]){this.parsedElements[a]={start:{pitches:[],abcelems:[],buttons:[],barNumber:null},end:{pitches:[],abcelems:[]}}}return this.parsedElements[a]};ABCXJS.midi.Parse.prototype.addStart=function(h,g,e,d){var c=(h%1);h-=c;var a=this.getParsedElement(h);if(e){a.start.abcelems.push({abcelem:e,channel:this.channel,delay:c});if(this.addBarNumber&&((this.addBarNumber===1&&this.addingBarNumbers<0)||this.addingBarNumbers===((this.staff+1)*10+this.voice))){a.start.barNumber=this.addBarNumber;this.addingBarNumbers=((this.staff+1)*10+this.voice);delete this.addBarNumber}}if(g){g.clef=this.getStaff().clef.type;a.start.pitches.push({midipitch:g,delay:c})}if(d){a.start.buttons.push({button:d,abcelem:e,delay:c})}};ABCXJS.midi.Parse.prototype.addEnd=function(g,e,d){var c=(g%1);g-=c;var a=this.getParsedElement(g);if(d){a.end.abcelems.push({abcelem:d,delay:c})}if(e){a.end.pitches.push({midipitch:e,delay:c})}};ABCXJS.midi.Parse.prototype.getMark=function(){return{line:this.line,staff:this.staff,voice:this.voice,pos:this.pos}};ABCXJS.midi.Parse.prototype.getMarkString=function(a){a=a||this;return"line"+a.line+"staff"+a.staff+"voice"+a.voice+"pos"+a.pos};ABCXJS.midi.Parse.prototype.getMarkValue=function(a){a=a||this;return(a.line+1)*1000000+a.staff*10000+a.voice*100+a.pos};ABCXJS.midi.Parse.prototype.setPass=function(c){var a=this.getMarkValue(c);if(this.pass[a]){this.pass[a]=this.pass[a]+1}else{this.pass[a]=1}return this.pass[a]};ABCXJS.midi.Parse.prototype.resetPass=function(){this.pass=[];var a=this;if(this.currEnding){this.currEnding.measuresInEnding.forEach(function(d,c){a.setPass(d)})}};ABCXJS.midi.Parse.prototype.hasTablature=function(){return this.abctune.hasTablature};ABCXJS.midi.Parse.prototype.getLine=function(){return this.abctune.lines[this.line]};ABCXJS.midi.Parse.prototype.getStaff=function(){var a=this.getLine();if(!a.staffs){return undefined}return a.staffs[this.staff]};ABCXJS.midi.Parse.prototype.getVoice=function(){return this.getStaff().voices[this.voice]};ABCXJS.midi.Parse.prototype.getElem=function(){return this.getVoice()[this.pos]};ABCXJS.midi.Parse.prototype.startTrack=function(){this.channel++;this.timecount=0;this.playlistpos=0;this.maxPass=2;this.countBar=0;this.next=null;this.pass=[];this.endTrack=false;delete this.codaFlagged;delete this.fineFlagged;delete this.daSegnoFlagged;delete this.daCapoFlagged;delete this.capo;delete this.daCodaFlagged;delete this.lookingForCoda;delete this.segnoPoint;delete this.codaPoint};ABCXJS.midi.Parse.prototype.getAccOffset=function(c){var a=0;switch(c){case"accidentals.dblsharp":case"dblsharp":a=2;break;case"accidentals.sharp":case"sharp":a=1;break;case"accidentals.nat":case"nat":case"natural":a=0;break;case"accidentals.flat":case"flat":a=-1;break;case"accidentals.dblflat":case"dblflat":a=-2;break}return a};ABCXJS.midi.Parse.prototype.setKeySignature=function(a){this.accidentals=[0,0,0,0,0,0,0];if(this.abctune.formatting.bagpipes){a.accidentals=[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}if(!a.accidentals){return}window.ABCXJS.parse.each(a.accidentals,function(g){var h=(g.acc==="sharp")?1:(g.acc==="natural")?0:-1;var e=g.note.toLowerCase();var c=this.extractNote(e.charCodeAt(0)-"c".charCodeAt(0));this.accidentals[c]+=h},this)};ABCXJS.midi.Parse.prototype.extractNote=function(a){a=a%7;return(a<0)?a+7:a};ABCXJS.midi.Parse.prototype.extractOctave=function(a){return Math.floor(a/7)};ABCXJS.midi.Parse.prototype.setSelection=function(g){if(!g.bellows){return}for(var d=0;d<g.pitches.length;d++){var c=g.pitches[d];if(c.type==="rest"){continue}var a;var e=c.c==="scripts.rarrow"?c.lastButton:c.c;if(c.bass&&c.c!=="scripts.rarrow"){a=this.getBassButton(g.bellows,e)}else{a=this.getButton(e)}if(a){if(g.bellows==="-"){a.setOpen()}else{a.setClose()}}}};ABCXJS.midi.Parse.prototype.getBassButton=function(d,a){if(a==="x"||!this.midiTune.keyboard){return null}var h=this.midiTune.keyboard;var k=h.parseNote(a.replace("m",":m"),true);for(var c=h.keyMap.length;c>h.keyMap.length-2;c--){for(var e=0;e<h.keyMap[c-1].length;e++){var g=h.keyMap[c-1][e];if(d==="+"){if(g.closeNote.key===k.key&&k.isMinor===g.closeNote.isMinor){return g}}else{if(g.openNote.key===k.key&&k.isMinor===g.openNote.isMinor){return g}}}}return null};ABCXJS.midi.Parse.prototype.getButton=function(a){if(a==="x"||!this.midiTune.keyboard){return null}var d=this.midiTune.keyboard;var e=parseInt(isNaN(a.substr(0,2))||a.length===1?1:2);var c=a.substr(0,e)-1;var g=a.length-e;if(d.keyMap[g][c]){return d.keyMap[g][c]}return null
};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.midi){window.ABCXJS.midi={}}ABCXJS.midi.Player=function(a){this.reset(a);this.playableClefs="TB";this.ticksPerInterval=1;this.callbackOnStart=null;this.callbackOnEnd=null;this.callbackOnPlay=null;this.callbackOnScroll=null;this.callbackOnChangeBar=null};ABCXJS.midi.Player.prototype.setPlayableClefs=function(a){this.playableClefs=a};ABCXJS.midi.Player.prototype.playClef=function(a){return this.playableClefs.indexOf(a.toUpperCase())>=0};ABCXJS.midi.Player.prototype.reset=function(a){a=a||{};this.i=0;this.tempo=250;this.playing=false;this.playlist=[];this.playInterval=null;this.currentAndamento=1;this.onError=null;this.warnings=[];this.printer={};this.currentTime=0;this.currentMeasure=1;this.currAbsElem=null};ABCXJS.midi.Player.prototype.addWarning=function(a){this.warnings.push(a)};ABCXJS.midi.Player.prototype.getWarnings=function(){return this.warnings.length>0?this.warnings:null};ABCXJS.midi.Player.prototype.defineCallbackOnStart=function(a){this.callbackOnStart=a};ABCXJS.midi.Player.prototype.defineCallbackOnEnd=function(a){this.callbackOnEnd=a};ABCXJS.midi.Player.prototype.defineCallbackOnPlay=function(a){this.callbackOnPlay=a};ABCXJS.midi.Player.prototype.defineCallbackOnScroll=function(a){this.callbackOnScroll=a};ABCXJS.midi.Player.prototype.defineCallbackOnChangeBar=function(a){this.callbackOnChangeBar=a};ABCXJS.midi.Player.prototype.setAndamento=function(c){var a=this;if(c<10){c=10}if(c>200){c=200}if(this.playing){this.newAndamento=c/100}else{try{a.currentAndamento=c/100;a.currentTime=a.playlist[a.i].time*(1/a.currentAndamento)}catch(d){}}};ABCXJS.midi.Player.prototype.stopPlay=function(){this.i=0;this.currentTime=0;this.pausePlay();if(this.callbackOnEnd){this.callbackOnEnd(this)}return this.getWarnings()};ABCXJS.midi.Player.prototype.pausePlay=function(a){if(!(false||a)){MIDI.stopAllNotes()}window.clearInterval(this.playInterval);this.playing=false};ABCXJS.midi.Player.prototype.doResume=function(a){MIDI.stopAllNotes();MIDI.resume();MIDI.noteOn(0,40,1,0);MIDI.noteOff(0,40,0.01);MIDI.noteOn(1,40,1,0);MIDI.noteOff(1,40,0.01);MIDI.noteOn(2,40,1,0);MIDI.noteOff(2,40,0.01)};ABCXJS.midi.Player.prototype.startPlay=function(c){if(this.playing||!c){return false}if(this.currentTime===0){this.doResume()}this.playlist=c.playlist;this.tempo=c.tempo;this.printer=c.printer;this.type=null;this.playing=true;this.onError=null;var a=this;this.playInterval=window.setInterval(function(){a.doPlay()},this.tempo);return true};ABCXJS.midi.Player.prototype.clearDidacticPlay=function(){this.i=0;this.currentTime=0;this.currentMeasure=1;this.pausePlay(true)};ABCXJS.midi.Player.prototype.startDidacticPlay=function(g,c,e,a){if(this.playing){return false}if(this.currentTime===0){this.doResume()}this.playlist=g.playlist;this.tempo=g.tempo;this.printer=g.printer;this.measures=g.measures;this.type=c;this.playing=true;this.onError=null;var h=null;var d=this;switch(c){case"note":g.printer.clearSelection();g.keyboard.clear(true);if(!d.playlist[d.i]){return false}d.initTime=d.playlist[d.i].time;h=function(){return d.initTime===d.playlist[d.i].time};break;case"goto":case"repeat":d.currentMeasure=parseInt(e)?parseInt(e):d.currentMeasure;d.endMeasure=parseInt(a)?parseInt(a):d.currentMeasure;d.initMeasure=d.currentMeasure;if(d.measures[d.currentMeasure]!==undefined){d.i=d.measures[d.currentMeasure];d.currentTime=d.playlist[d.i].time*(1/d.currentAndamento);h=function(){return(d.initMeasure<=d.currentMeasure)&&(d.currentMeasure<=d.endMeasure)}}else{waterbug.log("goto-measure or repeat-measure:  measure '"+e+"' not found!");this.pausePlay(true);return}break;case"measure":d.currentMeasure=parseInt(e)?parseInt(e):d.currentMeasure;d.initMeasure=d.currentMeasure;if(d.measures[d.currentMeasure]!==undefined){d.i=d.measures[d.currentMeasure];d.currentTime=d.playlist[d.i].time*(1/d.currentAndamento);h=function(){return d.initMeasure===d.currentMeasure}}else{waterbug.log("play-measure: measure '"+e+"' not found!");this.pausePlay(true);return false}break}this.playInterval=window.setInterval(function(){d.doDidacticPlay(h)},this.tempo);return true};ABCXJS.midi.Player.prototype.handleBar=function(){if(this.playlist[this.i]&&this.playlist[this.i].barNumber){this.currentMeasure=this.playlist[this.i].barNumber;if(this.callbackOnChangeBar){this.callbackOnChangeBar(this)}}};ABCXJS.midi.Player.prototype.doPlay=function(){if(this.callbackOnPlay){this.callbackOnPlay(this)}while(!this.onError&&this.playlist[this.i]&&(this.playlist[this.i].time*(1/this.currentAndamento))<=this.currentTime){this.executa(this.playlist[this.i]);this.i++;this.handleBar()}if(!this.onError&&this.playlist[this.i]){this.currentTime+=this.ticksPerInterval}else{this.stopPlay()}};ABCXJS.midi.Player.prototype.doDidacticPlay=function(c){var a=this;if(this.callbackOnPlay){this.callbackOnPlay(this)}while(!this.onError&&this.playlist[this.i]&&c()&&(this.playlist[this.i].time*(1/this.currentAndamento))<this.currentTime){this.executa(this.playlist[this.i]);this.i++;this.handleBar();if(this.type=="repeat"){if(!this.onError&&!(this.playlist[this.i]&&c())){this.currentMeasure=this.initMeasure;this.i=this.measures[this.currentMeasure];this.currentTime=this.playlist[this.i].time*(1/this.currentAndamento);this.currentTime+=this.ticksPerInterval}}}if(this.onError){this.stopPlay()}else{if(this.playlist[this.i]&&c()){this.currentTime+=this.ticksPerInterval}else{this.pausePlay(true)}}};ABCXJS.midi.Player.prototype.executa=function(h){var c=this;var k=128;var d=0;var a;try{if(this.newAndamento){try{this.currentAndamento=this.newAndamento;this.currentTime=this.playlist[this.i].time*(1/this.currentAndamento);delete this.newAndamento}catch(l){}}if(h.start){h.item.pitches.forEach(function(p){d=c.calcTempo(p.delay);if(c.playClef(p.midipitch.clef.charAt(0))){MIDI.noteOn(p.midipitch.channel,p.midipitch.midipitch,k,d);var m=2.38,o=m,q=c.calcTempo(p.midipitch.mididuration)-m;while(q>0){MIDI.noteOff(p.midipitch.channel,p.midipitch.midipitch,o+d);MIDI.noteOn(p.midipitch.channel,p.midipitch.midipitch,k,o+d);o+=m;q-=m}}if(!debug&&p.button&&p.button.button&&p.button.button.SVG&&p.button.button.SVG.button!==null){a=1;if(p.button.closing){p.button.button.setClose(d)}else{p.button.button.setOpen(d)}a=2;if(c.type!=="note"){var e=(1/c.currentAndamento);var r=Math.max(p.midipitch.mididuration*0.1,0.5);p.button.button.clear(c.calcTempo((p.midipitch.mididuration-r)*e)+d)}a=3}});var g=".";h.item.abcelems.forEach(function(e){d=c.calcTempo(e.delay);a=4;c.currAbsElem=e.abcelem.parent;if(c.callbackOnScroll){c.callbackOnScroll(c)}a=5;if(g.indexOf("."+c.currAbsElem.gid+".")<0){g+=c.currAbsElem.gid+".";c.highlight(c.currAbsElem,true,d)}})}else{h.item.pitches.forEach(function(e){d=c.calcTempo(e.delay);MIDI.noteOff(e.midipitch.channel,e.midipitch.midipitch,d)});var g=".";h.item.abcelems.forEach(function(e){d=c.calcTempo(e.delay);if(g.indexOf("."+e.abcelem.parent+".")<0){g+=e.abcelem.parent.gid+".";c.highlight(e.abcelem.parent,false,d)}})}}catch(j){this.onError={erro:j.message,idx:this.i,item:h};
this.addWarning("PlayList["+this.onError.idx+"] - Erro: "+this.onError.erro+". DebugPoint: "+a)}};ABCXJS.midi.Player.prototype.calcTempo=function(a){return a*this.tempo/1000};ABCXJS.midi.Player.prototype.highlight=function(d,a,c){if(debug||!this.printer){return}var e=this;if(c){window.setTimeout(function(){e.highlight(d,a)},c*1000);return}if(a){e.printer.notifySelect(d)}else{e.printer.notifyClear(d)}};ABCXJS.midi.Player.prototype.getTime=function(){var j=function(m,k,l){l=l||"0";m=m+"";return m.length>=k?m:new Array(k-m.length+1).join(l)+m};var h=0;if(this.playlist&&this.playlist[this.i]){h=this.playlist[this.i].time*this.tempo*(1/this.currentAndamento)}else{this.addWarning("PlayList["+this.i+"] não existe. DebugPoint: midi.Player.getTime")}var d=Math.floor(h/1000);var e=Math.floor((h-d*1000)/10);var g=Math.floor(d/60);var d=d-g*60;var c=j(g,2)+":"+j(d,2);var a=j(g,2)+":"+j(d,2)+"."+j(e,2);return{cTime:c,cTimeMiScs:a,time:h}};
/*!
 * perfect-scrollbar v1.3.0
 * (c) 2017 Hyunje Jun
 * @license MIT
 */
(function(c,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(c.PerfectScrollbar=a())}(this,(function(){function P(U){return getComputedStyle(U)}function F(V,W){for(var U in W){var X=W[U];if(typeof X==="number"){X=X+"px"}V.style[U]=X}return V}function Q(U){var V=document.createElement("div");V.className=U;return V}var z=typeof Element!=="undefined"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector);function a(U,V){if(!z){throw new Error("No element matching method supported")}return z.call(U,V)}function G(U){if(U.remove){U.remove()}else{if(U.parentNode){U.parentNode.removeChild(U)}}}function B(V,U){return Array.prototype.filter.call(V.children,function(W){return a(W,U)})}var h={main:"ps",element:{thumb:function(U){return("ps__thumb-"+U)},rail:function(U){return("ps__rail-"+U)},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(U){return("ps--active-"+U)},scrolling:function(U){return("ps--scrolling-"+U)}}};var A={x:null,y:null};function I(V,U){var X=V.element.classList;var W=h.state.scrolling(U);if(X.contains(W)){clearTimeout(A[U])}else{X.add(W)}}function S(V,U){A[U]=setTimeout(function(){return V.isAlive&&V.element.classList.remove(h.state.scrolling(U))},V.settings.scrollingThreshold)}function u(V,U){I(V,U);S(V,U)}var M=function M(U){this.element=U;this.handlers={}};var o={isEmpty:{configurable:true}};M.prototype.bind=function k(U,V){if(typeof this.handlers[U]==="undefined"){this.handlers[U]=[]}this.handlers[U].push(V);this.element.addEventListener(U,V,{passive:true})};M.prototype.unbind=function y(U,V){var W=this;this.handlers[U]=this.handlers[U].filter(function(X){if(V&&X!==V){return true}W.element.removeEventListener(U,X,false);return false})};M.prototype.unbindAll=function R(){var V=this;for(var U in V.handlers){V.unbind(U)}};o.isEmpty.get=function(){var U=this;return Object.keys(this.handlers).every(function(V){return U.handlers[V].length===0})};Object.defineProperties(M.prototype,o);var E=function E(){this.eventElements=[]};E.prototype.eventElement=function e(V){var U=this.eventElements.filter(function(W){return W.element===V})[0];if(!U){U=new M(V);this.eventElements.push(U)}return U};E.prototype.bind=function k(V,U,W){this.eventElement(V).bind(U,W)};E.prototype.unbind=function y(W,V,X){var U=this.eventElement(W);U.unbind(V,X);if(U.isEmpty){this.eventElements.splice(this.eventElements.indexOf(U),1)}};E.prototype.unbindAll=function R(){this.eventElements.forEach(function(U){return U.unbindAll()});this.eventElements=[]};E.prototype.once=function C(X,V,Y){var U=this.eventElement(X);var W=function(Z){U.unbind(V,W);Y(Z)};U.bind(V,W)};function J(V){if(typeof window.CustomEvent==="function"){return new CustomEvent(V)}else{var U=document.createEvent("CustomEvent");U.initCustomEvent(V,false,false,undefined);return U}}var j=function(W,X,Z,V,Y){if(V===void 0){V=true}if(Y===void 0){Y=false}var U;if(X==="top"){U=["contentHeight","containerHeight","scrollTop","y","up","down"]}else{if(X==="left"){U=["contentWidth","containerWidth","scrollLeft","x","left","right"]}else{throw new Error("A proper axis should be provided")}}r(W,Z,U,V,Y)};function r(aa,ac,W,X,U){var ad=W[0];var af=W[1];var V=W[2];var ab=W[3];var Z=W[4];var ae=W[5];if(X===void 0){X=true}if(U===void 0){U=false}var Y=aa.element;aa.reach[ab]=null;if(Y[V]<1){aa.reach[ab]="start"}if(Y[V]>aa[ad]-aa[af]-1){aa.reach[ab]="end"}if(ac){Y.dispatchEvent(J(("ps-scroll-"+ab)));if(ac<0){Y.dispatchEvent(J(("ps-scroll-"+Z)))}else{if(ac>0){Y.dispatchEvent(J(("ps-scroll-"+ae)))}}if(X){u(aa,ab)}}if(aa.reach[ab]&&(ac||U)){Y.dispatchEvent(J(("ps-"+ab+"-reach-"+(aa.reach[ab]))))}}function p(U){return parseInt(U,10)||0}function g(U){return(a(U,"input,[contenteditable]")||a(U,"select,[contenteditable]")||a(U,"textarea,[contenteditable]")||a(U,"button,[contenteditable]"))}function N(U){var V=P(U);return(p(V.width)+p(V.paddingLeft)+p(V.paddingRight)+p(V.borderLeftWidth)+p(V.borderRightWidth))}var m={isWebKit:typeof document!=="undefined"&&"WebkitAppearance" in document.documentElement.style,supportsTouch:typeof window!=="undefined"&&("ontouchstart" in window||(window.DocumentTouch&&document instanceof window.DocumentTouch)),supportsIePointer:typeof navigator!=="undefined"&&navigator.msMaxTouchPoints,isChrome:typeof navigator!=="undefined"&&/Chrome/i.test(navigator&&navigator.userAgent)};var d=function(V){var U=V.element;V.containerWidth=U.clientWidth;V.containerHeight=U.clientHeight;V.contentWidth=U.scrollWidth;V.contentHeight=U.scrollHeight;if(!U.contains(V.scrollbarXRail)){B(U,h.element.rail("x")).forEach(function(W){return G(W)});U.appendChild(V.scrollbarXRail)}if(!U.contains(V.scrollbarYRail)){B(U,h.element.rail("y")).forEach(function(W){return G(W)});U.appendChild(V.scrollbarYRail)}if(!V.settings.suppressScrollX&&V.containerWidth+V.settings.scrollXMarginOffset<V.contentWidth){V.scrollbarXActive=true;V.railXWidth=V.containerWidth-V.railXMarginWidth;V.railXRatio=V.containerWidth/V.railXWidth;V.scrollbarXWidth=x(V,p(V.railXWidth*V.containerWidth/V.contentWidth));V.scrollbarXLeft=p((V.negativeScrollAdjustment+U.scrollLeft)*(V.railXWidth-V.scrollbarXWidth)/(V.contentWidth-V.containerWidth))}else{V.scrollbarXActive=false}if(!V.settings.suppressScrollY&&V.containerHeight+V.settings.scrollYMarginOffset<V.contentHeight){V.scrollbarYActive=true;V.railYHeight=V.containerHeight-V.railYMarginHeight;V.railYRatio=V.containerHeight/V.railYHeight;V.scrollbarYHeight=x(V,p(V.railYHeight*V.containerHeight/V.contentHeight));V.scrollbarYTop=p(U.scrollTop*(V.railYHeight-V.scrollbarYHeight)/(V.contentHeight-V.containerHeight))}else{V.scrollbarYActive=false}if(V.scrollbarXLeft>=V.railXWidth-V.scrollbarXWidth){V.scrollbarXLeft=V.railXWidth-V.scrollbarXWidth}if(V.scrollbarYTop>=V.railYHeight-V.scrollbarYHeight){V.scrollbarYTop=V.railYHeight-V.scrollbarYHeight}l(U,V);if(V.scrollbarXActive){U.classList.add(h.state.active("x"))
}else{U.classList.remove(h.state.active("x"));V.scrollbarXWidth=0;V.scrollbarXLeft=0;U.scrollLeft=0}if(V.scrollbarYActive){U.classList.add(h.state.active("y"))}else{U.classList.remove(h.state.active("y"));V.scrollbarYHeight=0;V.scrollbarYTop=0;U.scrollTop=0}};function x(V,U){if(V.settings.minScrollbarLength){U=Math.max(U,V.settings.minScrollbarLength)}if(V.settings.maxScrollbarLength){U=Math.min(U,V.settings.maxScrollbarLength)}return U}function l(W,V){var U={width:V.railXWidth};if(V.isRtl){U.left=V.negativeScrollAdjustment+W.scrollLeft+V.containerWidth-V.contentWidth}else{U.left=W.scrollLeft}if(V.isScrollbarXUsingBottom){U.bottom=V.scrollbarXBottom-W.scrollTop}else{U.top=V.scrollbarXTop+W.scrollTop}F(V.scrollbarXRail,U);var X={top:W.scrollTop,height:V.railYHeight};if(V.isScrollbarYUsingRight){if(V.isRtl){X.right=V.contentWidth-(V.negativeScrollAdjustment+W.scrollLeft)-V.scrollbarYRight-V.scrollbarYOuterWidth}else{X.right=V.scrollbarYRight-W.scrollLeft}}else{if(V.isRtl){X.left=V.negativeScrollAdjustment+W.scrollLeft+V.containerWidth*2-V.contentWidth-V.scrollbarYLeft-V.scrollbarYOuterWidth}else{X.left=V.scrollbarYLeft+W.scrollLeft}}F(V.scrollbarYRail,X);F(V.scrollbarX,{left:V.scrollbarXLeft,width:V.scrollbarXWidth-V.railBorderXWidth});F(V.scrollbarY,{top:V.scrollbarYTop,height:V.scrollbarYHeight-V.railBorderYWidth})}var K=function(U){U.event.bind(U.scrollbarY,"click",function(V){V.preventDefault();return V.stopPropagation()});U.event.bind(U.scrollbarYRail,"click",function(V){V.preventDefault();return V.stopPropagation()});U.event.bind(U.scrollbarY,"mousedown",function(V){V.preventDefault();return V.stopPropagation()});U.event.bind(U.scrollbarYRail,"mousedown",function(X){var V=X.pageY-window.pageYOffset-U.scrollbarYRail.getBoundingClientRect().top;var W=V>U.scrollbarYTop?1:-1;U.element.scrollTop+=W*U.containerHeight;d(U);X.preventDefault();X.stopPropagation()});U.event.bind(U.scrollbarX,"mousedown",function(V){V.preventDefault();return V.stopPropagation()});U.event.bind(U.scrollbarXRail,"mousedown",function(X){var V=X.pageX-window.pageXOffset-U.scrollbarXRail.getBoundingClientRect().left;var W=V>U.scrollbarXLeft?1:-1;U.element.scrollLeft+=W*U.containerWidth;d(U);X.preventDefault();X.stopPropagation()})};var D=function(U){H(U,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x"]);H(U,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y"])};function H(ab,W){var aj=W[0];var ag=W[1];var Y=W[2];var X=W[3];var ad=W[4];var ah=W[5];var V=W[6];var ae=W[7];var aa=ab.element;var af=null;var U=null;var Z=null;function ac(ak){aa[V]=af+Z*(ak[Y]-U);I(ab,ae);d(ab);ak.stopPropagation();ak.preventDefault()}function ai(ak){S(ab,ae);ak.stopPropagation();ak.preventDefault();ab.event.unbind(ab.ownerDocument,"mousemove",ac)}ab.event.bind(ab[ad],"mousedown",function(ak){af=aa[V];U=ak[Y];Z=(ab[ag]-ab[aj])/(ab[X]-ab[ah]);ab.event.bind(ab.ownerDocument,"mousemove",ac);ab.event.once(ab.ownerDocument,"mouseup",ai);ak.stopPropagation();ak.preventDefault()})}var w=function(X){var W=X.element;var V=function(){return a(W,":hover")};var U=function(){return a(X.scrollbarX,":focus")||a(X.scrollbarY,":focus")};function Y(aa,Z){var ab=W.scrollTop;if(aa===0){if(!X.scrollbarYActive){return false}if((ab===0&&Z>0)||(ab>=X.contentHeight-X.containerHeight&&Z<0)){return !X.settings.wheelPropagation}}var ac=W.scrollLeft;if(Z===0){if(!X.scrollbarXActive){return false}if((ac===0&&aa<0)||(ac>=X.contentWidth-X.containerWidth&&aa>0)){return !X.settings.wheelPropagation}}return true}X.event.bind(X.ownerDocument,"keydown",function(ac){if((ac.isDefaultPrevented&&ac.isDefaultPrevented())||ac.defaultPrevented){return}if(!V()&&!U()){return}var ab=document.activeElement?document.activeElement:X.ownerDocument.activeElement;if(ab){if(ab.tagName==="IFRAME"){ab=ab.contentDocument.activeElement}else{while(ab.shadowRoot){ab=ab.shadowRoot.activeElement}}if(g(ab)){return}}var aa=0;var Z=0;switch(ac.which){case 37:if(ac.metaKey){aa=-X.contentWidth}else{if(ac.altKey){aa=-X.containerWidth}else{aa=-30}}break;case 38:if(ac.metaKey){Z=X.contentHeight}else{if(ac.altKey){Z=X.containerHeight}else{Z=30}}break;case 39:if(ac.metaKey){aa=X.contentWidth}else{if(ac.altKey){aa=X.containerWidth}else{aa=30}}break;case 40:if(ac.metaKey){Z=-X.contentHeight}else{if(ac.altKey){Z=-X.containerHeight}else{Z=-30}}break;case 32:if(ac.shiftKey){Z=X.containerHeight}else{Z=-X.containerHeight}break;case 33:Z=X.containerHeight;break;case 34:Z=-X.containerHeight;break;case 36:Z=X.contentHeight;break;case 35:Z=-X.contentHeight;break;default:return}if(X.settings.suppressScrollX&&aa!==0){return}if(X.settings.suppressScrollY&&Z!==0){return}W.scrollTop-=Z;W.scrollLeft+=aa;d(X);if(Y(aa,Z)){ac.preventDefault()}})};var v=function(W){var V=W.element;function Z(ab,aa){var ac=V.scrollTop===0;var ag=V.scrollTop+V.offsetHeight===V.scrollHeight;var af=V.scrollLeft===0;var ae=V.scrollLeft+V.offsetWidth===V.offsetWidth;var ad;if(Math.abs(aa)>Math.abs(ab)){ad=ac||ag}else{ad=af||ae}return ad?!W.settings.wheelPropagation:true}function X(ac){var ab=ac.deltaX;var aa=-1*ac.deltaY;if(typeof ab==="undefined"||typeof aa==="undefined"){ab=-1*ac.wheelDeltaX/6;aa=ac.wheelDeltaY/6}if(ac.deltaMode&&ac.deltaMode===1){ab*=10;aa*=10}if(ab!==ab&&aa!==aa){ab=0;aa=ac.wheelDelta}if(ac.shiftKey){return[-aa,-ab]}return[ab,aa]}function Y(af,ab,aa){if(!m.isWebKit&&V.querySelector("select:focus")){return true}if(!V.contains(af)){return false}var ag=af;while(ag&&ag!==V){if(ag.classList.contains(h.element.consuming)){return true}var ac=P(ag);var ah=[ac.overflow,ac.overflowX,ac.overflowY].join("");if(ah.match(/(scroll|auto)/)){var ae=ag.scrollHeight-ag.clientHeight;if(ae>0){if(!(ag.scrollTop===0&&aa>0)&&!(ag.scrollTop===ae&&aa<0)){return true}}var ad=ag.scrollLeft-ag.clientWidth;if(ad>0){if(!(ag.scrollLeft===0&&ab<0)&&!(ag.scrollLeft===ad&&ab>0)){return true}}}ag=ag.parentNode}return false}function U(ae){var ad=X(ae);var ab=ad[0];var aa=ad[1];if(Y(ae.target,ab,aa)){return}var ac=false;if(!W.settings.useBothWheelAxes){V.scrollTop-=aa*W.settings.wheelSpeed;V.scrollLeft+=ab*W.settings.wheelSpeed}else{if(W.scrollbarYActive&&!W.scrollbarXActive){if(aa){V.scrollTop-=aa*W.settings.wheelSpeed}else{V.scrollTop+=ab*W.settings.wheelSpeed}ac=true}else{if(W.scrollbarXActive&&!W.scrollbarYActive){if(ab){V.scrollLeft+=ab*W.settings.wheelSpeed}else{V.scrollLeft-=aa*W.settings.wheelSpeed}ac=true}}}d(W);ac=ac||Z(ab,aa);if(ac&&!ae.ctrlKey){ae.stopPropagation();ae.preventDefault()}}if(typeof window.onwheel!=="undefined"){W.event.bind(V,"wheel",U)}else{if(typeof window.onmousewheel!=="undefined"){W.event.bind(V,"mousewheel",U)}}};var O=function(aa){if(!m.supportsTouch&&!m.supportsIePointer){return}var ab=aa.element;function U(aj,ai){var am=ab.scrollTop;var an=ab.scrollLeft;var al=Math.abs(aj);var ak=Math.abs(ai);if(ak>al){if((ai<0&&am===aa.contentHeight-aa.containerHeight)||(ai>0&&am===0)){return window.scrollY===0&&ai>0&&m.isChrome}}else{if(al>ak){if((aj<0&&an===aa.contentWidth-aa.containerWidth)||(aj>0&&an===0)){return true
}}}return true}function ah(aj,ai){ab.scrollTop-=ai;ab.scrollLeft-=aj;d(aa)}var ad={};var V=0;var X={};var Z=null;function ag(ai){if(ai.targetTouches){return ai.targetTouches[0]}else{return ai}}function Y(ai){if(ai.pointerType&&ai.pointerType==="pen"&&ai.buttons===0){return false}if(ai.targetTouches&&ai.targetTouches.length===1){return true}if(ai.pointerType&&ai.pointerType!=="mouse"&&ai.pointerType!==ai.MSPOINTER_TYPE_MOUSE){return true}return false}function W(ai){if(!Y(ai)){return}var aj=ag(ai);ad.pageX=aj.pageX;ad.pageY=aj.pageY;V=new Date().getTime();if(Z!==null){clearInterval(Z)}}function ac(an,aj,ai){if(!ab.contains(an)){return false}var ao=an;while(ao&&ao!==ab){if(ao.classList.contains(h.element.consuming)){return true}var ak=P(ao);var ap=[ak.overflow,ak.overflowX,ak.overflowY].join("");if(ap.match(/(scroll|auto)/)){var am=ao.scrollHeight-ao.clientHeight;if(am>0){if(!(ao.scrollTop===0&&ai>0)&&!(ao.scrollTop===am&&ai<0)){return true}}var al=ao.scrollLeft-ao.clientWidth;if(al>0){if(!(ao.scrollLeft===0&&aj<0)&&!(ao.scrollLeft===al&&aj>0)){return true}}}ao=ao.parentNode}return false}function ae(am){if(Y(am)){var ao=ag(am);var al={pageX:ao.pageX,pageY:ao.pageY};var aj=al.pageX-ad.pageX;var ai=al.pageY-ad.pageY;if(ac(am.target,aj,ai)){return}ah(aj,ai);ad=al;var ak=new Date().getTime();var an=ak-V;if(an>0){X.x=aj/an;X.y=ai/an;V=ak}if(U(aj,ai)){am.preventDefault()}}}function af(){if(aa.settings.swipeEasing){clearInterval(Z);Z=setInterval(function(){if(aa.isInitialized){clearInterval(Z);return}if(!X.x&&!X.y){clearInterval(Z);return}if(Math.abs(X.x)<0.01&&Math.abs(X.y)<0.01){clearInterval(Z);return}ah(X.x*30,X.y*30);X.x*=0.8;X.y*=0.8},10)}}if(m.supportsTouch){aa.event.bind(ab,"touchstart",W);aa.event.bind(ab,"touchmove",ae);aa.event.bind(ab,"touchend",af)}else{if(m.supportsIePointer){if(window.PointerEvent){aa.event.bind(ab,"pointerdown",W);aa.event.bind(ab,"pointermove",ae);aa.event.bind(ab,"pointerup",af)}else{if(window.MSPointerEvent){aa.event.bind(ab,"MSPointerDown",W);aa.event.bind(ab,"MSPointerMove",ae);aa.event.bind(ab,"MSPointerUp",af)}}}}};var T=function(){return({handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1000,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:false,suppressScrollY:false,swipeEasing:true,useBothWheelAxes:false,wheelPropagation:false,wheelSpeed:1})};var c={"click-rail":K,"drag-thumb":D,keyboard:w,wheel:v,touch:O};var t=function t(W,Z){var ab=this;if(Z===void 0){Z={}}if(typeof W==="string"){W=document.querySelector(W)}if(!W||!W.nodeName){throw new Error("no element is specified to initialize PerfectScrollbar")}this.element=W;W.classList.add(h.main);this.settings=T();for(var V in Z){ab.settings[V]=Z[V]}this.containerWidth=null;this.containerHeight=null;this.contentWidth=null;this.contentHeight=null;var U=function(){return W.classList.add(h.state.focus)};var aa=function(){return W.classList.remove(h.state.focus)};this.isRtl=P(W).direction==="rtl";this.isNegativeScroll=(function(){var ad=W.scrollLeft;var ac=null;W.scrollLeft=-1;ac=W.scrollLeft<0;W.scrollLeft=ad;return ac})();this.negativeScrollAdjustment=this.isNegativeScroll?W.scrollWidth-W.clientWidth:0;this.event=new E();this.ownerDocument=W.ownerDocument||document;this.scrollbarXRail=Q(h.element.rail("x"));W.appendChild(this.scrollbarXRail);if(this.settings.margin){this.scrollbarXRail.style.margin=this.settings.margin}this.scrollbarX=Q(h.element.thumb("x"));this.scrollbarXRail.appendChild(this.scrollbarX);this.scrollbarX.setAttribute("tabindex",0);this.event.bind(this.scrollbarX,"focus",U);this.event.bind(this.scrollbarX,"blur",aa);this.scrollbarXActive=null;this.scrollbarXWidth=null;this.scrollbarXLeft=null;var Y=P(this.scrollbarXRail);this.scrollbarXBottom=parseInt(Y.bottom,10);if(isNaN(this.scrollbarXBottom)){this.isScrollbarXUsingBottom=false;this.scrollbarXTop=p(Y.top)}else{this.isScrollbarXUsingBottom=true}this.railBorderXWidth=p(Y.borderLeftWidth)+p(Y.borderRightWidth);F(this.scrollbarXRail,{display:"block"});this.railXMarginWidth=p(Y.marginLeft)+p(Y.marginRight);F(this.scrollbarXRail,{display:""});this.railXWidth=null;this.railXRatio=null;this.scrollbarYRail=Q(h.element.rail("y"));W.appendChild(this.scrollbarYRail);if(this.settings.margin){this.scrollbarYRail.style.margin=this.settings.margin}this.scrollbarY=Q(h.element.thumb("y"));this.scrollbarYRail.appendChild(this.scrollbarY);this.scrollbarY.setAttribute("tabindex",0);this.event.bind(this.scrollbarY,"focus",U);this.event.bind(this.scrollbarY,"blur",aa);this.scrollbarYActive=null;this.scrollbarYHeight=null;this.scrollbarYTop=null;var X=P(this.scrollbarYRail);this.scrollbarYRight=parseInt(X.right,10);if(isNaN(this.scrollbarYRight)){this.isScrollbarYUsingRight=false;this.scrollbarYLeft=p(X.left)}else{this.isScrollbarYUsingRight=true}this.scrollbarYOuterWidth=this.isRtl?N(this.scrollbarY):null;this.railBorderYWidth=p(X.borderTopWidth)+p(X.borderBottomWidth);F(this.scrollbarYRail,{display:"block"});this.railYMarginHeight=p(X.marginTop)+p(X.marginBottom);F(this.scrollbarYRail,{display:""});this.railYHeight=null;this.railYRatio=null;this.reach={x:W.scrollLeft<=0?"start":W.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:W.scrollTop<=0?"start":W.scrollTop>=this.contentHeight-this.containerHeight?"end":null};this.isAlive=true;this.settings.handlers.forEach(function(ac){return c[ac](ab)});this.lastScrollTop=W.scrollTop;this.lastScrollLeft=W.scrollLeft;this.event.bind(this.element,"scroll",function(ac){return ab.onScroll(ac)});d(this)};t.prototype.hideX=function(){this.element.classList.remove(h.state.active("x"))};t.prototype.showX=function(){this.element.classList.add(h.state.active("x"))};t.prototype.hideY=function(){this.element.classList.remove(h.state.active("y"))};t.prototype.showY=function(){this.element.classList.add(h.state.active("y"))};t.prototype.update=function(){if(!this.isAlive){return}this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0;F(this.scrollbarXRail,{display:"block"});F(this.scrollbarYRail,{display:"block"});this.railXMarginWidth=p(P(this.scrollbarXRail).marginLeft)+p(P(this.scrollbarXRail).marginRight);this.railYMarginHeight=p(P(this.scrollbarYRail).marginTop)+p(P(this.scrollbarYRail).marginBottom);F(this.scrollbarXRail,{display:"none"});F(this.scrollbarYRail,{display:"none"});d(this);j(this,"top",0,false,true);j(this,"left",0,false,true);F(this.scrollbarXRail,{display:""});F(this.scrollbarYRail,{display:""})};t.prototype.onScroll=function q(U){if(!this.isAlive){return}d(this);j(this,"top",this.element.scrollTop-this.lastScrollTop);j(this,"left",this.element.scrollLeft-this.lastScrollLeft);this.lastScrollTop=this.element.scrollTop;this.lastScrollLeft=this.element.scrollLeft};t.prototype.destroy=function L(){if(!this.isAlive){return}this.event.unbindAll();G(this.scrollbarX);G(this.scrollbarY);G(this.scrollbarXRail);G(this.scrollbarYRail);this.removePsClasses();this.element=null;
this.scrollbarX=null;this.scrollbarY=null;this.scrollbarXRail=null;this.scrollbarYRail=null;this.isAlive=false};t.prototype.removePsClasses=function s(){this.element.className=this.element.className.split(" ").filter(function(U){return !U.match(/^ps([-_].+|)$/)}).join(" ")};return t})));if(!window.DRAGGABLE){window.DRAGGABLE={}}if(!window.DRAGGABLE.ui){window.DRAGGABLE.ui={windowId:0,menuId:0,slideId:0,oneTimeCloseFunction:null,lastOpen:null}}DRAGGABLE.ui.Window=function(e,k,d,j,a){var c=this;var g=d||{};this.id=++DRAGGABLE.ui.windowId;this.title=g.title||"";this.top=g.top||0;this.left=g.left||0;this.width=g.width||"";this.height=g.height||"";this.minWidth=g.minWidth||160;this.minHeight=g.minHeight||(24+(a?76:0));this.hasStatusBar=g.statusbar||false;this.alternativeResize=g.alternativeResize||false;this.translator=g.translator||null;this.zIndex=g.zIndex?g.zIndex:100;this.draggable=typeof g.draggable!=="undefined"?g.draggable:true;var h=document.createElement("DIV");h.setAttribute("id","draggableWindow"+this.id);h.setAttribute("class","draggableWindow"+(this.draggable?"":" noShadow"));this.topDiv=h;this.topDiv.style.zIndex=this.zIndex;if(!e){document.body.appendChild(this.topDiv)}else{if(typeof e==="string"){this.parent=document.getElementById(e)}else{this.parent=e}this.parent.appendChild(this.topDiv)}if(this.draggable){if(this.parent){this.topDiv.style.position="absolute"}this.minTop=1;this.minLeft=1}if(j){this.defineCallback(j)}if(this.topDiv.style.top===""){this.topDiv.style.top=this.top}if(this.topDiv.style.left===""){this.topDiv.style.left=this.left}if(this.topDiv.style.height===""){this.topDiv.style.height=this.height}if(this.topDiv.style.width===""){this.topDiv.style.width=this.width}var h=document.createElement("DIV");h.setAttribute("id","dMenu"+this.id);h.setAttribute("class","draggableMenu gradiente");this.topDiv.appendChild(h);this.menuDiv=h;if(a){var h=document.createElement("DIV");h.setAttribute("id","dToolBar"+this.id);h.setAttribute("class","draggableToolBar");this.topDiv.appendChild(h);this.toolBar=h}h=document.createElement("DIV");h.setAttribute("id","draggableData"+this.id);h.setAttribute("class","draggableData");this.topDiv.appendChild(h);this.dataDiv=h;if(this.alternativeResize){this.hasStatusBar=false;this.topDiv.style.overflow="visible";h=document.createElement("DIV");h.setAttribute("id","draggableStatusResize"+this.id);h.setAttribute("class","draggableAlternativeResize");this.topDiv.appendChild(h);this.resizeCorner=h;this.resizeCorner.innerHTML='<img src="images/corner_resize.gif">'}else{if(this.hasStatusBar){this.dataDiv.setAttribute("class","draggableData withStatusBar");h=document.createElement("DIV");h.setAttribute("id","draggableStatus"+this.id);h.setAttribute("class","draggableStatus");this.topDiv.appendChild(h);this.bottomBar=h;h=document.createElement("DIV");h.setAttribute("id","draggableStatusMsgLine"+this.id);h.setAttribute("class","draggableStatusMsgLine");this.bottomBar.appendChild(h);this.messageLine=h;h=document.createElement("DIV");h.setAttribute("id","draggableStatusResize"+this.id);h.setAttribute("class","draggableStatusResize");this.bottomBar.appendChild(h);this.resizeCorner=h;this.resizeCorner.innerHTML='<img src="images/statusbar_resize.gif">'}}this.calcMinHeight=function(){this.minHeight=(this.menuDiv&&this.menuDiv.style.display!=="none"?this.menuDiv.clientHeight:0)+(this.toolBar&&this.toolBar.style.display!=="none"?this.toolBar.clientHeight:0)+(this.bottomBar&&this.bottomBar.style.display!=="none"?this.bottomBar.clientHeight+3:0)};if(this.alternativeResize||this.hasStatusBar){this.divResize=function(t){t.stopPropagation();t.preventDefault();var s=t.changedTouches;var r={x:t.clientX,y:t.clientY};if(s){var o=s.length-1;r.x=s[o].clientX;r.y=s[o].clientY}t.preventDefault();c.calcMinHeight();var m=(c.topDiv.clientWidth+r.x-c.x);var q=(c.topDiv.clientHeight+r.y-c.y);c.topDiv.style.width=(m<c.minWidth?c.minWidth:m)+"px";c.topDiv.style.height=(q<c.minHeight?c.minHeight:q)+"px";c.x=r.x;c.y=r.y;c.eventsCentral("RESIZE")};this.mouseEndResize=function(l){l.stopPropagation();l.preventDefault();window.removeEventListener("mouseup",c.mouseEndResize,false);window.removeEventListener("touchend",c.mouseEndResize,false);window.removeEventListener("touchmove",c.divResize,false);window.removeEventListener("touchleave",c.divResize,false);window.removeEventListener("mousemove",c.divResize,false);window.removeEventListener("mouseout",c.divResize,false);c.dataDiv.style.pointerEvents="auto";c.eventsCentral("RESIZE")};this.mouseResize=function(l){l.stopPropagation();l.preventDefault();c.dataDiv.style.pointerEvents="none";window.addEventListener("mouseup",c.mouseEndResize,false);window.addEventListener("touchend",c.mouseEndResize,false);window.addEventListener("touchmove",c.divResize,false);window.addEventListener("touchleave",c.divResize,false);window.addEventListener("mousemove",c.divResize,false);window.addEventListener("mouseout",c.divResize,false);c.x=l.clientX;c.y=l.clientY};this.resizeCorner.addEventListener("mouseover",function(){c.resizeCorner.style.cursor="nwse-resize"},false);this.resizeCorner.addEventListener("mousedown",this.mouseResize,false);this.resizeCorner.addEventListener("touchstart",this.mouseResize,{passive:true})}this.divMove=function(s){s.preventDefault();s.stopPropagation();var r=s.changedTouches;var q={x:s.clientX,y:s.clientY};if(r){var o=r.length-1;q.x=r[o].clientX;q.y=r[o].clientY}s.preventDefault();var t=((q.y-c.y)+parseInt(c.topDiv.style.top));var m=((q.x-c.x)+parseInt(c.topDiv.style.left));c.topDiv.style.top=(c.minTop&&t<c.minTop?c.minTop:t)+"px";c.topDiv.style.left=(c.minLeft&&m<c.minLeft?c.minLeft:m)+"px";c.x=q.x;c.y=q.y};this.mouseEndMove=function(l){l.stopPropagation();l.preventDefault();window.removeEventListener("mouseup",c.mouseEndMove,false);window.removeEventListener("touchend",c.mouseEndMove,false);window.removeEventListener("touchmove",c.divMove,false);window.removeEventListener("touchleave",c.divMove,false);window.removeEventListener("mousemove",c.divMove,false);window.removeEventListener("mouseout",c.divMove,false);c.dataDiv.style.pointerEvents="auto";c.eventsCentral("MOVE")};this.mouseMove=function(l){if(!c.draggable){l.preventDefault();l.stopPropagation();return}c.dataDiv.style.pointerEvents="none";window.addEventListener("mouseup",c.mouseEndMove,false);window.addEventListener("touchend",c.mouseEndMove,false);window.addEventListener("touchmove",c.divMove,false);window.addEventListener("touchleave",c.divMove,false);window.addEventListener("mousemove",c.divMove,false);window.addEventListener("mouseout",c.divMove,false);c.x=l.clientX;c.y=l.clientY};this.close=function(l){c.topDiv.style.display="none"};this.focus=function(l){if(c.draggable){c.topDiv.style.zIndex=c.zIndex+1000}};this.blur=function(l){c.topDiv.style.zIndex=c.zIndex};this.addButtons(this.id,k);this.addToolButtons(this.id,a);this.addTitle(this.id,this.title);this.topDiv.tabIndex=this.id;this.topDiv.addEventListener("focus",function(l){l.stopPropagation();
l.preventDefault();c.focus()},false);this.topDiv.addEventListener("blur",function(l){l.stopPropagation();l.preventDefault();c.blur()},false)};DRAGGABLE.ui.Window.prototype.formatStyleParam=function(a){a=(isNaN(a)===false)?""+a:a;return(a===""+parseInt(a)?a+"px":a)};DRAGGABLE.ui.Window.prototype.move=function(c,a){this.topDiv.style.left=this.formatStyleParam(c);this.topDiv.style.top=this.formatStyleParam(a)};DRAGGABLE.ui.Window.prototype.setSize=function(c,a){this.topDiv.style.width=this.formatStyleParam(c);this.topDiv.style.height=this.formatStyleParam(a)};DRAGGABLE.ui.Window.prototype.setVisible=function(a){this.topDiv.style.display=(a?"block":"none");(a)&&this.focus()};DRAGGABLE.ui.Window.prototype.setMenuVisible=function(a){this.menuDiv.style.display=(a?"block":"none");(a)&&this.focus()};DRAGGABLE.ui.Window.prototype.setToolBarVisible=function(a){if(this.toolBar){this.toolBar.style.display=a?"block":"none";this.resize()}};DRAGGABLE.ui.Window.prototype.setStatusBarVisible=function(a){if(this.bottomBar){this.bottomBar.style.display=a?"block":"none";this.resize()}};DRAGGABLE.ui.Window.prototype.setStatusMessage=function(a){if(this.messageLine){this.messageLine.innerHTML=a}};DRAGGABLE.ui.Window.prototype.setButtonVisible=function(c,d){var a=this.actionList[c.toUpperCase()];if(a){a.style.display=d?"":"none"}};DRAGGABLE.ui.Window.prototype.setFloating=function(a){this.draggable=a;if(this.draggable){if(this.alternativeResize){this.resizeCorner.style.display="block"}this.topDiv.className="draggableWindow";if(this.parent){this.topDiv.style.position="absolute"}this.minTop=1;this.minLeft=1;this.focus()}else{if(this.alternativeResize){this.resizeCorner.style.display="none"}this.topDiv.className="draggableWindow noShadow";this.topDiv.style.position="relative";this.topDiv.style.margin="1px";this.blur()}};DRAGGABLE.ui.Window.prototype.resize=function(){this.calcMinHeight();this.dataDiv.style.height=(this.topDiv.clientHeight-this.minHeight)+"px"};DRAGGABLE.ui.Window.prototype.defineCallback=function(a){this.callback=a};DRAGGABLE.ui.Window.prototype.eventsCentral=function(c,a){if(this.callback){this.callback.listener[this.callback.method](c,a)}else{if(c==="CLOSE"){this.close()}}};DRAGGABLE.ui.Window.prototype.setTitle=function(d,a){var c="";if(a&&d!==""){c=a.getResource(d);this.titleSpan.setAttribute("data-translate",d)}else{this.titleSpan.removeAttribute("data-translate");c=(d?d:c)}this.titleSpan.innerHTML=c};DRAGGABLE.ui.Window.prototype.setSubTitle=function(e,a){var d="";if(a&&e!==""){var c=a.getResource(e);d=(c?"- "+c:d);this.subTitleSpan.setAttribute("data-translate",e)}else{this.subTitleSpan.removeAttribute("data-translate");d=(e?e:d)}this.subTitleSpan.innerHTML=d};DRAGGABLE.ui.Window.prototype.addTitle=function(h,e){var a=this,d,c="";var g=document.createElement("DIV");g.setAttribute("class","dTitle");if(e&&this.translator){d=this.translator.getResource(e);c='data-translate="'+e+'"'}g.innerHTML='<span id="dSpanTitle'+h+'" '+c+' style="padding-left: 6px; float:left; white-space: nowrap;">'+(d?d:e)+'</span><span id="dSpanSubTitle'+h+'" style="padding-left: 6px; float:left; white-space: nowrap;"></span>';a.menuDiv.appendChild(g);a.titleSpan=document.getElementById("dSpanTitle"+h);a.subTitleSpan=document.getElementById("dSpanSubTitle"+h);if(a.draggable&&a.menuDiv){a.menuDiv.addEventListener("mouseover",function(){a.menuDiv.style.cursor="move"},false)}a.menuDiv.addEventListener("mousedown",a.mouseMove,false);a.menuDiv.addEventListener("touchstart",a.mouseMove,{passive:true})};DRAGGABLE.ui.Window.prototype.addButtons=function(g,e){var d=["close"];var a=this;var c={CLOSE:"close",MOVE:"move",ROTATE:"rotate",GLOBE:"world",ZOOM:"zoom-in",HELP:"circle-question",POPIN:"popin",POPOUT:"popout",RESTORE:"restore",MAXIMIZE:"full-screen",APPLY:"tick",PRINT:"printer"};if(e){d=d.concat(e)}d.forEach(function(h){h=h.split("|");var l="";var p=h[0].toUpperCase();var o=h.length>1?h[1]:"";var m="ico-"+(c[p]?c[p]:p.toLowerCase());var k=h.length>1?h[1]:h[0];if(a.translator){o=a.translator.getResource(k);l='data-translate="'+k+'"'}var j='<i class="'+m+' ico-white" title="'+o+'" '+l+" ></i>";var q=document.createElement("DIV");q.setAttribute("id","d"+p+"Button"+g);q.setAttribute("class","dButton");q.innerHTML=p==="MOVE"?j:'<a href="">'+j+"</a>";a.addAction(p,q,a);a.menuDiv.appendChild(q)})};DRAGGABLE.ui.Window.prototype.addAction=function(d,e,a){if(!this.actionList){this.actionList={}}this.actionList[d]=e;if(d==="MOVE"){return}var c=function(g){g.preventDefault();g.stopPropagation();a.eventsCentral(d,e)};e.addEventListener("click",c,false);e.addEventListener("touchstart",c,{passive:true});e.addEventListener("mousedown",function(g){g.preventDefault();g.stopPropagation()},false)};DRAGGABLE.ui.Window.prototype.dispatchAction=function(a){this.eventsCentral(a,this.actionList[a])};DRAGGABLE.ui.Window.prototype.addToolButtons=function(e,d){if(!d){return}var a=this;var c={GUTTER:"list-numbered",REFRESH:"bolt",DOWNLOAD:"download",FONTSIZE:"fontsize",DROPDOWN:"open-down",OCTAVEDOWN:"octave-down",OCTAVEUP:"octave-up",FINDNREPLACE:"find-and-replace",UNDO:"undo",UNDOALL:"undo-all",REDO:"redo",REDOALL:"redo-all",LIGHTON:"lightbulb-on",READONLY:"lock-open"};d.forEach(function(g){g=g.split("|");var k="";var m=g[0].toUpperCase();var l=g.length>1?g[1]:"";var h=g.length>1?g[1]:g[0];if(a.translator){l=a.translator.getResource(h);k='data-translate="'+h+'"'}var p=document.createElement("DIV");p.id="d"+m+"Button"+e;a.toolBar.appendChild(p);if(m==="DROPDOWN"){p.className="dButton topMenu";if(typeof a.menu==="undefined"){a.menu={}}var o=g[1];a.menu[o]=new DRAGGABLE.ui.DropdownMenu(p,a.callback,[{title:"...",ddmId:o,tip:l,itens:[]}])}else{var j="ico-"+(c[m]?c[m]:m.toLowerCase());p.className="dButton";p.innerHTML='<a href="" ><i class="'+j+' ico-black ico-large" title="'+l+'" '+k+" ></i></a>";a.addAction(m,p,a)}})};DRAGGABLE.ui.Window.prototype.addPushButtons=function(j){for(var h=0;h<j.length;h++){var g,a;var c=j[h].split("|");var d=document.getElementById(c[0]);var e=c[1].split("-");switch(e[e.length-1].toUpperCase()){case"SEARCH":g="ico-search";a="pushbutton";break;case"REPLACE":g="ico-redo";a="pushbutton";break;case"REPLACEALL":g="ico-redo-all";a="pushbutton";break;case"YES":case"APPLY":g="ico-circle-tick";a="pushbutton";break;case"RESET":g="ico-circle-r";a="pushbutton";break;case"NO":case"CLOSE":case"CANCEL":g="ico-circle-error";a="pushbutton cancel";break}new DRAGGABLE.ui.PushButton(d,a,g,c[1],c[2],this)}};DRAGGABLE.ui.PushButton=function(h,c,j,a,k,g){var e="";var d=k?k:a;this.item=h;this.item.className=c;if(g.translator){k=g.translator.getResource(d);e='data-translate="'+d+'"'}this.item.innerHTML='<i class="'+j+'" ></i><span '+e+">"+k+"</span></div>";this.item.addEventListener("click",function(l){l.preventDefault();l.stopPropagation();g.eventsCentral(a.toUpperCase(),h)},false)};if(!window.DRAGGABLE){window.DRAGGABLE={}}if(!window.DRAGGABLE.ui){window.DRAGGABLE.ui={windowId:0,menuId:0,slideId:0,oneTimeCloseFunction:null,lastOpen:null}
}DRAGGABLE.ui.DropdownMenu=function(r,t,c){var s=this;var a=t||{};this.headers={};this.id=++DRAGGABLE.ui.menuId;this.Lastkey={time:0,key:0,label:""};this.container=(typeof r==="object")?r:document.getElementById(r);this.listener=a.listener||null;this.method=a.method||null;this.translate=a.translate||false;this.menuLabel=a.label||null;this.menuBorder=a.border||false;this.menuBorderClass=a.borderClass||"rounded-corners";if(!this.container){waterbug.log("Elemento "+r+" não existe!");return}else{this.container.innerHTML=""}for(var g=0;g<c.length;g++){var d=c[g].ddmId||("ddm"+this.id+g);var q=document.createElement("div");q.setAttribute("class","dropdown");this.container.appendChild(q);if(this.menuLabel){var k=document.createElement("H1");k.setAttribute("data-translate",this.menuLabel);k.appendChild(document.createTextNode(this.menuLabel));q.appendChild(k);this.menuBorder=true}if(this.menuBorder){q.className+=" "+this.menuBorderClass}var p=document.createElement("input");p.setAttribute("type","checkbox");q.appendChild(p);this.headers[d]={div:null,chk:p,btn:null,list:null,actionList:{},labelList:{}};p=document.createElement("button");if(c[g].tip){p.setAttribute("data-translate",d);p.setAttribute("title",c[g].tip)}p.setAttribute("data-ddm",d);var e=this.translate?'<span data-translate="'+d+'" >':"<span>";p.innerHTML=e+(c[g].title||"")+'</span>&#160;<i class="ico-open-down" data-toggle="toggle"></i>';p.addEventListener("click",function(h){h.stopPropagation();h.preventDefault();s.eventsCentral(this.getAttribute("data-ddm"))},false);p.addEventListener("touchstart",function(h){h.stopPropagation();h.preventDefault();s.eventsCentral(this.getAttribute("data-ddm"))},{passive:false});p.addEventListener("keydown",function(h){h.stopPropagation();h.preventDefault()});p.addEventListener("keyup",function(m){m.stopPropagation();m.preventDefault();var u=this.getAttribute("data-ddm");switch(m.keyCode){case 27:if(DRAGGABLE.ui.oneTimeCloseFunction){DRAGGABLE.ui.oneTimeCloseFunction()}break;case 13:if(DRAGGABLE.ui.lastOpen&&s.headers[DRAGGABLE.ui.lastOpen].highlightItem){s.eventsCentral(DRAGGABLE.ui.lastOpen,s.headers[DRAGGABLE.ui.lastOpen].highlightItem)}break;case 33:case 34:var h=7;while(s.highlightItem(DRAGGABLE.ui.lastOpen,m.keyCode===33)&&h>0){h--}break;case 36:case 35:while(s.highlightItem(DRAGGABLE.ui.lastOpen,m.keyCode===36)){}break;case 38:case 40:if(DRAGGABLE.ui.lastOpen){s.highlightItem(DRAGGABLE.ui.lastOpen,m.keyCode===38)}break;case 37:case 39:if(DRAGGABLE.ui.lastOpen){s.openMenu(DRAGGABLE.ui.lastOpen,m.keyCode===37)}break;default:if(m.keyCode>=65&&m.keyCode<=122){s.searchInMenu(DRAGGABLE.ui.lastOpen,m.keyCode)}break}});q.appendChild(p);this.headers[d].btn=p;var o=document.createElement("div");o.setAttribute("class","dropdown-menu ps--active-y");o.setAttribute("data-toggle","toggle-menu");q.appendChild(o);this.sbar=new PerfectScrollbar(o,{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],wheelSpeed:1,wheelPropagation:false,suppressScrollX:true,minScrollbarLength:100,swipeEasing:true,scrollingThreshold:500,margin:"4px 0 2px 0"});this.headers[d].div=o;o.addEventListener("transitionend",function(m){var h=this.scrollTop;this.scrollTop=10000;this.scrollTop=h;s.sbar.update()},false);var l=document.createElement("ul");o.appendChild(l);this.headers[d].list=l;for(var j=0;j<c[g].itens.length;j++){this.addItemSubMenu(d,c[g].itens[j])}}};DRAGGABLE.ui.DropdownMenu.prototype.dispatchAction=function(c,a){this.headers[c].actionList[a].getElementsByTagName("a")[0].click()};DRAGGABLE.ui.DropdownMenu.prototype.setVisible=function(a){this.container.style.display=a?"":"none"};DRAGGABLE.ui.DropdownMenu.prototype.getSubMenu=function(a){if(!this.headers[a]){waterbug.log("Menu não encontrado!");return false}return this.headers[a]};DRAGGABLE.ui.DropdownMenu.prototype.getSubItem=function(d,c){if(!this.getSubMenu(d)){return false}var a=c;if(typeof c==="string"){a=this.headers[d].actionList[c]}return(a?a:false)};DRAGGABLE.ui.DropdownMenu.prototype.disableSubItem=function(d,c){var a=this.getSubItem(d,c);if(!a){return false}a.style.pointerEvents="none";a.style.opacity="0.5"};DRAGGABLE.ui.DropdownMenu.prototype.enableSubItem=function(d,c){var a=this.getSubItem(d,c);if(!a){return false}a.style.pointerEvents="";a.style.opacity=""};DRAGGABLE.ui.DropdownMenu.prototype.disableSubMenu=function(a){if(!this.getSubMenu(a)){return false}this.headers[a].chk.checked=false;this.headers[a].btn.style.pointerEvents="none";this.headers[a].btn.style.opacity="0.5"};DRAGGABLE.ui.DropdownMenu.prototype.enableSubMenu=function(a){if(!this.getSubMenu(a)){return false}this.headers[a].chk.checked=false;this.headers[a].btn.style.pointerEvents="";this.headers[a].btn.style.opacity=""};DRAGGABLE.ui.DropdownMenu.prototype.emptySubMenu=function(a){if(!this.getSubMenu(a)){return false}this.headers[a].list.innerHTML=""};DRAGGABLE.ui.DropdownMenu.prototype.openMenu=function(h,g){var a,c=false,e;for(var d in this.headers){if(c){a=d;break}if(!g&&d===h){c=true}else{if(g&&e&&d===h){a=e;break}}e=d}if(!a){return false}this.eventsCentral(a)};DRAGGABLE.ui.DropdownMenu.prototype.searchInMenu=function(c,k){if(this.headers[c]===undefined){return}var a="";var l=this.headers[c].labelList;var g=String.fromCharCode(k).toUpperCase();var o=new Date().getTime();var d=3000;var j=(this.Lastkey.key===k&&this.Lastkey.time>(o-d));if(j){var h=false;for(var m in l){if(h){if(m.startsWith(g)){a=m;break}}else{if(this.headers[c].highlightItem&&m===this.Lastkey.label){h=true}}}}else{var e="";for(var m in l){if(e===""){e=m}if(m.startsWith(g)){a=m;break}}if(a===""){for(var m in l){if(m.charAt(0)>=g){a=e;break}e=m}}}if(a!==""){this.highlightItem(c,this.headers[c].labelList[a]);this.Lastkey={time:o,key:k,label:a}}};DRAGGABLE.ui.DropdownMenu.prototype.unhighlightItem=function(d){var a=d.actionlList;for(var c in a){d.actionList[c].className=""}if(d.highlightItem&&(!d.selectedItem||d.selectedItem!==d.actionList[d.highlightItem])){d.actionList[d.highlightItem].className="";delete d.highlightItem}};DRAGGABLE.ui.DropdownMenu.prototype.highlightItem=function(k,a){var d=a,e=false,h;var j=this.headers[k];var c=j.actionList;if(typeof a==="boolean"){d=false;for(var g in c){if(c[g].style.pointerEvents==="none"){continue}if((!j.highlightItem)||e){d=g;break}else{if(!a&&j.highlightItem&&j.highlightItem===g){e=true}else{if(a&&h&&j.highlightItem&&j.highlightItem===g){d=h;break}}}h=g}}if(!d){return false}this.unhighlightItem(j);j.highlightItem=d;if(!j.selectedItem||j.selectedItem!==c[j.highlightItem]){c[d].className="hover"}if(c[d].offsetTop+c[d].clientHeight>=j.div.scrollTop+j.div.clientHeight){j.div.scrollTop=c[d].offsetTop+(1.9*c[d].clientHeight)-j.div.clientHeight}if(c[d].offsetTop<j.div.scrollTop){j.div.scrollTop=c[d].offsetTop}return true};DRAGGABLE.ui.DropdownMenu.prototype.selectItem=function(e,c){var a=c;var d=this.headers[e];this.unhighlightItem(d);if(typeof c==="string"){a=this.headers[e].actionList[c]}if(!a){return false}if(this.headers[e].selectedItem){this.headers[e].selectedItem.className=""
}a.className="selected";this.headers[e].selectedItem=a;return a};DRAGGABLE.ui.DropdownMenu.prototype.setSubMenuTitle=function(c,d){if(!this.headers[c]){waterbug.log("Menu não encontrado!");return}var a=d;if(typeof a!=="string"){a=d.getElementsByTagName("a")[0].innerHTML}if(!a){waterbug.log("Título não encontrado!");return false}this.headers[c].btn.innerHTML=(a||"")+'&#160;<i class="ico-open-down" data-toggle="toggle"></i>'};DRAGGABLE.ui.DropdownMenu.prototype.addItemSubMenu=function(a,e,j){var k=this,h;var l=e.split("|");if(!k.headers[a]){waterbug.log("Menu não encontrado!");return}if(l[0].substring(0,3)==="---"){h=document.createElement("hr")}else{h=document.createElement("li");var d=l.length>1?l[1]:l[0];h.setAttribute("id",d);var g=document.createElement("a");var c=this.translate?'<span data-translate="'+d+'" >':"<span>";g.innerHTML=c+l[0]+"</span>";h.appendChild(g);this.addAction(a,d,h,this,l[0])}if(j>=0){k.headers[a].list.insertBefore(h,k.headers[a].list.children[j])}else{k.headers[a].list.appendChild(h)}return h};DRAGGABLE.ui.DropdownMenu.prototype.setListener=function(a,c){this.listener=a||null;this.method=c||"callback"};DRAGGABLE.ui.DropdownMenu.prototype.eventsCentral=function(g,c){var a=this;var d=this.headers[g];d.chk.checked=!d.chk.checked;if(DRAGGABLE.ui.oneTimeCloseFunction){DRAGGABLE.ui.oneTimeCloseFunction()}if(d.chk.checked){DRAGGABLE.ui.oneTimeCloseFunction=function(){d.chk.checked=false;DRAGGABLE.ui.lastOpen=null;a.unhighlightItem(d);document.removeEventListener("click",DRAGGABLE.ui.oneTimeCloseFunction,false);DRAGGABLE.ui.oneTimeCloseFunction=null};document.addEventListener("click",DRAGGABLE.ui.oneTimeCloseFunction);DRAGGABLE.ui.lastOpen=g;if(d.selectedItem){d.div.scrollTop=d.selectedItem.offsetTop-115}}if(c&&this.listener){this.listener[this.method](c)}};DRAGGABLE.ui.DropdownMenu.prototype.addAction=function(g,e,h,c,d){c.headers[g].actionList[e]=h;c.headers[g].labelList[d]=e;h.setAttribute("data-ddm",g);h.setAttribute("data-value",e);h.addEventListener("click",function(j){j.preventDefault();j.stopPropagation();c.eventsCentral(this.getAttribute("data-ddm"),this.getAttribute("data-value"))},false);var a=function(o){o.preventDefault();o.stopPropagation();c.mouseMovido=true;var l=o.changedTouches[0].pageY;var p=c.startY-l;var j=c.headers[g].div;if(Math.abs(p)>10){var k=j.scrollTop+p;if(k<0){j.scrollTop=0}else{if(k>(j.scrollHeight-j.ClientHeight)){j.scrollTop=(j.scrollHeight-j.ClientHeight)}else{j.scrollTop=k}}c.startY=l;c.moved=true}};h.addEventListener("touchstart",function(j){c.startY=j.changedTouches[0].pageY;c.moved=false;h.addEventListener("touchmove",a,false);j.preventDefault();j.stopPropagation()},{passive:true});h.addEventListener("touchend",function(j){h.removeEventListener("touchmove",a,false);a(j);if(!c.moved){j.preventDefault();j.stopPropagation();c.eventsCentral(this.getAttribute("data-ddm"),this.getAttribute("data-value"))}},false);h.addEventListener("mousedown",function(j){j.preventDefault();j.stopPropagation()},false);h.addEventListener("mouseout",function(j){j.preventDefault();j.stopPropagation()},false);h.addEventListener("mouseover",function(j){j.preventDefault();j.stopPropagation();if(c.mouseMovido){c.highlightItem(this.getAttribute("data-ddm"),this.getAttribute("data-value"))}c.mouseMovido=false},false)};if(!window.DRAGGABLE){window.DRAGGABLE={}}if(!window.DRAGGABLE.ui){window.DRAGGABLE.ui={windowId:0,menuId:0,slideId:0,oneTimeCloseFunction:null,lastOpen:null}}DRAGGABLE.ui.Alert=function(l,c,q,o,r){var k,j,m,e,p;r=r?r:{};this.translator=r.translator?r.translator:null;this.callback={listener:this,method:"alertCallback"};if(!l){this.parentCallback=null;var d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;k=g/2-350;j=d/2-150}else{this.parentCallback=l.callback;k=l.topDiv.offsetLeft+50;j=l.topDiv.offsetTop+50}var m=(c?"500px":"700px");var e="auto";k=r.x!==undefined?r.x:k;j=r.y!==undefined?r.y:j;m=r.w!==undefined?r.w:m;e=r.h!==undefined?r.h:e;this.container=new DRAGGABLE.ui.Window(null,null,{title:"AlertTitle",translator:this.translator,statusbar:false,top:j+"px",left:k+"px",width:m,height:e,zIndex:300},this.callback);this.container.dataDiv.innerHTML='<div class="dialog" >\n        <div class="flag"><i class="ico-circle-'+(c?"question":"exclamation")+'"></i></div>\n        <div class="text-group'+(c?"":" wide")+'">\n            <div class="title">'+q+'</div>\n            <div class="description">'+o+'</div>\n        </div>\n        <div id="pgAlert" class="pushbutton-group" style="right: 0; bottom: 0;" >            <div id="botao1Alert"></div>\n            <div id="botao2Alert"></div>\n        </div>\n    </div>';if(c){this.container.addPushButtons(["botao1Alert|"+c+"-YES|yes","botao2Alert|"+c+"-NO|no"])}else{this.container.addPushButtons(["botao1Alert|CLOSE|ok"])}this.modalPane=document.getElementById("modalPane");if(!this.modalPane){var a=document.createElement("DIV");a.id="modalPane";a.style="position:absolute; z-index:250; background-color:black; opacity:0.4; top:0; left:0; bottom:0; right:0; pointer-events: block; display:none;";document.body.appendChild(a);this.modalPane=a}this.modalPane.style.display="block";this.container.setVisible(true)};DRAGGABLE.ui.Alert.prototype.close=function(){this.modalPane.style.display="none";this.container.setVisible(false);this.container.topDiv.remove();this.container=null};DRAGGABLE.ui.Alert.prototype.alertCallback=function(c,a){switch(c){case"CLOSE":case"CANCEL":this.close();break;default:if(this.parentCallback){this.parentCallback.listener[this.parentCallback.method](c,a)}}};DRAGGABLE.ui.ReplaceDialog=function(h,e){var a,k,d="Localizar:",c="Substituir por:",g="Diferenciar maiúsculas e minúsculas",j="Pesquisar palavras inteiras";e=e?e:{};this.translator=e.translator?e.translator:null;this.parentCallback=h.callback;this.callback={listener:this,method:"dialogCallback"};a=Math.min(h.dataDiv.clientWidth/2-250,200);k=20;this.container=new DRAGGABLE.ui.Window(h.dataDiv,null,{title:"ReplaceDialogTitle",translator:this.translator,statusbar:false,top:k+"px",left:a+"px",width:"500px",height:"auto",zIndex:300},this.callback);if(this.translator){d=this.translator.getResource("searchTerm");c=this.translator.getResource("replaceTerm");g=this.translator.getResource("match_case");j=this.translator.getResource("whole_word")}this.container.dataDiv.innerHTML='<div class="dialog" >\n        <div class="flag"><i class="ico-find-and-replace"></i></div>\n        <div class="text-group">\n            <br><span data-translate="searchTerm">'+d+'</span><br><input id="searchTerm" type="text" value=""></input>\n            <br><input id="chk_match_case" type="checkbox"><span data-translate="match_case">'+g+'</span>\n            <br><input id="chk_whole_word" type="checkbox"><span data-translate="whole_word">'+j+'</span>\n            <br><br><span data-translate="replaceTerm">'+c+'</span><br><input id="replaceTerm" type="text" value=""></input>\n        </div>\n        <div id="pgAlert" class="pushbutton-group" style="right: 0; bottom: 0;" >            <div id="botao1Replace"></div>\n            <div id="botao2Replace"></div>\n            <div id="botao3Replace"></div>\n            <div id="botao4Replace"></div>\n        </div>\n    </div>';
this.container.addPushButtons(["botao1Replace|search","botao2Replace|replace","botao3Replace|replaceall","botao4Replace|cancel"]);this.searchTerm=document.getElementById("searchTerm");this.replaceTerm=document.getElementById("replaceTerm");this.chkMatchCase=document.getElementById("chk_match_case");this.chkWholeWord=document.getElementById("chk_whole_word");this.container.setVisible(true)};DRAGGABLE.ui.ReplaceDialog.prototype.close=function(){this.container.setVisible(false);this.container.topDiv.remove();this.container=null};DRAGGABLE.ui.ReplaceDialog.prototype.dialogCallback=function(c,a){switch(c){case"MOVE":break;case"CLOSE":case"CANCEL":this.close();break;default:this.parentCallback.listener[this.parentCallback.method]("DO-"+c,a,this.searchTerm.value,this.replaceTerm.value,this.chkMatchCase.checked,this.chkWholeWord.checked)}};DRAGGABLE.ui.ColorPicker=function(g,d){d=d?d:{};this.translator=d.translator?d.translator:null;this.container=new DRAGGABLE.ui.Window(null,["apply|select"],{title:"PickerTitle",translator:this.translator,draggable:true,width:"auto",height:"auto",zIndex:"200"},{listener:this,method:"pickerCallBack"});var a="";if(d.readonly){a="readonly"}this.container.dataDiv.innerHTML='<div class="picker-group">    <canvas id="colorPickerCanvas"></canvas><br>    <input id="originalColor" '+a+' ></input>    <input id="newColor" '+a+" ></input></div>";this.originalColor=document.getElementById("originalColor");this.newColor=document.getElementById("newColor");this.cp=new KellyColorPicker({place:"colorPickerCanvas",size:190,input:"newColor"});var c=this;for(var e=0;e<g.length;e++){document.getElementById(g[e]).addEventListener("click",function(h){c.activate(this);h.stopPropagation()})}};DRAGGABLE.ui.ColorPicker.prototype.pickerCallBack=function(c,a){switch(c){case"MOVE":break;case"APPLY":this.item.style.backgroundColor=this.item.value=this.newColor.value;this.close();break;case"CLOSE":this.item.style.backgroundColor=this.item.value=this.originalColor.value;this.close()}};DRAGGABLE.ui.ColorPicker.prototype.close=function(){this.container.setVisible(false)};DRAGGABLE.ui.ColorPicker.prototype.activate=function(c){var a=this;var e=function(){a.close();this.removeEventListener("click",e,false)};document.addEventListener("click",e);this.item=c;this.container.topDiv.addEventListener("click",function(g){g.stopPropagation()});this.newColor.value=this.originalColor.value=this.item.value;this.originalColor.style.backgroundColor=this.item.value;this.cp.setColorByHex(this.item.value);var d=this.item.getBoundingClientRect();this.container.topDiv.style.top=(d.top+d.height/2-120)+"px";this.container.topDiv.style.left=d.left+d.width+5+"px";this.container.setVisible(true)};if(!window.DRAGGABLE){window.DRAGGABLE={}}if(!window.DRAGGABLE.ui){window.DRAGGABLE.ui={windowId:0,menuId:0,slideId:0,oneTimeCloseFunction:null,lastOpen:null}}DRAGGABLE.ui.Slider=function(c,d){var a=this;a.color=d.color||"white";a.bgcolor=d.bgcolor||"black";a.opacity=d.opacity||"30%";a.speed=d.speed||100;a.step=d.step||5;a.size=d.size||{w:150,h:23,tw:42};a.callback=d.callback;a.type=d.type||"perc";this.id=++DRAGGABLE.ui.slideId;this.container=(typeof c==="object")?c:document.getElementById(c);this.container.className="slide-container";this.container.id="slider"+this.id;this.tracker=document.createElement("div");this.tracker.className="slide-tracker";this.tracker.id="tracker"+this.id;this.tracker.style.background=a.bgcolor;this.tracker.style.opacity=a.opacity;this.container.appendChild(this.tracker);this.thumb=document.createElement("div");this.thumb.className="slide-thumb";this.thumb.id="thumb"+this.id;this.container.appendChild(this.thumb);this.thumb.span=document.createElement("span");this.thumb.span.style.color=a.color;this.thumb.span.style.background=a.bgcolor;this.thumb.span.style.width=+a.size.tw+"px";this.thumb.span.style.height=(a.size.h+1)+"px";this.thumb.span.style.lineHeight=(a.size.h+1)+"px";this.thumb.span.style.marginTop="-1px";this.thumb.span.style.paddingTop="1px";this.thumb.span.innerHTML=(d.start+"%")||100;this.thumb.appendChild(this.thumb.span);this.slider=document.createElement("input");this.slider.type="range";this.slider.min=d.min||0;this.slider.max=d.max||100;this.slider.value=d.start||100;this.slider.step=d.step||1;this.container.appendChild(this.slider);this.container.style.height=a.size.h+"px";this.container.style.width=a.size.w+"px";this.slider.oninput=function(g){a.updateScreen(true);g.stopPropagation();g.preventDefault()};this.setValue=function(e){this.slider.value=e;this.updateScreen(false)};this.updateScreen=function(h){const j=Number((this.slider.value-this.slider.min)/(this.slider.max-this.slider.min)),g=100*(j-0.5),e=a.size.tw*(0.5-j);this.setDisplay(this.slider.value);this.thumb.style.left="calc("+g+"% + "+e+"px)";(h)&&(a.callback)&&a.callback(this.slider.value)};this.setDisplay=function(e){switch(this.type){case"perc":this.thumb.span.innerHTML=e+"%";break;case"bin":this.thumb.span.innerHTML=e>0?"on":"off";this.thumb.style.filter=(e>0?"none":"grayscale(1)");this.tracker.style.filter=(e>0?"none":"grayscale(100%)");break;default:this.thumb.span.innerHTML=e;break}};a.updateScreen(false)};DRAGGABLE.ui.Slider.prototype.enable=function(){this.container.style.pointerEvents="all";this.container.style.backgroundColor="transparent";this.container.style.opacity="1"};DRAGGABLE.ui.Slider.prototype.disable=function(){this.container.style.pointerEvents="none";this.container.style.backgroundColor="gray";this.container.style.opacity="0.3"};DRAGGABLE.ui.Slider.prototype.getValue=function(){return this.slider.value};DRAGGABLE.ui.Slider.prototype.getBoolValue=function(){return(this.slider.value!=0)};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.tablature){window.ABCXJS.tablature={}}ABCXJS.tablature.Accordion=function(d,c,a){this.loaded=undefined;this.tabLines=[];this.accordions=d.accordionMaps||[];this.translator=d.translator||null;this.transposer=new window.ABCXJS.parse.Transposer();this.pautaNumerica=c||0;this.pautaNumericaMini=a||(a===undefined);if(this.accordions.length===0){throw new Error("No accordionMap found!")}this.render_opts={};this.setRenderOptions(d.render_keyboard_opts,true);if(d.id){this.loadById(d.id)}else{this.load(0)}};ABCXJS.tablature.Accordion.prototype.setRenderOptions=function(c,a){var d=c||{};this.render_opts.transpose=(typeof d.transpose==="undefined"?(a?false:this.render_opts.transpose):d.transpose);this.render_opts.mirror=(typeof d.mirror==="undefined"?(a?false:this.render_opts.mirror):d.mirror);this.render_opts.draggable=(typeof d.draggable==="undefined"?(a?false:this.render_opts.draggable):d.draggable);this.render_opts.show=(typeof d.show==="undefined"?(a?false:this.render_opts.show):d.show);this.render_opts.label=(typeof d.label==="undefined"?(a?false:this.render_opts.label):d.label);this.render_opts.scale=(typeof d.scale==="undefined"?(a?1:this.render_opts.scale):d.scale);if(!a){DIATONIC.map.color.fill=(typeof d.fillColor==="undefined"?DIATONIC.map.color.fill:d.fillColor);
DIATONIC.map.color.background=(typeof d.backgroundColor==="undefined"?DIATONIC.map.color.background:d.backgroundColor);DIATONIC.map.color.open=(typeof d.openColor==="undefined"?DIATONIC.map.color.open:d.openColor);DIATONIC.map.color.close=(typeof d.closeColor==="undefined"?DIATONIC.map.color.close:d.closeColor)}};ABCXJS.tablature.Accordion.prototype.loadById=function(c){for(var a=0;a<this.accordions.length;a++){if(this.accordions[a].id===c){return this.load(a)}}waterbug.log("Accordion not found. Loading the first one.");return this.load(0)};ABCXJS.tablature.Accordion.prototype.load=function(a){this.loaded=this.accordions[a];this.loadedKeyboard=this.loaded.keyboard;this.loadedKeyboard.setFormatoTab(this.pautaNumerica,this.pautaNumericaMini);return this.loaded};ABCXJS.tablature.Accordion.prototype.accordionExists=function(e){var d=false;for(var c=0;c<this.accordions.length;c++){if(this.accordions[c].id===e){d=true}}return d};ABCXJS.tablature.Accordion.prototype.accordionIsCurrent=function(a){return(this.accordions.loaded&&this.accordions.loaded.id===a)};ABCXJS.tablature.Accordion.prototype.clearKeyboard=function(a){this.loadedKeyboard.clear(a)};ABCXJS.tablature.Accordion.prototype.changeNotation=function(){this.render_opts.label=!this.render_opts.label;this.loadedKeyboard.redraw(this.render_opts)};ABCXJS.tablature.Accordion.prototype.rotateKeyboard=function(a){var c=this.render_opts;if(c.transpose){c.mirror=!c.mirror}c.transpose=!c.transpose;this.printKeyboard(a)};ABCXJS.tablature.Accordion.prototype.scaleKeyboard=function(a){if(this.render_opts.scale<1.2){this.render_opts.scale+=0.2}else{this.render_opts.scale=0.8}this.printKeyboard(a)};ABCXJS.tablature.Accordion.prototype.printKeyboard=function(c,a){this.setRenderOptions(a);var d=(typeof(c)==="string"?document.getElementById(c):c);if(this.render_opts.show){d.style.display="inline-block";this.loadedKeyboard.print(d,this.render_opts,this.translator)}else{d.style.display="none"}};ABCXJS.tablature.Accordion.prototype.getFormatoTab=function(){return this.pautaNumerica};ABCXJS.tablature.Accordion.prototype.setFormatoTab=function(c,a){this.pautaNumerica=c;this.pautaNumericaMini=a;this.loadedKeyboard.setFormatoTab(this.pautaNumerica,a)};ABCXJS.tablature.Accordion.prototype.getId=function(){return this.loaded.getId()};ABCXJS.tablature.Accordion.prototype.getFullName=function(){return this.loaded.getFullName()};ABCXJS.tablature.Accordion.prototype.getTxtModel=function(){return this.loaded.getTxtModel()};ABCXJS.tablature.Accordion.prototype.getTxtNumButtons=function(){return this.loaded.getTxtNumButtons()};ABCXJS.tablature.Accordion.prototype.getTxtTuning=function(){return this.loaded.getTxtTuning()};ABCXJS.tablature.Accordion.prototype.getNoteName=function(l,h,c,e){var a=this.transposer.staffNoteToCromatic(this.transposer.extractStaffNote(l.pitch));var d=this.transposer.extractStaffOctave(l.pitch);var k=this.transposer.numberToKey(a);if(l.accidental){c[l.pitch]=this.transposer.getAccOffset(l.accidental);a+=c[l.pitch]}else{if(typeof(c[l.pitch])!=="undefined"){a+=c[l.pitch]}else{a+=this.transposer.getKeyAccOffset(k,h)}}d+=(a<0?-1:(a>11?1:0));a=(a<0?12+a:(a>11?a%12:a));var j=this.transposer.numberToKey(a);var g=a;if(l.chord){j=j.toLowerCase()}return{key:j,octave:d,isBass:e,isChord:l.chord,isMinor:l.minor,value:g}};ABCXJS.tablature.Accordion.prototype.inferTablature=function(d,h,j){var g=new ABCXJS.tablature.Infer(this,d,h);h.missingButtons={};h.invalidBasses="";for(var c=0;c<d.lines.length;c++){if(d.lines[c].staffs){var e=g.inferTabVoice(c);if(e.length>0){d.lines[c].staffs[d.tabStaffPos].voices[0]=e}}}if(h.invalidBasses.length>0){j("Baixo incompatível com o movimento do fole no(s) compasso(s): "+h.invalidBasses.substring(1,h.invalidBasses.length-1)+".")}if(h.missingButtons){for(var a in h.missingButtons){j('Nota "'+a+'" não disponível no(s) compasso(s): '+h.missingButtons[a].join(", ")+".")}}delete h.missingButtons;delete h.invalidBasses};ABCXJS.tablature.Accordion.prototype.parseTabVoice=function(d,c){var a=new ABCXJS.tablature.Parse(this,d,c);return a.parseTabVoice()};ABCXJS.tablature.Accordion.prototype.setTabLine=function(a){this.tabLines[this.tabLines.length]=a.trim()};ABCXJS.tablature.Accordion.prototype.getTabLines=function(){var c="";if(this.tabLines.length===0){return c}for(var a=0;a<this.tabLines.length;a++){if(this.tabLines[a].length>0){c+=this.tabLines[a]+"\n"}}this.tabLines=[];return c};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.tablature){window.ABCXJS.tablature={}}ABCXJS.tablature.Parse=function(a,d,c){this.accordion=a;this.invalid=false;this.finished=false;this.line=d;this.vars=c||{};this.bassNoteSyms="abcdefgABCDEFG>xz";this.trebNoteSyms="0123456789abcdefABCDEF>xz";this.durSyms="0123456789/.";this.belSyms="+-";this.barSyms=":]|[";this.accSyms="♭♯m";this.i=0;this.xi=0;this.offset=8.9;this.warn=function(h){var g=this.line.charAt(this.i);if(g===" "){g="SPACE"}var e=this.encode(this.line.substring(0,this.i))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+g+"</span>"+this.encode(this.line.substring(this.i+1));this.addWarning("Music Line:"+0+":"+(this.i+1)+": "+h+": "+e)};this.addWarning=function(e){if(!this.vars.warnings){this.vars.warnings=[]}this.vars.warnings.push(e)};this.encode=function(g){var e=window.ABCXJS.parse.gsub(g,"\x12"," ");e=window.ABCXJS.parse.gsub(e,"&","&amp;");e=window.ABCXJS.parse.gsub(e,"<","&lt;");return window.ABCXJS.parse.gsub(e,">","&gt;")}};ABCXJS.tablature.Parse.prototype.parseTabVoice=function(){var c=[];this.i=0;var a={el_type:"unrecognized"};while(this.i<this.line.length&&!this.finished){a=this.getToken();switch(a.el_type){case"bar":a.startChar=this.xi;a.endChar=this.i-1;if(!this.invalid){c[c.length]=a}this.vars.lastBarElem=a;break;case"note":if(this.vars.lastBarElem&&this.vars.lastBarElem.barNumber===undefined){this.vars.lastBarElem.barNumber=this.vars.currentVoice.currBarNumber++}if(!this.invalid){c[c.length]=this.formatChild(a)}break;case"comment":case"unrecognized":default:break}}return c};ABCXJS.tablature.Parse.prototype.formatChild=function(e){var c={el_type:e.el_type,startChar:this.xi,endChar:this.i-1,pitches:[],duration:e.duration*this.vars.default_length,bellows:e.bellows};var h=18;var k="tabText";if(e.bassNote.length>1){h=21.3;k="tabText2"}for(var l=0;l<e.bassNote.length;++l){if(e.bassNote[l]==="x"){this.registerMissingNote(this.vars.lastBarElem.barNumber)}if(!this.checkBassButton(e.bellows,e.bassNote[l])){this.registerInvalidBass(this.vars.lastBarElem.barNumber)}if(e.bassNote[l]==="z"){c.pitches[l]={bass:true,type:"rest",c:"scripts.tabrest",pitch:0.7+h-(l*3)}}else{c.pitches[l]={bass:true,type:k,c:this.getTabSymbol(e.bassNote[l]),pitch:h-(l*3)-0.5}}}var m=e.buttons.length;for(var j=0;j<e.buttons.length;j++){var d=c.pitches.length;if(e.buttons[j]==="x"){this.registerMissingNote(this.vars.lastBarElem.barNumber)}if(e.buttons[j]==="z"){c.pitches[d]={type:"rest",c:"scripts.tabrest",pitch:e.bellows==="+"?13.2:13.2-this.offset}}else{var g=(m>=3?-(this.offset-(2.8*(m-2))):-this.offset);
var a=(m===1?11.7:13.4-(j*2.8))+(e.bellows==="+"?0:g);c.pitches[d]={c:this.getTabSymbol(e.buttons[j]),type:"tabText"+(m>1?"2":""),pitch:a}}}if(e.startTriplet){c.startTriplet=e.startTriplet}if(e.endTriplet){c.endTriplet=e.endTriplet}return c};ABCXJS.tablature.Parse.prototype.getTabSymbol=function(a){switch(a){case">":return"scripts.rarrow";default:return a}};ABCXJS.tablature.Parse.prototype.getToken=function(){this.invalid=false;this.parseMultiCharToken(" \t");this.xi=this.i;switch(this.line.charAt(this.i)){case"%":this.finished=true;return{el_type:"comment",token:this.line.substr(this.i+1)};case"|":case":":return this.getBarLine();case"[":if(this.line.charAt(this.i+1)==="|"){return this.getBarLine()}default:return this.getColumn()}};ABCXJS.tablature.Parse.prototype.parseMultiCharToken=function(a){while(this.i<this.line.length&&a.indexOf(this.line.charAt(this.i))>=0){this.i++}};ABCXJS.tablature.Parse.prototype.getBarLine=function(){var c="1234567890,";var a={"|":"bar_thin","||":"bar_thin_thin","[|":"bar_thick_thin","|]":"bar_thin_thick",":|:":"bar_dbl_repeat",":||:":"bar_dbl_repeat","::":"bar_dbl_repeat","|:":"bar_left_repeat","||:":"bar_left_repeat","[|:":"bar_left_repeat",":|":"bar_right_repeat",":||":"bar_right_repeat",":|]":"bar_right_repeat"};if(this.triplet){this.triplet=false;this.warn("Expected triplet end but found "+this.line.charAt(this.i))}var e={el_type:"bar",type:"bar",token:undefined};var g=this.i;this.parseMultiCharToken(this.barSyms);e.token=this.line.substr(g,this.i-g);this.finished=this.i>=this.line.length;var d=0;f=e.token.length;while(e.token.charAt(d)===":"){++d}while(e.token.charAt(f-1)===":"){--f}e.repeat=(d>f)?2:d+1;e.type=a[(d>f)?e.token:e.token.substring(d-1,f+1)];this.invalid=!e.type;if(!this.invalid){this.parseMultiCharToken(" \t");if(this.vars.inEnding){e.endDrawEnding=true;if(e.type!=="bar_thin"){e.endEnding=true;this.vars.inEnding=false}}if((!this.finished)&&c.indexOf(this.line.charAt(this.i))>=0){e.startEnding=this.line.charAt(this.i);if(this.vars.inEnding){e.endDrawEnding=true;e.endEnding=true}this.vars.inEnding=true;this.i++}}return e};ABCXJS.tablature.Parse.prototype.getColumn=function(){var c={el_type:"note",type:"note",bassNote:undefined,bellows:"",buttons:[],duration:1};c.bassNote=[];if(this.line.charAt(this.i)==="("){var a=this.getTripletDef();if(a){c.startTriplet=a;this.triplet=true}}while(this.belSyms.indexOf(this.line.charAt(this.i))<0){c.bassNote[c.bassNote.length]=this.getBassNote()}c.bellows=this.getBelows();c.buttons=this.getNote();c.duration=this.getDuration();if(this.isTripletEnd()){c.endTriplet=true}this.finished=this.i>=this.line.length;return c};ABCXJS.tablature.Parse.prototype.checkBassButton=function(d,a){var h=this.accordion.loadedKeyboard;if(!h||a===undefined||(".>.x.z.").indexOf(a)>0){return true}var k=h.parseNote(a.replace("m",":m"),true);for(var c=h.keyMap.length;c>h.keyMap.length-2;c--){for(var e=0;e<h.keyMap[c-1].length;e++){var g=h.keyMap[c-1][e];if(d==="+"){if(g.closeNote.key===k.key){return g}}else{if(g.openNote.key===k.key){return g}}}}return false};ABCXJS.tablature.Parse.prototype.getTripletDef=function(){var c=++this.i;while(this.i<this.line.length&&this.bassNoteSyms.indexOf(this.line.charAt(this.i))<0&&this.belSyms.indexOf(this.line.charAt(this.i))<0){this.i++}if(this.i>=this.line.length){this.warn("Triplet definition not found at "+this.line.substr(c));return null}var a=this.line.substr(c,this.i-c).trim();var g=/\[([0-9])(:{1,2}([0-9]){0,1})*\]/;var d=("["+a+"]").match(g);if(!d||!d[1]){this.warn("Invalid triplet definition at "+this.line.substr(c));return null}return{num:d[1],notes:d[3]?d[3]:d[1]}};ABCXJS.tablature.Parse.prototype.isTripletEnd=function(){this.parseMultiCharToken(" \t");if(this.line.charAt(this.i)===")"){this.i++;if(this.triplet){this.triplet=false;return true}else{this.warn("Found triplet end with no beginning."+this.line.substr(this.i-1));return false}}return false};ABCXJS.tablature.Parse.prototype.getBassNote=function(){var a="";if(this.bassNoteSyms.indexOf(this.line.charAt(this.i))<0){this.warn("Expected Bass Note but found "+this.line.charAt(this.i));this.i++}else{a=this.line.charAt(this.i);this.i++;if(this.accSyms.indexOf(this.line.charAt(this.i))>=0){a+=this.line.charAt(this.i);this.i++}}return a};ABCXJS.tablature.Parse.prototype.getDuration=function(){var dur=1;var p=this.i;this.parseMultiCharToken(this.durSyms);if(p!==this.i){dur=this.line.substr(p,this.i-p);if(isNaN(eval(dur))){this.warn("Expected numeric or fractional note duration, but found "+dur)}else{dur=eval(dur)}}return dur};ABCXJS.tablature.Parse.prototype.getBelows=function(){if(this.belSyms.indexOf(this.line.charAt(this.i))<0){this.warn("Expected belows information, but found "+this.line.charAt(this.i));this.invalid=true;return"+"}else{this.i++;return this.line.charAt(this.i-1)}};ABCXJS.tablature.Parse.prototype.getNote=function(){var a=[];switch(this.line.charAt(this.i)){case"[":this.i++;a=this.getChord();break;default:a[a.length]=this.getButton()}return a};ABCXJS.tablature.Parse.prototype.getChord=function(c){var a=[];while(this.i<this.line.length&&this.line.charAt(this.i)!=="]"){a[a.length]=this.getButton()}if(this.line.charAt(this.i)!=="]"){this.warn("Expected end of chord - ']'");this.invalid=true}else{this.i++}return a};ABCXJS.tablature.Parse.prototype.getButton=function(){var e="x";var d="";if(this.trebNoteSyms.indexOf(this.line.charAt(this.i))<0){this.warn("Expected button number, but found "+this.line.charAt(this.i))}else{e=this.line.charAt(this.i);switch(e){case">":case"x":case"z":break;default:e=isNaN(parseInt(e,16))?"x":parseInt(e,16).toString()}}this.i++;var a=this.i;this.parseMultiCharToken("'");if(a!==this.i){d=this.line.substr(a,this.i-a)}return e+d};ABCXJS.tablature.Parse.prototype.registerMissingNote=function(a){if(!this.vars.missingNotes){this.vars.missingNotes=","}if(this.vars.missingNotes.indexOf(""+a)<0){this.vars.missingNotes+=a+","}};ABCXJS.tablature.Parse.prototype.registerInvalidBass=function(a){if(!this.vars.InvalidBass){this.vars.InvalidBass=","}if(this.vars.InvalidBass.indexOf(""+a)<0){this.vars.InvalidBass+=a+","}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.tablature){window.ABCXJS.tablature={}}ABCXJS.tablature.Infer=function(c,d,e){this.offset=8.9;this.multiplier=1;this.accordion=c;this.vars=e||{};this.tune=d;this.count=0;this.closing=this.tune.formatting.tabInferenceOpts>0?true:false;if(this.tune.lines&&this.tune.lines[0].staffs&&this.tune.lines[0].staffs[0].meter&&this.tune.lines[0].staffs[0].meter.type==="specified"){var a=this.tune.lines[0].staffs[0].meter.value[0];this.limit=a.num/a.den}else{this.limit=1}this.limit=this.limit*Math.abs(this.tune.formatting.tabInferenceOpts);this.reset();this.transposeTab=d.lines[0].staffs[d.tabStaffPos].clef.transpose||0;this.addWarning=function(g){if(!this.vars.warnings){this.vars.warnings=[]}this.vars.warnings.push(g)};this.barTypes={bar:"|",bar_thin:"|",bar_thin_thin:"||",bar_thick_thin:"[|",bar_thin_thick:"|]",bar_dbl_repeat:":|:",bar_left_repeat:"|:",bar_right_repeat:":|"}
};ABCXJS.tablature.Infer.prototype.reset=function(){this.tuneCurrLine=0;this.voice=[];this.bassBarAcc=[];this.trebBarAcc=[];this.producedLine="";this.lastButton=-1;this.currInterval=1;this.alertedMissSync=false};ABCXJS.tablature.Infer.prototype.inferTabVoice=function(m){if(this.tune.tabStaffPos<1||!this.tune.lines[m].staffs){return}this.reset();this.tuneCurrLine=m;var g=[];var a=this.tune.lines[this.tuneCurrLine].staffs[0];var k=a.voices;this.accTrebKey=a.key.accidentals;for(var e=0;e<k.length;e++){g.push({voz:k[e],pos:-1,st:"waiting for data",bass:false,wi:{},ties:[]})}if(this.tune.tabStaffPos===2){var d=this.tune.lines[this.tuneCurrLine].staffs[1];if(d){var h=d.voices;this.accBassKey=d.key.accidentals;for(var e=0;e<h.length;e++){g.push({voz:h[e],pos:-1,st:"waiting for data",bass:true,wi:{},ties:[]})}}else{this.addWarning("Possível falta da definição da linha de baixos.")}}var l=1;while(l>0){l=0;for(var c=0;c<g.length;c++){l=Math.max(this.read(g,c),l)}for(var c=0;c<g.length-1;c++){if(g[c].st!==g[c+1].st&&!this.alertedMissSync){this.addWarning("Possível falta de sincronismo no compasso "+this.currInterval+".");c=g.length;this.alertedMissSync=true}}switch(l){case 1:var e=0;while(e<g.length){if(g[e].wi.el_type&&g[e].wi.el_type==="bar"){this.addTABChild(ABCXJS.parse.clone(g[e].wi),m);e=g.length}else{e++}}for(var e=0;e<g.length;e++){if(g[e].st!=="closed"){g[e].st="waiting for data"}}this.bassBarAcc=[];this.trebBarAcc=[];break;case 2:this.addTABChild(this.extraiIntervalo(g),m);break}}this.accordion.setTabLine(this.producedLine);this.vars.iChar+=this.producedLine.length;return this.voice};ABCXJS.tablature.Infer.prototype.read=function(a,c){var d=a[c];switch(d.st){case"waiting for data":d.pos++;break;case"waiting end of interval":return 1;break;case"closed":return 0;break;case"processing":return 2;break}while(d.voz[d.pos]&&d.pos<d.voz.length&&(d.voz[d.pos].direction||d.voz[d.pos].title||d.voz[d.pos].root)){if(d.voz[d.pos].el_type==="key"){if(d.bass){this.accBassKey=d.voz[d.pos].accidentals}else{this.accTrebKey=d.voz[d.pos].accidentals}}d.pos++}if(d.pos<d.voz.length){d.wi=ABCXJS.parse.clone(d.voz[d.pos]);if(d.wi.barNumber&&d.wi.barNumber!==this.currInterval&&c===0){this.currInterval=d.wi.barNumber}if(d.wi.startTriplet){d.triplet=true;this.startTriplet=d.wi.startTriplet;this.multiplier=this.startTriplet.num===2?1.5:(this.startTriplet.num-1)/this.startTriplet.num}this.checkTies(d);d.st=(d.wi.el_type&&d.wi.el_type==="bar")?"waiting end of interval":"processing";return(d.wi.el_type&&d.wi.el_type==="bar")?1:2}else{d.st="closed";return 0}};ABCXJS.tablature.Infer.prototype.extraiIntervalo=function(g){var l=100;for(var e=0;e<g.length;e++){if(g[e].st==="processing"&&g[e].wi.duration&&g[e].wi.duration>0&&g[e].wi.duration*(g[e].triplet?this.multiplier:1)<l){l=g[e].wi.duration*(g[e].triplet?this.multiplier:1)}}var a={el_type:"note",duration:Number((l/this.multiplier).toFixed(5)),startChar:0,endChar:0,line:0,pitches:[],bassNote:[]};for(var e=0;e<g.length;e++){if(g[e].st!=="processing"){continue}var c=g[e].wi;if(c.rest){switch(c.rest.type){case"rest":if(g[e].bass){a.bassNote[a.bassNote.length]=ABCXJS.parse.clone(c.rest)}else{a.pitches[a.pitches.length]=ABCXJS.parse.clone(c.rest)}break;case"invisible":case"spacer":break}}else{if(c.pitches){ABCXJS.write.sortPitch(c.pitches);if(g[e].bass){var m=[];for(var d=0;d<c.pitches.length;d++){var h=this.accordion.getNoteName(c.pitches[d],this.accBassKey,this.bassBarAcc,true);m[d]=h.value+h.octave*12}var k=this.determineBassChord(m);if(k.isChord){c.pitches[0].pitch=c.pitches[k.inversion].pitch;c.pitches[0].verticalPos=c.pitches[k.inversion].verticalPos;c.pitches[0].chord=k.isChord;c.pitches[0].minor=k.isMinor;c.pitches.splice(1,c.pitches.length-1)}a.bassNote[a.bassNote.length]=ABCXJS.parse.clone(c.pitches[0])}else{for(var d=0;d<c.pitches.length;d++){a.pitches[a.pitches.length]=ABCXJS.parse.clone(c.pitches[d])}}}}this.setTies(g[e]);if(g[e].wi.duration){g[e].wi.duration-=l/(g[e].triplet?this.multiplier:1);if(g[e].wi.duration<=0.0001){g[e].st="waiting for data"}else{if(g[e].wi.pitches){for(var d=0;d<g[e].wi.pitches.length;d++){g[e].wi.pitches[d].inTie=true}}}}}for(var e=0;e<g.length;e++){var c=g[e];if(c.wi.endTriplet&&g[e].wi.duration<=0.0001){this.endTriplet=true;c.triplet=false;this.multiplier=1}}if(a.pitches.length===0&&a.bassNote.length===0){a.pitches[0]={type:"rest",c:"scripts.tabrest"}}return a};ABCXJS.tablature.Infer.prototype.determineBassChord=function(d){var a={isChord:false,isMinor:false,inversion:0};var c={"043":{isMinor:false,inversion:0},"034":{isMinor:true,inversion:0},"035":{isMinor:false,inversion:2},"045":{isMinor:true,inversion:2},"054":{isMinor:false,inversion:1},"053":{isMinor:true,inversion:1}};switch(d.length){case 1:break;case 2:this.addWarning("Acorde não reconhecido: 0"+(d[1]-d[0])+".");break;case 3:var h="0"+(d[1]-d[0])+(d[2]-d[1]);try{a={isChord:true,isMinor:c[h].isMinor,inversion:c[h].inversion}}catch(g){this.addWarning("Acorde não reconhecido: "+h+".")}break;default:this.addWarning("Acorde com mais de 3 notas não é suportado.");break}return a};ABCXJS.tablature.Infer.prototype.setTies=function(c){if(c.wi.el_type&&c.wi.el_type==="note"&&c.wi.pitches){for(var a=0;a<c.wi.pitches.length;a++){if(c.wi.pitches[a].tie){if(c.wi.pitches[a].tie.id_end){c.ties[c.wi.pitches[a].tie.id_end]=false}if(c.wi.pitches[a].tie.id_start){c.ties[c.wi.pitches[a].tie.id_start]=100+c.wi.pitches[a].pitch}}}}};ABCXJS.tablature.Infer.prototype.checkTies=function(e){if(e.wi.el_type&&e.wi.el_type==="note"&&e.wi.pitches){for(var c=1;c<e.ties.length;c++){var d=false;for(var a=0;a<e.wi.pitches.length;a++){d=d||(100+e.wi.pitches[a].pitch===e.ties[c])}if(!d&&e.ties[c]){e.wi.pitches.push({pitch:e.ties[c],verticalPos:e.ties[c],inTie:true})}}for(var a=0;a<e.wi.pitches.length;a++){if(e.wi.pitches[a].tie){if(e.wi.pitches[a].tie.id_end){e.wi.pitches[a].inTie=true}}}}};ABCXJS.tablature.Infer.prototype.addTABChild=function(l,o){var r=this.producedLine.length;if(l.el_type!=="note"){var s=0;if(this.barTypes[l.type]){s=this.registerLine((l.repeat>2?":".repeat(l.repeat-2):"")+this.barTypes[l.type]+(l.startEnding?l.startEnding:"")+" ")}else{throw new Error("ABCXJS.tablature.Infer.prototype.addTABChild(token_type): "+l.type)}this.add(l,r,s-1,o);return}var k={el_type:l.el_type,startChar:0,endChar:0,line:0,pitches:[],duration:l.duration,bellows:""};var z=l.bassNote.length>0;var e=l.pitches;var m=true;var p=true;var x=true;var j=true;var g=false;var v=e.length;if(this.startTriplet){k.startTriplet=this.startTriplet;this.startTriplet=false;this.registerLine("("+k.startTriplet.num+"::"+k.startTriplet.notes+" ")}if(this.endTriplet){k.endTriplet=true;this.endTriplet=false}var h=(v>=3?-(this.offset-(2.8*(v-2))):-this.offset);var q=18;var a="tabText";if(l.bassNote.length>1){q=21.3;a="tabText2";ABCXJS.write.sortPitch(l.bassNote)}for(var y=0;y<l.bassNote.length;++y){g=(l.bassNote[y].inTie||g);switch(l.bassNote[y].type){case"rest":case"invisible":case"spacer":k.pitches[y]={bass:true,type:l.bassNote[y].type,c:"scripts.tabrest",pitch:0.7+q-(y*3)};
this.registerLine("z");break;default:var u={bass:true,type:a,c:"",pitch:q-(y*3)-0.5,inTie:l.bassNote[y].inTie||false};var d=this.accordion.getNoteName(l.bassNote[y],this.accBassKey,this.bassBarAcc,true);u.buttons=this.accordion.loadedKeyboard.getButtons(d);j=j?typeof(u.buttons.open)!=="undefined":false;x=x?typeof(u.buttons.close)!=="undefined":false;u.note=d.key+(d.isMinor?"m":"");u.c=(u.buttons.close||u.buttons.open)?(u.inTie?"scripts.rarrow":u.note):"x";k.pitches[y]=u;this.registerLine(k.pitches[y].c==="scripts.rarrow"?">":k.pitches[y].c)}}for(var w=0;w<e.length;w++){var u=e[w];g=(u.inTie||g);switch(u.type){case"invisible":case"spacer":case"rest":u.c="scripts.tabrest";u.pitch=13.2;break;default:var d=this.accordion.getNoteName(u,this.accTrebKey,this.trebBarAcc,false);if(this.transposeTab){switch(this.transposeTab){case 8:d.octave++;break;case -8:d.octave--;break;default:this.addWarning("Possível transpor a tablatura uma oitava acima ou abaixo +/-8. Ignorando transpose.")}}u.buttons=this.accordion.loadedKeyboard.getButtons(d);u.note=d.key+d.octave;u.c=(u.buttons.close||u.buttons.open)?(u.inTie?"scripts.rarrow":u.note):"x";u.pitch=(v===1?11.7:13.4-(w*2.8));u.type="tabText"+(v>1?2:"");m=m?typeof(u.buttons.open)!=="undefined":false;p=p?typeof(u.buttons.close)!=="undefined":false}k.pitches[k.pitches.length]=u}if(g){this.count+=k.duration}else{if((this.closing&&x&&p)||(!this.closing&&j&&m)){if(this.count<this.limit){this.count+=k.duration}else{if((!this.closing&&x&&p)||(this.closing&&j&&m)){this.count=k.duration;this.closing=!this.closing}else{this.count+=k.duration}}}else{if((!this.closing&&x&&p)||(this.closing&&j&&m)){this.count=k.duration;this.closing=!this.closing}else{if((this.closing&&((z&&x)||p))||(!this.closing&&((z&&j)||m))){this.count+=k.duration}else{if((!this.closing&&((z&&x)||p))||(this.closing&&((z&&j)||m))){if(this.count<this.limit){this.count+=k.duration}else{if((!this.closing&&(z&&x)&&p)||(this.closing&&(z&&j)&&m)){this.count=k.duration;this.closing=!this.closing}else{this.count+=k.duration}}}}}}}if((x||j)&&((this.closing&&!x)||(!this.closing&&!j))){this.registerInvalidBass()}k.bellows=this.closing?"+":"-";this.registerLine(k.bellows);this.registerLine(v>1?"[":"");e=k.pitches;for(var w=0;w<e.length;w++){var u=e[w];if(!u.bass){if(!this.closing){u.pitch+=h}switch(u.type){case"rest":case"invisible":case"spacer":this.registerLine("z");break;default:if(u.inTie){this.registerLine((u.buttons.close||u.buttons.open)?">":"x")}else{u.c=this.elegeBotao(this.closing?u.buttons.close:u.buttons.open);this.registerLine(this.button2Hex(u.c));if(u.c==="x"){this.registerMissingButton(u)}}}}else{if(u.c==="x"){this.registerMissingButton(u)}}}var t=k.duration/this.vars.default_length;var s=this.registerLine((v>1?"]":"")+(t!==1?t.toString():"")+" ");if(k.endTriplet){this.registerLine(") ")}this.add(k,r,s-1,o)};ABCXJS.tablature.Infer.prototype.registerInvalidBass=function(){var a=parseInt(this.currInterval);if(!this.vars.invalidBasses){this.vars.invalidBasses=","}if(this.vars.invalidBasses.indexOf(","+a+",")<0){this.vars.invalidBasses+=a+","}};ABCXJS.tablature.Infer.prototype.registerMissingButton=function(d){if(!this.vars.missingButtons[d.note]){this.vars.missingButtons[d.note]=[]}var c=parseInt(this.currInterval);for(var a=0;a<this.vars.missingButtons[d.note].length;a++){if(this.vars.missingButtons[d.note][a]===c){return}}this.vars.missingButtons[d.note].push(c)};ABCXJS.tablature.Infer.prototype.registerLine=function(a){this.producedLine+=a;return this.producedLine.length};ABCXJS.tablature.Infer.prototype.add=function(e,c,d,a){if(ABCXJS.math.isNumber(a)&&ABCXJS.math.isNumber(c)&&ABCXJS.math.isNumber(d)){e.position={anchor:{line:a,ch:c},head:{line:a,ch:d}}}this.voice.push(e)};ABCXJS.tablature.Infer.prototype.button2Hex=function(a){if(a==="x"){return a}var c=parseInt(isNaN(a.substr(0,2))||a.length===1?1:2);var d=a.substr(0,c);return(+d).toString(16)+a.substr(c)};ABCXJS.tablature.Infer.prototype.elegeBotao=function(k){if(typeof(k)==="undefined"){return"x"}var c=k[0];var g,e,j=c.indexOf("'");if(j>=0){g=c.substr(0,j);e=c.length-j}else{g=parseInt(c);e=0}var h=Math.abs((e>1?g+12:g)-this.lastButton);for(var d=1;d<k.length;d++){j=k[d].indexOf("'");if(j>=0){g=k[d].substr(0,j);e=k[d].length-j}else{g=parseInt(k[d]);e=0}if(Math.abs((e>1?g+12:g)-this.lastButton)<h){c=k[d];h=Math.abs((e>1?g+12:g)-this.lastButton)}}this.lastButton=parseInt(isNaN(c.substr(0,2))?c.substr(0,1):c.substr(0,2));return c};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.tablature){window.ABCXJS.tablature={}}ABCXJS.tablature.Layout=function(g,c,a,d,e){this.pos=0;this.voice={};this.currvoice=[];this.tuneCurrVoice=g;this.tuneCurrStaff=c;this.abcstaff=a;this.glyphs=d;this.restsInTab=e;this.tripletmultiplier=1};ABCXJS.tablature.Layout.prototype.getElem=function(){if(this.currVoice.length<=this.pos){return null}return this.currVoice[this.pos]};ABCXJS.tablature.Layout.prototype.isFirstVoice=function(){return this.currVoice.firstVoice||false};ABCXJS.tablature.Layout.prototype.isLastVoice=function(){return this.currVoice.lastVoice||false};ABCXJS.tablature.Layout.prototype.printTABVoice=function(a){this.layoutJumpDecorationItem=a;this.currVoice=this.abcstaff.voices[this.tuneCurrVoice];this.voice=new ABCXJS.write.VoiceElement(this.tuneCurrVoice,this.tuneCurrStaff,this.abcstaff);this.voice.addChild(this.printClef(this.abcstaff.clef));this.voice.addChild(new ABCXJS.write.AbsoluteElement(this.abcstaff.key,0,10));(this.abcstaff.meter)&&this.voice.addChild(this.printTablatureSignature(this.abcstaff.meter));for(this.pos=0;this.pos<this.currVoice.length;this.pos++){var c=this.printTABElement();for(i=0;i<c.length;i++){this.voice.addChild(c[i])}}return this.voice};ABCXJS.tablature.Layout.prototype.printTABElement=function(){var d=[];var c=this.getElem();switch(c.el_type){case"note":d[0]=this.printTabNote(c);break;case"bar":d[0]=this.printBarLine(c);if(this.voice.duplicate){d[0].invisible=true}break;default:var a=new ABCXJS.write.AbsoluteElement(c,0,0);a.addChild(new ABCXJS.write.RelativeElement("element type "+c.el_type,0,0,0,{type:"debug"}));d[0]=a}return d};ABCXJS.tablature.Layout.prototype.printTabNote=function(e){var a,d;if(e.startTriplet){this.tripletmultiplier=e.startTriplet.num===2?1.5:(e.startTriplet.num-1)/e.startTriplet.num}var g=ABCXJS.write.getDuration(e);if(g===0){g=0.25}var c=ABCXJS.write.getDurlog(g);var l=new ABCXJS.write.AbsoluteElement(e,g*this.tripletmultiplier,1);var j=0;var h=true;for(a=0,d=e.pitches.length;a<d;a++){j+=e.pitches[a].verticalPos;h=(e.pitches[a].type==="rest"&&h)}e.averagepitch=j/e.pitches.length;e.minpitch=e.pitches[0].verticalPos;e.maxpitch=e.pitches[e.pitches.length-1].verticalPos;for(a=0;a<e.pitches.length;a++){var m=e.pitches[a];var k=new ABCXJS.write.RelativeElement(null,0,0,m.pitch);if(m.type==="rest"){k.type="symbol";if(this.restsInTab||(h&&a===(e.pitches.length-1))){k.c="scripts.tabrest"}else{k.c=""}}else{k.c=m.c.replace("m","-");k.note=m.note;k.type=m.type}l.addHead(k)}if(e.endTriplet){this.tripletmultiplier=1
}return l};ABCXJS.tablature.Layout.prototype.printClef=function(d){var e="clefs.tab";var a=8;var c=new ABCXJS.write.AbsoluteElement(d,0,10);c.addRight(new ABCXJS.write.RelativeElement(e,a,this.glyphs.getSymbolWidth(e),d.clefPos));return c};ABCXJS.tablature.Layout.prototype.printTablatureSignature=function(d){var c=new ABCXJS.write.AbsoluteElement(d,0,20);var a=2;c.addRight(new ABCXJS.write.RelativeElement("Bass",a,15,17.5,{type:"tabText"}));c.addRight(new ABCXJS.write.RelativeElement(">><<",a,15,10.8,{type:"tabText"}));c.addRight(new ABCXJS.write.RelativeElement("<<>>",a,15,3.7,{type:"tabText"}));this.startlimitelem=c;return c};ABCXJS.tablature.Layout.prototype.printBarLine=function(e){var g=19.5;var p=10.5;var r=new ABCXJS.write.AbsoluteElement(e,0,10);var k=null;var s=0;var c=(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat");var l=(e.type!=="bar_left_repeat"&&e.type!=="bar_thick_thin"&&e.type!=="bar_invisible");var m=(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat"||e.type==="bar_left_repeat"||e.type==="bar_thin_thick"||e.type==="bar_thick_thin");var o=(e.type==="bar_left_repeat"||e.type==="bar_thick_thin"||e.type==="bar_thin_thin"||e.type==="bar_dbl_repeat");var d=(e.type==="bar_left_repeat"||e.type==="bar_dbl_repeat");if(c||d){for(var q in this.slurs){if(this.slurs.hasOwnProperty(q)){this.slurs[q].endlimitelem=r}}this.startlimitelem=r}if(c){r.addRight(new ABCXJS.write.RelativeElement("dots.dot",s,1,p+2));r.addRight(new ABCXJS.write.RelativeElement("dots.dot",s,1,p));s+=6}if(l){k=new ABCXJS.write.RelativeElement(null,s,1,0,{type:"bar",pitch2:g,linewidth:0.6});r.addRight(k)}if(e.type==="bar_invisible"||e.endDrawEnding){k=new ABCXJS.write.RelativeElement(null,s,1,0,{type:"none",pitch2:g,linewidth:0.6});r.addRight(k)}if(e.decoration){}if(e.jumpDecoration){for(var h=0;h<e.jumpDecoration.length;h++){if((e.jumpDecoration[h].upper&&this.isFirstVoice())||(!e.jumpDecoration[h].upper&&this.isLastVoice())){var a=e.jumpDecoration[h].upper?12:-4;r.addRight(this.layoutJumpDecorationItem(e.jumpDecoration[h],a))}}}if(m){s+=4;k=new ABCXJS.write.RelativeElement(null,s,4,0,{type:"bar",pitch2:g,linewidth:4});r.addRight(k);s+=5}if(this.partstartelem&&e.endDrawEnding){if(e.endDrawEnding){this.partstartelem.anchor2=k}if(e.endEnding){this.partstartelem=null}}if(o){s+=3;k=new ABCXJS.write.RelativeElement(null,s,1,0,{type:"bar",pitch2:g,linewidth:0.6});r.addRight(k)}if(d){s+=3;r.addRight(new ABCXJS.write.RelativeElement("dots.dot",s,1,p+2));r.addRight(new ABCXJS.write.RelativeElement("dots.dot",s,1,p))}if(e.startEnding){this.partstartelem=new ABCXJS.write.EndingElem(e.startEnding,k,null);this.voice.addOther(this.partstartelem)}return r};