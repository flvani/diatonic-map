if(!window.ABCXJS){window.ABCXJS={}}(function(){ABCXJS.numberOfTunes=function(e){var c=e.split("\nX:");var d=c.length;if(d===0){d=1}return d};ABCXJS.TuneBook=function(e){var j=this;var h="";e=window.ABCXJS.parse.strip(e);var c=e.split("\nX:");for(var g=1;g<c.length;g++){c[g]="X:"+c[g]}var k=0;j.tunes=[];window.ABCXJS.parse.each(c,function(l){j.tunes.push({abc:l,startPos:k});k+=l.length});if(j.tunes.length>1&&!window.ABCXJS.parse.startsWith(j.tunes[0].abc,"X:")){var d=j.tunes.shift();var f=d.abc.split("\n");window.ABCXJS.parse.each(f,function(l){if(window.ABCXJS.parse.startsWith(l,"%%")){h+=l+"\n"}})}j.header=h;window.ABCXJS.parse.each(j.tunes,function(o){var m=o.abc.indexOf("\n\n");if(m>0){o.abc=o.abc.substring(0,m)}o.pure=o.abc;o.abc=h+o.abc;var p=o.pure.split("T:");if(p.length>1){p=p[1].split("\n");o.title=p[0].replace(/^\s+|\s+$/g,"")}else{o.title=""}var s=o.pure.split("C:");o.composer="";for(var r=1;r<s.length;r++){var l=s[r].split("\n");o.composer+=(r>1?"<br>":"")+l[0].replace(/^\s+|\s+$/g,"")}var q=o.pure.substring(2,o.pure.indexOf("\n"));o.id=q.replace(/^\s+|\s+$/g,"")})};ABCXJS.TuneBook.prototype.getTuneById=function(d){for(var c=0;c<this.tunes.length;c++){if(this.tunes[c].id===d){return this.tunes[c]}}return null};ABCXJS.TuneBook.prototype.getTuneByTitle=function(d){for(var c=0;c<this.tunes.length;c++){if(this.tunes[c].title===d){return this.tunes[c]}}return null};function a(p,f,o,m,e){var l=function(q){return q&&!(q.propertyIsEnumerable("length"))&&typeof q==="object"&&typeof q.length==="number"};if(f===undefined||o===undefined){return}if(!l(f)){f=[f]}if(m===undefined){m={}}if(e===undefined){e={}}var h=e.startingTune?e.startingTune:0;var g=new ABCXJS.TuneBook(o);var d=new window.ABCXJS.parse.Parse();for(var j=0;j<f.length;j++){var c=f[j];if(typeof(c)==="string"){c=document.getElementById(c)}if(c){c.innerHTML="";if(h<g.tunes.length){d.parse(g.tunes[h].abc,m);var k=d.getTune();p(c,k)}}h++}}})();if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.data){window.ABCXJS.data={}}window.ABCXJS.data.Tune=function(){this.reset=function(){this.metaText={};this.formatting={};this.lines=[];this.media="screen";this.version="1.0.1";this.subtitle="";this.tabStaffPos=-1;this.hasTablature=false;this.staffNum=0;this.voiceNum=0;this.lineNum=0};this.setFormat=function(h){var g,l;var m=h.staffsep||0;var a=(h.papersize||"a4").toLowerCase();var e=h.landscape||false;var d=h.pagenumbering||false;var c=136.8508560545;var f=1;var j=f/2.54*c;switch(a){case"letter":g=11*c;l=8.5*c;break;case"legal":g=14*c;l=8.5*c;break;case"screen":g=16*c;l=8*c;break;case"a4":default:g=11.69*c;l=8.27*c;break}if(e){var k=g;g=l;l=k}this.formatting.usablewidth=(l-(2*j))*(e?0.82:1);this.formatting.pageratio=(g-(2*j))/(l-(2*j));if(!this.formatting.landscape){this.formatting.landscape=e}if(!this.formatting.papersize){this.formatting.papersize=a.toLowerCase()}if(!this.formatting.defaultMargin){this.formatting.defaultMargin=""+f+"cm"}if(!this.formatting.pagewidth){this.formatting.pagewidth=l}if(!this.formatting.pageheight){this.formatting.pageheight=g}if(!this.formatting.pagenumbering){this.formatting.pagenumbering=d}if(!this.formatting.staffsep){this.formatting.staffsep=m}if(!this.formatting.barsperstaff){this.formatting.barsperstaff=h.barsperstaff}if(!this.formatting.staffwidth){this.formatting.staffwidth=this.formatting.usablewidth}if(!this.formatting.tabInferenceOpts){this.formatting.tabInferenceOpts=+1}if(!this.formatting.restsInTab){this.formatting.restsInTab=false}if(!this.formatting.hideFingering){this.formatting.hideFingering=false}};this.handleBarsPerStaff=function(){function d(B,v){if(B.jumpDecoration){var e=window.ABCXJS.parse.clone(B.jumpDecoration);delete B.jumpDecoration;delete v.jumpDecoration;for(var s=0;s<e.length;s++){if((".coda.fine.dacapo.dacoda.dasegno.").indexOf("."+e[s].type+".")>=0){B.jumpDecoration=B.jumpDecoration||[];B.jumpDecoration.push(e[s])}else{v.jumpDecoration=v.jumpDecoration||[];v.jumpDecoration.push(e[s])}}}if(B.jumpPoint&&B.jumpPoint.type==="segno"){delete B.jumpInfo}if(v.jumpInfo){delete v.jumpInfo}if(v.jumpPoint&&v.jumpPoint.type!=="segno"){delete v.jumpInfo}delete B.startEnding;delete B.barNumber;delete B.barNumberVisible;switch(B.type){case"bar_dbl_repeat":case"bar_right_repeat":B.type="bar_right_repeat";break;case"bar_thin":case"bar_left_repeat":B.type="bar_thin"}delete v.endEnding;delete v.endDrawEnding;switch(v.type){case"bar_dbl_repeat":case"bar_left_repeat":v.type="bar_left_repeat";break;case"bar_thin":case"bar_right_repeat":v.type="bar_thin"}}function c(v,s){if(s===undefined){return}if(s.jumpPoint){v.jumpPoint=s.jumpPoint}if(s.jumpInfo){v.jumpInfo=s.jumpInfo}if(s.jumpDecoration){for(var e=0;e<s.jumpDecoration.length;e++){v.jumpDecoration=v.jumpDecoration||[];v.jumpDecoration.push(s.jumpDecoration[e])}}if(s.startEnding){v.startEnding=s.startEnding}if(s.barNumber){v.barNumber=s.barNumber;v.barNumberVisible=s.barNumberVisible}if(v.type==="bar_right_repeat"){v.type=s.type==="bar_left_repeat"?"bar_dbl_repeat":"bar_right_repeat"}else{v.type=s.type==="bar_left_repeat"?"bar_left_repeat":"bar_thin"}}if(!this.formatting.barsperstaff){return}var q=this.formatting.barsperstaff+1;var f=0,g;var t=0;for(var w=0;w<this.lines.length;w++){if(this.lines[w].staffs!==undefined){t=(this.lines[w+1]===undefined||this.lines[w+1].staffs!==undefined)?w+1:w+2;for(var l=0;l<this.lines[w].staffs.length;l++){for(var k=0;k<this.lines[w].staffs[l].voices.length;k++){var h=0;for(var p=0;p<this.lines[w].staffs[l].voices[k].length;p++){if(this.lines[w].staffs[l].voices[k][p].el_type==="bar"){h++;if(q===h){f=p;g=this.lines[w].staffs[l].voices[k][p].type}}if(p===this.lines[w].staffs[l].voices[k].length-1&&h<q&&w<this.lines.length-1){var j=JSON.parse(JSON.stringify(this.lines[t]));this.lines.splice(t,1);for(var r=0;r<this.lines[w].staffs.length;r++){for(var o=0;o<this.lines[w].staffs[r].voices.length;o++){var a=this.lines[w].staffs[r].voices[o];var A=j.staffs[r].voices[o].splice(1);c(a[a.length-1],j.staffs[r].voices[o][0]);this.lines[w].staffs[r].voices[o]=a.concat(A);try{var m=Math.max(this.lines[w].staffs[r].lyricsRows,this.lines[t].staffs[r].lyricsRows);this.lines[w].staffs[r].lyricsRows=m}catch(y){}}}}}var u=h-q;var x=(w===this.lines.length-1);if((!x&&u>0)||(x&&u>1)){if(x){var j=JSON.parse(JSON.stringify(this.lines[w]));this.lines.push(window.ABCXJS.parse.clone(j));for(var r=0;r<this.lines[w+1].staffs.length;r++){for(var o=0;o<this.lines[w+1].staffs[r].voices.length;o++){this.lines[t].staffs[r].voices[o]=[]}}}var a=this.lines[w].staffs[l].voices[k].slice(0,f+1);var A=this.lines[w].staffs[l].voices[k].slice(f);var z=this.lines[t].staffs[l].voices[k].slice(1);A[0]=window.ABCXJS.parse.clone(A[0]);d(a[a.length-1],A[0]);c(A[A.length-1],this.lines[t].staffs[l].voices[k][0]);this.lines[w].staffs[l].voices[k]=a;this.lines[t].staffs[l].voices[k]=A.concat(z);var m=Math.max(this.lines[w].staffs[l].lyricsRows,this.lines[t].staffs[l].lyricsRows);this.lines[t].staffs[l].lyricsRows=m}}}}}};this.checkJumpMarkers=function(k){var d=[];
for(var h=0;h<this.lines.length;h++){if(this.lines[h].staffs!==undefined){for(var p=0;p<this.lines[h].staffs.length;p++){for(var m=0;m<this.lines[h].staffs[p].voices.length;m++){d.push({el:0,sf:p,vc:m})}}break}}var o=d[0];var e=d[d.length-1];for(var h=0;h<this.lines.length;h++){if(this.lines[h].staffs!==undefined){for(var a=0;a<d.length;a++){d[a].el=0}if(!this.lines[h].staffs[o.sf]||!this.lines[h].staffs[e.sf]){continue}this.lines[h].staffs[o.sf].voices[o.vc].firstVoice=true;this.lines[h].staffs[e.sf].voices[e.vc].lastVoice=true;if(d.length<2){continue}var c=this.lines[h].staffs[o.sf].voices[o.vc];while(o.el<c.length){while(o.el<c.length&&c[o.el].el_type!=="bar"){o.el++}if(!c[o.el]||c[o.el].el_type!=="bar"){break}var j=c[o.el];o.el++;for(var m=1;m<d.length;m++){var g=d[m];var l=this.lines[h].staffs[g.sf].voices[g.vc];while(g.el<l.length&&l[g.el].el_type!=="bar"){g.el++}if(!l[g.el]||l[g.el].el_type!=="bar"){k("Line: "+(h+1)+", Staff: "+(g.sf+1)+" - Numero de barras diferente da primeira voz")}else{var f=l[g.el];g.el++;if(j.type!==f.type){k("Line: "+(h+1)+", Staff: "+(g.sf+1)+" - Ajustando tipo de barra de compasso "+j.barNumber+".");f.type=j.type}if(j.startEnding&&j.startEnding!==f.startEnding){k("Line: "+(h+1)+", Staff: "+(g.sf+1)+" - Ajustando ending do compasso "+j.barNumber+".");f.startEnding=j.startEnding}if(j.endEnding&&j.endEnding!==f.endEnding){k("Line: "+(h+1)+", Staff: "+(g.sf+1)+" - Ajustando ending do compasso "+j.barNumber+".");f.endEnding=j.endEnding}f.jumpPoint=j.jumpPoint;f.jumpInfo=j.jumpInfo;f.jumpDecoration=j.jumpDecoration}}}}}};this.cleanUp=function(){function e(C){var B=[];var z;var A=function(D,j,F){if(B[F]===undefined){for(z=0;z<B.length;z++){if(B[z]!==undefined){F=z;break}}if(B[F]===undefined){var E=F*100;window.ABCXJS.parse.each(D.endSlur,function(G){if(E===G){--E}});B[F]=[E]}}var x;for(var p=0;p<j;p++){x=B[F].pop();D.endSlur.push(x)}if(B[F].length===0){delete B[F]}return x};var t=function(D,j,E,x){D.startSlur=[];if(B[E]===undefined){B[E]=[]}var F=E*100+1;for(var p=0;p<j;p++){if(x){window.ABCXJS.parse.each(x,function(G){if(F===G){++F}});window.ABCXJS.parse.each(x,function(G){if(F===G){++F}});window.ABCXJS.parse.each(x,function(G){if(F===G){++F}})}window.ABCXJS.parse.each(B[E],function(G){if(F===G){++F}});window.ABCXJS.parse.each(B[E],function(G){if(F===G){++F}});B[E].push(F);D.startSlur.push({label:F});F++}};for(var u=0;u<C.length;u++){var o=C[u];if(o.el_type==="note"){if(o.gracenotes){for(var v=0;v<o.gracenotes.length;v++){if(o.gracenotes[v].endSlur){var w=o.gracenotes[v].endSlur;o.gracenotes[v].endSlur=[];for(var l=0;l<w;l++){A(o.gracenotes[v],1,20)}}if(o.gracenotes[v].startSlur){z=o.gracenotes[v].startSlur;t(o.gracenotes[v],z,20)}}}if(o.endSlur){z=o.endSlur;o.endSlur=[];A(o,z,0)}if(o.startSlur){z=o.startSlur;t(o,z,0)}if(o.pitches){var y=[];for(var m=0;m<o.pitches.length;m++){if(o.pitches[m].endSlur){var r=o.pitches[m].endSlur;o.pitches[m].endSlur=[];for(var s=0;s<r;s++){var q=A(o.pitches[m],1,m+1);y.push(q)}}}for(m=0;m<o.pitches.length;m++){if(o.pitches[m].startSlur){z=o.pitches[m].startSlur;t(o.pitches[m],z,m+1,y)}}if(o.gracenotes&&o.pitches[0].endSlur&&o.pitches[0].endSlur[0]===100&&o.pitches[0].startSlur){if(o.gracenotes[0].endSlur){o.gracenotes[0].endSlur.push(o.pitches[0].startSlur[0].label)}else{o.gracenotes[0].endSlur=[o.pitches[0].startSlur[0].label]}if(o.pitches[0].endSlur.length===1){delete o.pitches[0].endSlur}else{if(o.pitches[0].endSlur[0]===100){o.pitches[0].endSlur.shift()}else{if(o.pitches[0].endSlur[o.pitches[0].endSlur.length-1]===100){o.pitches[0].endSlur.pop()}}}if(B[1].length===1){delete B[1]}else{B[1].pop()}}}}}}function k(j){window.ABCXJS.parse.parseKeyVoice.fixClef(j)}this.closeLine();var a=false;var f,g,c;for(f=0;f<this.lines.length;f++){if(this.lines[f].staffs!==undefined){var h=false;for(g=0;g<this.lines[f].staffs.length;g++){if(this.lines[f].staffs[g]===undefined){a=true;this.lines[f].staffs[g]=null}else{delete this.lines[f].staffs[g].workingClef;for(c=0;c<this.lines[f].staffs[g].voices.length;c++){if(this.lines[f].staffs[g].voices[c]===undefined){this.lines[f].staffs[g].voices[c]=[]}else{if(this.containsNotes(this.lines[f].staffs[g].voices[c])){h=true}}}}}if(!h){this.lines[f]=null;a=true}}}if(a){this.lines=window.ABCXJS.parse.compact(this.lines);window.ABCXJS.parse.each(this.lines,function(j){if(j.staffs){j.staffs=window.ABCXJS.parse.compact(j.staffs)}})}for(this.lineNum=0;this.lineNum<this.lines.length;this.lineNum++){if(this.lines[this.lineNum].staffs){for(this.staffNum=0;this.staffNum<this.lines[this.lineNum].staffs.length;this.staffNum++){if(this.lines[this.lineNum].staffs[this.staffNum].clef){k(this.lines[this.lineNum].staffs[this.staffNum].clef)}for(this.voiceNum=0;this.voiceNum<this.lines[this.lineNum].staffs[this.staffNum].voices.length;this.voiceNum++){e(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]);for(var d=0;d<this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum].length;d++){if(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum][d].el_type==="clef"){k(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum][d])}}}}}}delete this.staffNum;delete this.voiceNum;delete this.lineNum;delete this.vskipPending};this.getLastNote=function(){if(this.lines[this.lineNum]&&this.lines[this.lineNum].staffs&&this.lines[this.lineNum].staffs[this.staffNum]&&this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]){for(var a=this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum].length-1;a>=0;a--){var c=this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum][a];if(c.el_type==="note"){return c}}}return null};this.addTieToLastNote=function(){var a=this.getLastNote();if(a&&a.pitches&&a.pitches.length>0){a.pitches[0].startTie={};return true}return false};this.getDuration=function(a){return a.duration?a.duration:0};this.closeLine=function(){if(this.potentialStartBeam&&this.potentialEndBeam){this.potentialStartBeam.startBeam=true;this.potentialEndBeam.endBeam=true}delete this.potentialStartBeam;delete this.potentialEndBeam};this.addPosition=function(c,a,f,d,e){if(ABCXJS.math.isNumber(c)&&ABCXJS.math.isNumber(a)&&ABCXJS.math.isNumber(f)){d.position={anchor:{line:c,ch:a},head:{line:c,ch:f}}}if(e&&e.staffNum===0&&e.index===0){d.position.selectable=true}};this.appendElement=function(j,l,m,g,a,k){var d=this;var h=function(q){if(q.pitches!==undefined){var o=d.lines[d.lineNum].staffs[d.staffNum].workingClef.verticalPos;window.ABCXJS.parse.each(q.pitches,function(r){r.verticalPos=r.pitch-o})}if(q.gracenotes!==undefined){var p=d.lines[d.lineNum].staffs[d.staffNum].workingClef.verticalPos;window.ABCXJS.parse.each(q.gracenotes,function(r){r.verticalPos=r.pitch-p})}d.lines[d.lineNum].staffs[d.staffNum].voices[d.voiceNum].push(q)};a.el_type=j;this.addPosition(l,m,g,a,k);var e=function(){d.potentialStartBeam.startBeam=true;a.endBeam=true;delete d.potentialStartBeam;delete d.potentialEndBeam};var f=function(){if(d.potentialStartBeam!==undefined&&d.potentialEndBeam!==undefined){d.potentialStartBeam.startBeam=true;
d.potentialEndBeam.endBeam=true}delete d.potentialStartBeam;delete d.potentialEndBeam};if(j==="note"){var c=d.getDuration(a);if(c>=0.25){f()}else{if(a.force_end_beam_last&&d.potentialStartBeam!==undefined){f()}else{if(a.end_beam&&d.potentialStartBeam!==undefined){if(a.rest===undefined){e()}else{f()}}else{if(a.rest===undefined){if(d.potentialStartBeam===undefined){if(!a.end_beam){d.potentialStartBeam=a;delete d.potentialEndBeam}}else{d.potentialEndBeam=a}}}}}}else{f()}delete a.end_beam;delete a.force_end_beam_last;h(a)};this.appendStartingElement=function(g,j,k,e,d){this.closeLine();var c;if(g==="key"){c=d.impliedNaturals;delete d.impliedNaturals}var a=window.ABCXJS.parse.clone(d);if(g==="clef"){this.lines[this.lineNum].staffs[this.staffNum].workingClef=a;if(a.type==="accordionTab"){this.hasTablature=true;this.tabStaffPos=this.staffNum}}if(this.lines[this.lineNum].staffs.length<=this.staffNum){waterbug.log("o que é isso?");waterbug.show();this.lines[this.lineNum].staffs[this.staffNum]={};this.lines[this.lineNum].staffs[this.staffNum].clef=window.ABCXJS.parse.clone(this.lines[this.lineNum].staffs[0].clef);this.lines[this.lineNum].staffs[this.staffNum].key=window.ABCXJS.parse.clone(this.lines[this.lineNum].staffs[0].key);this.lines[this.lineNum].staffs[this.staffNum].meter=window.ABCXJS.parse.clone(this.lines[this.lineNum].staffs[0].meter);this.lines[this.lineNum].staffs[this.staffNum].workingClef=window.ABCXJS.parse.clone(this.lines[this.lineNum].staffs[0].workingClef);this.lines[this.lineNum].staffs[this.staffNum].voices=[];this.lines[this.lineNum].staffs[this.staffNum].stem=[]}var h=this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum];for(var f=0;f<h.length;f++){if(h[f].el_type==="note"||h[f].el_type==="bar"){a.el_type=g;this.addPosition(j,k,e,a);if(c){a.accidentals=c.concat(a.accidentals)}h.push(a);return}if(h[f].el_type===g){a.el_type=g;this.addPosition(j,k,e,a);if(c){a.accidentals=c.concat(a.accidentals)}h[f]=a;return}}this.lines[this.lineNum].staffs[this.staffNum][g]=d};this.getNumLines=function(){return this.lines.length};this.pushLine=function(a){if(this.vskipPending){a.vskip=this.vskipPending;delete this.vskipPending}this.lines.push(a)};this.addSubtitle=function(a){this.subtitle=a};this.addSpacing=function(a){this.vskipPending=a};this.addNewPage=function(a){this.pushLine({newpage:a})};this.addSeparator=function(d,c,a){this.pushLine({separator:{spaceAbove:d,spaceBelow:c,lineLength:a}})};this.addText=function(a){this.pushLine({text:a})};this.addCentered=function(a){this.pushLine({text:[{text:a,center:true}]})};this.containsNotes=function(c){for(var a=0;a<c.length;a++){if(c[a].el_type==="note"||c[a].el_type==="bar"){return true}}return false};this.containsNotesStrict=function(c){for(var a=0;a<c.length;a++){if(c[a].el_type==="note"&&c[a].rest===undefined){return true}}return false};this.startNewLine=function(f){var e=this;this.closeLine();var d=function(g){e.lines[e.lineNum].staffs[e.staffNum].voices[e.voiceNum]=[];if(e.isFirstLine(e.lineNum)){if(g.stem){e.lines[e.lineNum].staffs[e.staffNum].stem[e.voiceNum]=g.stem}if(g.name){if(!e.lines[e.lineNum].staffs[e.staffNum].title){e.lines[e.lineNum].staffs[e.staffNum].title=[]}e.lines[e.lineNum].staffs[e.staffNum].title[e.voiceNum]=g.name}}else{e.lines[e.lineNum].staffs[e.staffNum].stem[e.voiceNum]=e.lines[0].staffs[e.staffNum].stem[e.voiceNum];if(g.subname){if(!e.lines[e.lineNum].staffs[e.staffNum].title){e.lines[e.lineNum].staffs[e.staffNum].title=[]}e.lines[e.lineNum].staffs[e.staffNum].title[e.voiceNum]=g.subname}}if(g.style){e.appendElement("style",null,null,null,{head:g.style})}if(g.scale){e.appendElement("scale",null,null,null,{size:g.scale})}};var a=function(g){if(g.transpose){g.clef.transpose=g.transpose}e.lines[e.lineNum].staffs[e.staffNum]={voices:[],stem:[],clef:g.clef,key:g.key,workingClef:g.clef,subtitle:g.subtitle,lyricsRows:0};if(g.vocalfont){e.lines[e.lineNum].staffs[e.staffNum].vocalfont=g.vocalfont}if(g.bracket){e.lines[e.lineNum].staffs[e.staffNum].bracket=g.bracket}if(g.brace){e.lines[e.lineNum].staffs[e.staffNum].brace=g.brace}if(g.connectBarLines){e.lines[e.lineNum].staffs[e.staffNum].connectBarLines=g.connectBarLines}if(g.clef.type==="accordionTab"){e.hasTablature=true;e.tabStaffPos=e.staffNum}d(g);if(g.part){e.appendElement("part",null,null,null,{title:g.part})}if(g.meter!==undefined){e.lines[e.lineNum].staffs[e.staffNum].meter=g.meter}};var c=function(g){e.lines[e.lineNum]={staffs:[]};a(g)};if(this.lines[this.lineNum]===undefined){c(f)}else{if(this.lines[this.lineNum].staffs===undefined){this.lineNum++;this.startNewLine(f)}else{if(this.lines[this.lineNum].staffs[this.staffNum]===undefined){a(f)}else{if(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]===undefined){d(f)}else{if(!this.containsNotes(this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum])){return}else{this.lineNum++;this.startNewLine(f)}}}}}};this.hasBeginMusic=function(){return this.lines.length>0};this.isFirstLine=function(a){for(var c=a-1;c>=0;c--){if(this.lines[c].staffs!==undefined){return false}}return true};this.getCurrentStaff=function(){if(this.lines[this.lineNum]!==undefined&&this.lines[this.lineNum].staffs[this.staffNum]!==undefined){return this.lines[this.lineNum].staffs[this.staffNum]}else{return null}};this.getCurrentVoice=function(){if(this.lines[this.lineNum]!==undefined&&this.lines[this.lineNum].staffs[this.staffNum]!==undefined&&this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]!==undefined){return this.lines[this.lineNum].staffs[this.staffNum].voices[this.voiceNum]}else{return null}};this.setCurrentVoice=function(d,c){this.staffNum=d||0;this.voiceNum=c||0;for(var a=0;a<this.lines.length;a++){if(this.lines[a].staffs){if(this.lines[a].staffs[d]===undefined||this.lines[a].staffs[d].voices[c]===undefined||!this.containsNotes(this.lines[a].staffs[d].voices[c])){this.lineNum=a;return}}}this.lineNum=a};this.addMetaText=function(a,c){if(this.metaText[a]===undefined){this.metaText[a]=c}else{this.metaText[a]+="\n"+c}};this.addMetaTextArray=function(a,c){if(this.metaText[a]===undefined){this.metaText[a]=[c]}else{this.metaText[a].push(c)}};this.addMetaTextObj=function(a,c){this.metaText[a]=c};this.reset()};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.math={}}window.ABCXJS.math.isNumber=function(a){return !isNaN(parseFloat(a))&&isFinite(a)};if(!window.ABCXJS.parse){window.ABCXJS.misc={}}window.ABCXJS.misc.isOpera=function(){return((!!window.opr&&!!opr.addons)||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0)};window.ABCXJS.misc.isChrome=function(){return(!!window.chrome&&!!window.chrome.webstore)};window.ABCXJS.misc.isChromium=function(){var c=((!!window.chrome&&!ABCXJS.misc.isOpera())>0);if(!c){return false}for(var a=0;a<navigator.plugins.length;a++){if(navigator.plugins[a].name==="Chrome PDF Viewer"){return false}}return true};window.ABCXJS.misc.isFirefox=function(){return(typeof InstallTrigger!=="undefined")};window.ABCXJS.misc.isSafari=function(){return(/constructor/i.test(window.HTMLElement)||(function(a){return a.toString()==="[object SafariRemoteNotification]"
})(!window.safari||(typeof safari!=="undefined"&&safari.pushNotification)))};window.ABCXJS.misc.isIE=function(){if(false||!!document.documentMode){return true}if(navigator.appName.indexOf("Internet Explorer")!==-1){return true}return false};window.ABCXJS.misc.isEdge=function(){return(!ABCXJS.misc.isIE()&&!!window.StyleMedia)};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.clone=function(e){if(null===e||"object"!==typeof e){return e}if(e instanceof Date){var f=new Date();f.setTime(e.getTime());return f}if(e instanceof Array){var f=[];for(var d=0,c=e.length;d<c;d++){f[d]=window.ABCXJS.parse.clone(e[d])}return f}if(e instanceof Object){var f={};for(var a in e){if(e.hasOwnProperty(a)){f[a]=window.ABCXJS.parse.clone(e[a])}}return f}throw new Error("Unable to copy obj! Its type isn't supported.")};window.ABCXJS.parse.normalizeAcc=function(a){return a.replace(/([ABCDEFG])#/g,"$1♯").replace(/([ABCDEFG])b/g,"$1♭")};window.ABCXJS.parse.denormalizeAcc=function(a){return a.replace(/([ABCDEFG])♯/g,"$1#").replace(/([ABCDEFG])♭/g,"$1b")};window.ABCXJS.parse.gsub=function(d,c,a){return d.split(c).join(a)};window.ABCXJS.parse.strip=function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")};window.ABCXJS.parse.startsWith=function(c,a){return c.indexOf(a)===0};window.ABCXJS.parse.endsWith=function(e,a){var c=e.length-a.length;return c>=0&&e.lastIndexOf(a)===c};window.ABCXJS.parse.each=function(a,e,d){for(var c=0,f=a.length;c<f;c++){e.apply(d,[a[c],c])}};window.ABCXJS.parse.last=function(a){if(a.length===0){return null}return a[a.length-1]};window.ABCXJS.parse.compact=function(a){var c=[];for(var d=0;d<a.length;d++){if(a[d]){c.push(a[d])}}return c};window.ABCXJS.parse.detect=function(a,d){for(var c=0;c<a.length;c++){if(d(a[c])){return true}}return false};window.ABCXJS.parse.pitches={C:0,D:1,E:2,F:3,G:4,A:5,B:6,c:7,d:8,e:9,f:10,g:11,a:12,b:13};window.ABCXJS.parse.key2br={C:"Dó","C♯":"Dó♯","D♭":"Ré♭",D:"Ré","D♯":"Ré♯","E♭":"Mi♭",E:"Mi",F:"Fá","F♯":"Fá♯","G♭":"Sol♭",G:"Sol","G♯":"Sol♯","A♭":"Lá♭",A:"Lá","A♯":"Lá♯","B♭":"Si♭",B:"Si"};window.ABCXJS.parse.key2number={C:0,"C♯":1,"D♭":1,D:2,"D♯":3,"E♭":3,E:4,F:5,"F♯":6,"G♭":6,G:7,"G♯":8,"A♭":8,A:9,"A♯":10,"B♭":10,B:11};window.ABCXJS.parse.number2keyflat=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"];window.ABCXJS.parse.number2keysharp=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"];window.ABCXJS.parse.number2key=["C","C♯","D","E♭","E","F","F♯","G","G♯","A","B♭","B"];window.ABCXJS.parse.number2staff=[{note:"C",acc:""},{note:"D",acc:"flat"},{note:"D",acc:""},{note:"E",acc:"flat"},{note:"E",acc:""},{note:"F",acc:""},{note:"G",acc:"flat"},{note:"G",acc:""},{note:"A",acc:"flat"},{note:"A",acc:""},{note:"B",acc:"flat"},{note:"B",acc:""}];window.ABCXJS.parse.number2staffSharp=[{note:"C",acc:""},{note:"C",acc:"sharp"},{note:"D",acc:""},{note:"D",acc:"sharp"},{note:"E",acc:""},{note:"F",acc:""},{note:"F",acc:"sharp"},{note:"G",acc:""},{note:"G",acc:"sharp"},{note:"A",acc:""},{note:"A",acc:"sharp"},{note:"B",acc:""}];window.ABCXJS.parse.stringify=function(d){var a=[];var c=JSON.stringify(d,function(e,f){if(typeof f==="object"&&f!==null){if(a.indexOf(f)!==-1){return}a.push(f)}return f});return c};String.prototype.replaceAll=function(a,c){var d=this;return d.split(a).join(c)};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.Parse=function(o,v){this.tieCnt=1;this.slurCnt=1;var s=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","fine","dacapo","dasegno","dacoda","dcalfine","dcalcoda","dsalfine","dsalcoda","crescendo(","crescendo)","diminuendo(","diminuendo)","p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz","repeatbar","repeatbar2","slide","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x"];var x=[["D.C.","dacapo"],["D.S.","dasegno"],["<","accent"],[">","accent"],["tr","trill"],["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"],["plus","+"],["emphasis","accent"]];var F={segno:{decorationNextBar:false,jumpNextBar:false,upper:true},coda:{decorationNextBar:true,jumpNextBar:true,upper:true},fine:{decorationNextBar:true,jumpNextBar:true,upper:true},dacoda:{decorationNextBar:true,jumpNextBar:true,upper:true},dacapo:{decorationNextBar:true,jumpNextBar:true,upper:true},dasegno:{decorationNextBar:true,jumpNextBar:true,upper:true},dcalfine:{decorationNextBar:false,jumpNextBar:true,upper:false},dcalcoda:{decorationNextBar:false,jumpNextBar:true,upper:false},dsalfine:{decorationNextBar:false,jumpNextBar:true,upper:false},dsalcoda:{decorationNextBar:false,jumpNextBar:true,upper:false}};if(o){this.transposer=o}if(v){this.accordion=v}var h;var q;var z;var u="";this.getTune=function(){return h};this.getStrTune=function(){return u};var D={reset:function(){for(var G in this){if(this.hasOwnProperty(G)&&typeof this[G]!=="function"){delete this[G]}}this.iChar=0;this.key={accidentals:[],root:"none",acc:"",mode:""};this.meter={type:"specified",value:[{num:"4",den:"4"}]};this.origMeter={type:"specified",value:[{num:"4",den:"4"}]};this.hasMainTitle=false;this.default_length=0.125;this.clef={type:"treble",verticalPos:0};this.subtitle="";this.next_note_duration=0;this.start_new_line=true;this.is_in_header=true;this.is_in_history=false;this.partForNextLine="";this.havent_set_length=true;this.voices={};this.staves=[];this.macros={};this.inTextBlock=false;this.inPsBlock=false;this.ignoredDecorations=[];this.textBlock="";this.score_is_present=false;this.currentVoice=undefined}};this.getMultilineVars=function(){return D};var E=function(G){if(!D.warnings){D.warnings=[]}D.warnings.push(G)};var d=function(H){var G=window.ABCXJS.parse.gsub(H,"\x12"," ");G=window.ABCXJS.parse.gsub(G,"&","&amp;");G=window.ABCXJS.parse.gsub(G,"<","&lt;");return window.ABCXJS.parse.gsub(G,">","&gt;")};var C=function(K,G,J){var I=G.charAt(J);if(I===" "){I="SPACE"}var H=d(G.substring(0,J))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+I+"</span>"+d(G.substring(J+1));E("Music Line:"+h.getNumLines()+":"+(J+1)+": "+K+":  "+H)};this.getWarnings=function(){return D.warnings};this.addTuneElement=function(J,N,H,I,K,G){switch(J){case"bar":D.measureNotEmpty=false;if(D.addJumpPointNextBar){K.jumpPoint=ABCXJS.parse.clone(D.addJumpPointNextBar);delete D.addJumpPointNextBar}if(D.addJumpInfoNextBar){K.jumpInfo=ABCXJS.parse.clone(D.addJumpInfoNextBar);delete D.addJumpInfoNextBar}if(D.addJumpDecorationNextBar){K.jumpDecoration=ABCXJS.parse.clone(D.addJumpDecorationNextBar);delete D.addJumpDecorationNextBar}D.barAccidentals=[];D.lastBarElem=K;break;case"note":D.measureNotEmpty=true;
if(D.barNumOnNextNote){var M=D.currentVoice;if(D.lastBarElem){D.lastBarElem.barNumber=D.barNumOnNextNote;D.lastBarElem.barNumberVisible=(D.barNumOnNextNoteVisible&&(M===undefined||(M.staffNum===0&&M.index===0)))}D.barNumOnNextNote=null;D.barNumOnNextNoteVisible=null}if(K.pitches){K.pitches.forEach(function(O){if(O.accidental===undefined&&D.barAccidentals[O.pitch]!==undefined){O.barAccidental=D.barAccidentals[O.pitch]}})}break}try{this.handleTie(K);this.handleSlur(K,G,H);h.appendElement(J,D.currTexLineNum,H,I,K,D.currentVoice)}catch(L){C("Unknown character ignored",G,H)}};this.handleTie=function(J){var G=this;if(!J.pitches){return}if(this.anyTieEnd(J)){var H=this.tieCnt;var I=this.aTies.pop();if(I&&I.pitches){I.pitches.forEach(function(K){if(J.pitches){J.pitches.forEach(function(L){if(G.equalsPitch(L,K)){if(!K.tie){K.tie={}}K.tie.id_start=H;L.tie={id_end:H};H++}})}})}this.tieCnt=H}if(this.anyTieStart(J)){if(!this.aTies){this.aTies=[]}this.aTies.push(J)}};this.handleSlur=function(N,G,K){var H=this;if(!N.pitches){return}var J=this.anySlurEnd(N);while(J){var I=this.tieCnt;var L=this.aSlurs.pop();if(L===undefined){C("Slur not open",G,K);return}if(L.qtd>1){L.qtd--;this.aSlurs.push(L)}var M=L.el;if(M&&M.pitches){M.pitches.forEach(function(O){if(N.pitches){N.pitches.forEach(function(P){if(H.equalsPitch(P,O)){if(O.tie){O.tie.id_start=I}else{O.tie={id_start:I,slur:true}}if(P.tie){O.tie.id_end=I}else{P.tie={id_end:I,slur:true}}I++}})}})}this.tieCnt=I;J--}J=this.anySlurStart(N);if(J){if(!this.aSlurs){this.aSlurs=[]}this.aSlurs.push({el:N,qtd:J,cnt:++this.slurCnt})}};this.anySlurEnd=function(G){var H=0;if(G.endSlur){return G.endSlur}if(G.pitches){G.pitches.forEach(function(I){if(I.endSlur){H=I.endSlur}})}return H};this.equalsPitch=function(J,I){var H="natural",G="natural";if(J.accidental!==undefined){H=J.accidental}else{if(J.barAccidental!==undefined){H=J.barAccidental}}if(I.accidental!==undefined){G=I.accidental}else{if(I.barAccidental!==undefined){G=I.barAccidental}}return(J.pitch===I.pitch&&H===G)};this.anySlurStart=function(G){var H=0;if(G.startSlur){return G.startSlur}if(G.pitches){G.pitches.forEach(function(I){if(I.startSlur){H=I.startSlur}})}return H};this.anyTieEnd=function(G){var H=false;if(G.endTie){return true}if(G.pitches){G.pitches.forEach(function(I){if(I.endTie){H=true}})}return H};this.anyTieStart=function(G){var H=false;if(G.startTie){return true}if(G.pitches){G.pitches.forEach(function(I){if(I.startTie){H=true}})}return H};var y=function(I,J){if(I.charAt(J)==='"'){var K=q.getBrackettedSubstring(I,J,5);if(!K[2]){C("Missing the closing quote while parsing the chord symbol",I,J)}if(K[0]>0&&K[1].length>0&&K[1].charAt(0)==="^"){K[1]=K[1].substring(1);K[2]="above"}else{if(K[0]>0&&K[1].length>0&&K[1].charAt(0)==="_"){K[1]=K[1].substring(1);K[2]="below"}else{if(K[0]>0&&K[1].length>0&&K[1].charAt(0)==="<"){K[1]=K[1].substring(1);K[2]="left"}else{if(K[0]>0&&K[1].length>0&&K[1].charAt(0)===">"){K[1]=K[1].substring(1);K[2]="right"}else{if(K[0]>0&&K[1].length>0&&K[1].charAt(0)==="@"){K[1]=K[1].substring(1);var G=q.getFloat(K[1]);if(G.digits===0){C("Missing first position in absolutely positioned annotation.",I,J)}K[1]=K[1].substring(G.digits);if(K[1][0]!==","){C("Missing comma absolutely positioned annotation.",I,J)}K[1]=K[1].substring(1);var L=q.getFloat(K[1]);if(L.digits===0){C("Missing second position in absolutely positioned annotation.",I,J)}K[1]=K[1].substring(L.digits);var H=q.skipWhiteSpace(K[1]);K[1]=K[1].substring(H);K[2]=null;K[3]={x:G.value,y:L.value}}else{K[1]=ABCXJS.parse.normalizeAcc(K[1]);K[2]="default"}}}}}return K}return[0,""]};var k=function(G,I){var J=D.macros[G.charAt(I)];if(J!==undefined){if(J.charAt(0)==="!"||J.charAt(0)==="+"){J=J.substring(1)}if(J.charAt(J.length-1)==="!"||J.charAt(J.length-1)==="+"){J=J.substring(0,J.length-1)}if(window.ABCXJS.parse.detect(s,function(K){return(J===K)})){return[1,J]}else{if(!window.ABCXJS.parse.detect(D.ignoredDecorations,function(K){return(J===K)})){C("Unknown macro: "+J,G,I)}return[1,""]}}switch(G.charAt(I)){case".":return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"];case"!":case"+":var H=q.getBrackettedSubstring(G,I,5);if(H[1].length>0&&(H[1].charAt(0)==="^"||H[1].charAt(0)==="_")){H[1]=H[1].substring(1)}if(window.ABCXJS.parse.detect(s,function(K){return(H[1]===K)})){return H}if(window.ABCXJS.parse.detect(x,function(K){if(H[1]===K[0]){H[1]=K[1];return true}else{return false}})){return H}if(G.charAt(I)==="!"&&(H[0]===1)){return[1,null]}C("Unknown decoration: "+H[1],G,I);H[1]="";return H}return[0,0]};var g=function(G,H){var I=H;while(q.isWhiteSpace(G.charAt(H))){H++}return[H-I]};var w=function(I,L){var J=q.getBarLine(I,L);if(J.len===0){return[0,""]}if(J.warn){C(J.warn,I,L);return[J.len,""]}for(var H=0;H<I.length;H++){if(I.charAt(L+J.len+H)!==" "){break}}var M=J.len;if(I.charAt(L+J.len+H)==="["){J.len+=H+1}if(I.charAt(L+J.len)==='"'&&I.charAt(L+J.len-1)==="["){var G=q.getBrackettedSubstring(I,L+J.len,5);return[J.len+G[0],J.token,G[1]]}var K=q.getTokenOf(I.substring(L+J.len),"1234567890-,");if(K.len===0||K.token[0]==="-"){return[M,J.token]}return[J.len+K.len,J.token,K.token]};var r=function(G,I){var H={};var J=I;while(G.charAt(I)==="("||q.isWhiteSpace(G.charAt(I))){if(G.charAt(I)==="("){if(I+1<G.length&&(G.charAt(I+1)>="2"&&G.charAt(I+1)<="9")){if(H.triplet!==undefined){C("Can't nest triplets",G,I)}else{H.triplet=G.charAt(I+1)-"0";if(I+2<G.length&&G.charAt(I+2)===":"){if(I+3<G.length&&G.charAt(I+3)===":"){if(I+4<G.length&&(G.charAt(I+4)>="1"&&G.charAt(I+4)<="9")){H.num_notes=G.charAt(I+4)-"0";I+=3}else{C("expected number after the two colons after the triplet to mark the duration",G,I)}}else{if(I+3<G.length&&(G.charAt(I+3)>="1"&&G.charAt(I+3)<="9")){if(I+4<G.length&&G.charAt(I+4)===":"){if(I+5<G.length&&(G.charAt(I+5)>="1"&&G.charAt(I+5)<="9")){H.num_notes=G.charAt(I+5)-"0";I+=4}}else{H.num_notes=H.triplet;I+=3}}else{C("expected number after the triplet to mark the duration",G,I)}}}}I++}else{if(H.startSlur===undefined){H.startSlur=1}else{H.startSlur++}}}I++}H.consumed=I-J;return H};var p=function(O,P,M,J){M=window.ABCXJS.parse.strip(M);if(M.charAt(M.length-1)!=="-"){M=M+" "}var L=[];O.lyricsRows++;var H=0;var I=false;var G=function(Q){var R=window.ABCXJS.parse.strip(M.substring(H,Q));if(J&&R.trim()!==""&&".1.2.3.4.5.23.24.25.34.35.45.234.345.2345.*.".indexOf("."+R.trim()+".")<0){C("Alien fingering detected",M,Q-R.trim().length)}H=Q+1;if(R.length>0){if(I){R=window.ABCXJS.parse.gsub(R,"~"," ")}var S=M.charAt(Q);if(S!=="_"&&S!=="-"){S=" "}L.push({syllable:q.translateString(R),divider:S});I=false;return true}return false};for(var K=0;K<M.length;K++){switch(M.charAt(K)){case" ":case"\x12":G(K);break;case"-":if(!G(K)&&L.length>0){window.ABCXJS.parse.last(L).divider="-";
L.push({skip:true,to:"next"})}break;case"_":G(K);L.push({skip:true,to:"slur"});break;case"*":G(K);L.push({skip:true,to:"next"});break;case"|":G(K);L.push({skip:true,to:"bar"});break;case"~":I=true;break}}var N=false;window.ABCXJS.parse.each(P,function(Q){if(L.length!==0){if(L[0].skip){switch(L[0].to){case"next":if(Q.el_type==="note"&&Q.pitches!==null&&!N){L.shift()}break;case"slur":if(Q.el_type==="note"&&Q.pitches!==null){L.shift()}break;case"bar":if(Q.el_type==="bar"){L.shift()}break}}else{if(Q.el_type==="note"&&Q.rest===undefined&&!N){var R=L.shift();if(J){if(Q.fingering===undefined){Q.fingering=[R]}else{Q.fingering.push(R)}}else{if(Q.lyric===undefined){Q.lyric=[R]}else{Q.lyric.push(R)}}}}}})};var f=function(H,N){if(!H){C("Can't add symbols before the first line of mulsic",H,0);return}N=window.ABCXJS.parse.strip(N);if(N.charAt(N.length-1)!=="-"){N=N+" "}var M=[];var L=0;var J=false;var G=function(O){var P=window.ABCXJS.parse.strip(N.substring(L,O));L=O+1;if(P.length>0){if(J){P=window.ABCXJS.parse.gsub(P,"~"," ")}var Q=N.charAt(O);if(Q!=="_"&&Q!=="-"){Q=" "}M.push({syllable:q.translateString(P),divider:Q});J=false;return true}return false};for(var I=0;I<N.length;I++){switch(N.charAt(I)){case" ":case"\x12":G(I);break;case"-":if(!G(I)&&M.length>0){window.ABCXJS.parse.last(M).divider="-";M.push({skip:true,to:"next"})}break;case"_":G(I);M.push({skip:true,to:"slur"});break;case"*":G(I);M.push({skip:true,to:"next"});break;case"|":G(I);M.push({skip:true,to:"bar"});break;case"~":J=true;break}}var K=false;window.ABCXJS.each(H,function(P){if(M.length!==0){if(M[0].skip){switch(M[0].to){case"next":if(P.el_type==="note"&&P.pitches!==null&&!K){M.shift()}break;case"slur":if(P.el_type==="note"&&P.pitches!==null){M.shift()}break;case"bar":if(P.el_type==="bar"){M.shift()}break}}else{if(P.el_type==="note"&&P.rest===undefined&&!K){var O=M.shift();if(P.lyric===undefined){P.lyric=[O]}else{P.lyric.push(O)}}}}})};var c=function(G,H){switch(G.charAt(H)){case">":if(H<G.length-1&&G.charAt(H+1)===">"){return[2,1.75,0.25]}else{return[1,1.5,0.5]}break;case"<":if(H<G.length-1&&G.charAt(H+1)==="<"){return[2,0.25,1.75]}else{return[1,0.5,1.5]}break}return null};var j=function(G){if(G.duration!==undefined&&G.duration<=0.25){G.end_beam=true}return G};var m=ABCXJS.parse.pitches;var a={x:"invisible",y:"spacer",z:"rest",Z:"multimeasure"};var l=function(P,M,I,G){var N=function(Q){return(Q==="octave"||Q==="duration"||Q==="Zduration"||Q==="broken_rhythm"||Q==="end_slur")};var H="startSlur";var J=false;while(1){switch(P.charAt(M)){case"(":if(H==="startSlur"){if(I.startSlur===undefined){I.startSlur=1}else{I.startSlur++}}else{if(N(H)){I.endChar=M;return I}else{return null}}break;case")":if(N(H)){if(I.endSlur===undefined){I.endSlur=1}else{I.endSlur++}}else{return null}break;case"^":if(H==="startSlur"){I.accidental="sharp";H="sharp2"}else{if(H==="sharp2"){I.accidental="dblsharp";H="pitch"}else{if(N(H)){I.endChar=M;return I}else{return null}}}break;case"_":if(H==="startSlur"){I.accidental="flat";H="flat2"}else{if(H==="flat2"){I.accidental="dblflat";H="pitch"}else{if(N(H)){I.endChar=M;return I}else{return null}}}break;case"=":if(H==="startSlur"){I.accidental="natural";H="pitch"}else{if(N(H)){I.endChar=M;return I}else{return null}}break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(H==="startSlur"||H==="sharp2"||H==="flat2"||H==="pitch"){I.pitch=m[P.charAt(M)];H="octave";if(G&&D.next_note_duration!==0){I.duration=D.next_note_duration;D.next_note_duration=0;J=true}else{I.duration=D.default_length}}else{if(N(H)){I.endChar=M;return I}else{return null}}break;case",":if(H==="octave"){I.pitch-=7}else{if(N(H)){I.endChar=M;return I}else{return null}}break;case"'":if(H==="octave"){I.pitch+=7}else{if(N(H)){I.endChar=M;return I}else{return null}}break;case"x":case"y":case"z":case"Z":if(H==="startSlur"){I.rest={type:a[P.charAt(M)]};delete I.accidental;delete I.startSlur;delete I.startTie;delete I.endSlur;delete I.endTie;delete I.end_beam;delete I.grace_notes;if(I.rest.type==="multimeasure"){I.duration=1;H="Zduration"}else{if(G&&D.next_note_duration!==0){I.duration=D.next_note_duration;D.next_note_duration=0;J=true}else{I.duration=D.default_length}H="duration"}}else{if(N(H)){I.endChar=M;return I}else{return null}}break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":case".":if(H==="octave"||H==="duration"){var O=q.getFraction(P,M);if(!J){I.duration=I.duration*O.value}I.endChar=O.index;while(O.index<P.length&&(q.isWhiteSpace(P.charAt(O.index))||P.charAt(O.index)==="-")){if(P.charAt(O.index)==="-"){I.startTie={}}else{I=j(I)}O.index++}M=O.index-1;H="broken_rhythm"}else{if(H==="sharp2"){I.accidental="quartersharp";H="pitch"}else{if(H==="flat2"){I.accidental="quarterflat";H="pitch"}else{if(H==="Zduration"){var L=q.getNumber(P,M);I.duration=L.num;I.endChar=L.index;return I}else{return null}}}}break;case"-":if(H==="startSlur"){h.addTieToLastNote();I.endTie=true}else{if(H==="octave"||H==="duration"||H==="end_slur"){I.startTie={};if(!J&&G){H="broken_rhythm"}else{if(q.isWhiteSpace(P.charAt(M+1))){j(I)}I.endChar=M+1;return I}}else{if(H==="broken_rhythm"){I.endChar=M;return I}else{return null}}}break;case" ":case"\t":if(N(H)){I.end_beam=true;do{if(P.charAt(M)==="-"){I.startTie={}}M++}while(M<P.length&&(q.isWhiteSpace(P.charAt(M))||P.charAt(M)==="-"));I.endChar=M;if(!J&&G&&(P.charAt(M)==="<"||P.charAt(M)===">")){M--;H="broken_rhythm"}else{return I}}else{return null}break;case">":case"<":if(N(H)){if(G){var K=c(P,M);M+=K[0]-1;D.next_note_duration=K[2]*I.duration;I.duration=K[1]*I.duration;H="end_slur"}else{I.endChar=M;return I}}else{return null}break;default:if(N(H)){I.endChar=M;return I}return null}M++;if(M===P.length){if(N(H)){I.endChar=M;return I}else{return null}}}return null};function A(){var I={startChar:-1,endChar:-1};if(D.partForNextLine.length){I.part=D.partForNextLine}var H=D.currentVoice;I.clef=window.ABCXJS.parse.clone(H&&H.clef!==undefined?H.clef:D.clef);I.key=window.ABCXJS.parse.parseKeyVoice.deepCopyKey(D.key);window.ABCXJS.parse.parseKeyVoice.addPosToKey(I.clef,I.key);if(D.meter!==null){if(D.currentVoice){window.ABCXJS.parse.each(D.staves,function(J){J.meter=D.meter});I.meter=D.staves[D.currentVoice.staffNum].meter;D.staves[D.currentVoice.staffNum].meter=null}else{I.meter=D.meter}D.meter=null}else{if(D.currentVoice&&D.staves[D.currentVoice.staffNum].meter){I.meter=D.staves[D.currentVoice.staffNum].meter;D.staves[D.currentVoice.staffNum].meter=null}}if(D.currentVoice&&D.currentVoice.name){I.name=D.currentVoice.name}if(D.vocalfont){I.vocalfont=D.vocalfont}if(D.style){I.style=D.style}if(D.currentVoice){var G=D.staves[D.currentVoice.staffNum];if(G.brace){I.brace=G.brace}if(G.bracket){I.bracket=G.bracket}if(G.connectBarLines){I.connectBarLines=G.connectBarLines}if(G.name){I.name=G.name[D.currentVoice.index]}if(G.subname){I.subname=G.subname[D.currentVoice.index]}if(D.subtitle){I.subtitle=D.subtitle;D.subtitle=""}if(D.currentVoice.stem){I.stem=D.currentVoice.stem
}if(D.currentVoice.scale){I.scale=D.currentVoice.scale}if(D.currentVoice.style){I.style=D.currentVoice.style}if(D.currentVoice.transpose){I.transpose=D.currentVoice.transpose}}h.startNewLine(I);D.partForNextLine="";var H=D.currentVoice;if(H){if(D.measureNotEmpty){H.currBarNumber++}D.barNumOnNextNote=H.currBarNumber;if(D.barNumbers===1||(D.barNumbers===0&&D.barsperstaff===undefined&&H.currBarNumber>1)){D.barNumOnNextNoteVisible=true}}}var e=function(J,H){var G=0;if(J.pitches){for(var I=0;I<J.pitches.length;++I){G+=J.pitches[I].pitch}H.triplet.avgPitch+=(G/J.pitches.length)}else{H.triplet.avgPitch+=6}H.notesLeft--;if(H.notesLeft===0){J.endTriplet=true;H.triplet.avgPitch=(H.triplet.avgPitch/H.triplet.notes);H.triplet=false}};var B=function(H,J){if(H.charAt(J)==="{"){var I=q.getBrackettedSubstring(H,J,1,"}");if(!I[2]){C("Missing the closing '}' while parsing grace note",H,J)}if(H[J+I[0]]===")"){I[0]++;I[1]+=")"}var G=[];var L=0;var M=false;while(L<I[1].length){var N=false;if(I[1].charAt(L)==="/"){N=true;L++}var K=l(I[1],L,{},false);if(K!==null){if(N){K.acciaccatura=true}G.push(K);if(M){K.endTie=true;M=false}if(K.startTie){M=true}L=K.endChar;delete K.endChar}else{if(I[1].charAt(L)===" "){if(G.length>0){G[G.length-1].end_beam=true}}else{C("Unknown character '"+I[1].charAt(L)+"' while parsing grace note",H,J)}L++}}if(G.length){return[I[0],G]}}return[0]};var t="ABCDEFGabcdefgxyzZ[]|^_{";this.handleJump=function(I,H,G,J){if(H.decorationNextBar){if(!D.addJumpDecorationNextBar){D.addJumpDecorationNextBar=[]}D.addJumpDecorationNextBar.push({type:I,upper:H.upper})}else{if(D.lastBarElem){if(!D.lastBarElem.jumpDecoration){D.lastBarElem.jumpDecoration=[]}D.lastBarElem.jumpDecoration.push({type:I,upper:H.upper})}else{C("Ignoring jump decoration marker before the first bar.",G,J)}}if((".segno.coda.fine.").indexOf(I)>0){if(H.jumpNextBar){if(D.addJumpPointNextBar){C("Overriding previous jump point",G,J)}D.addJumpPointNextBar={type:I}}else{if(D.lastBarElem){if(D.lastBarElem.jumpPoint){C("Overriding previous jump point",G,J)}D.lastBarElem.jumpPoint={type:I}}else{C("Ignoring jump point marker before the first bar.",G,J)}}}else{if(H.jumpNextBar){if(D.addJumpInfoNextBar){C("Overriding previous jump information",G,J)}D.addJumpInfoNextBar={type:I}}else{if(D.lastBarElem){if(D.lastBarElem.jumpInfo){C("Overriding previous jump information",G,J)}D.lastBarElem.jumpInfo={type:I}}else{C("Ignoring jump info marker before the first bar.",G,J)}}}};this.parseRegularMusicLine=function(Q){if(!D.voices[0]){if(!D.clef){D.clef={type:"treble",verticalPos:0}}D.voices[0]={clef:D.clef,index:0,staffNum:0,currBarNumber:1};D.staves[0]={clef:D.clef,index:0,meter:null,numVoices:1,inTie:[false],inTieChord:[false],inEnding:[false]};D.currentVoice=D.voices[0]}D.barAccidentals=[];z.resolveTempo();D.is_in_header=false;var X=0;var W=D.iChar;while(q.isWhiteSpace(Q.charAt(X))&&X<Q.length){X++}if(X===Q.length||Q.charAt(X)==="%"){return}var aa=D.start_new_line;D.start_new_line=(D.continueall===undefined);var ae={notesLeft:0,triplet:false};var T=z.letter_to_body_header(Q,X);if(T[0]>0){X+=T[0]}var I={};while(X<Q.length){var J=X;if(Q.charAt(X)==="%"){break}var H=z.letter_to_inline_header(Q,X);if(H[0]>0){X+=H[0]}else{if(aa){A();aa=false}var ac;while(1){ac=q.eatWhiteSpace(Q,X);if(ac>0){X+=ac}if(X>0&&Q.charAt(X-1)==="\x12"){ac=z.letter_to_body_header(Q,X);if(ac[0]>0){X=ac[0];D.start_new_line=false}}ac=g(Q,X);if(ac[0]>0){X+=ac[0]}ac=y(Q,X);if(ac[0]>0){if(!I.chord){I.chord=[]}var N=q.translateString(ac[1]);N=N.replace(/;/g,"\n");var M=false;for(var R=0;R<I.chord.length;R++){if(I.chord[R].position===ac[2]){M=true;I.chord[R].name+="\n"+N}}if(M===false){if(ac[2]===null&&ac[3]){I.chord.push({name:N,rel_position:ac[3]})}else{I.chord.push({name:N,position:ac[2]})}}X+=ac[0];var S=q.skipWhiteSpace(Q.substring(X));if(S>0){I.force_end_beam_last=true}X+=S}else{if(t.indexOf(Q.charAt(X))===-1){ac=k(Q,X)}else{ac=[0]}if(ac[0]>0){if(ac[1]===null){if(X+1<Q.length){A()}}else{if(ac[1].length>0){var K=F[ac[1]];if(K){this.handleJump(ac[1],K,Q,X)}else{if(I.decoration===undefined){I.decoration=[]}I.decoration.push(ac[1])}}}X+=ac[0]}else{ac=B(Q,X);if(ac[0]>0){I.gracenotes=ac[1];X+=ac[0]}else{break}}}}ac=w(Q,X);if(ac[0]>0){if(I.gracenotes!==undefined){I.rest={type:"spacer"};I.duration=0.125;this.addTuneElement("note",W,X,X+ac[0],I);I={}}var Z={type:ac[1]};if(Z.type.length===0){C("Unknown bar type",Q,X)}else{if(D.staves[D.currentVoice.staffNum].inEnding[D.currentVoice.index]){Z.endDrawEnding=true;if(Z.type!=="bar_thin"){Z.endEnding=true;D.staves[D.currentVoice.staffNum].inEnding[D.currentVoice.index]=false}}if(ac[2]){Z.startEnding=ac[2];if(D.staves[D.currentVoice.staffNum].inEnding[D.currentVoice.index]){Z.endDrawEnding=true;Z.endEnding=true}D.staves[D.currentVoice.staffNum].inEnding[D.currentVoice.index]=true}if(I.decoration!==undefined){Z.decoration=I.decoration}if(I.chord!==undefined){Z.chord=I.chord}var ad=D.currentVoice;if(Z.type!=="bar_invisible"&&D.measureNotEmpty){ad.currBarNumber++;D.barNumOnNextNote=ad.currBarNumber;if((D.barNumbers&&(ad.currBarNumber%D.barNumbers===0))||(D.barsperstaff!==undefined&&ad.currBarNumber&&((ad.currBarNumber-1)%D.barsperstaff)===0)){D.barNumOnNextNoteVisible=true}}this.addTuneElement("bar",W,X,X+ac[0],Z);I={}}X+=ac[0]}else{if(Q[X]==="&"){C("Overlay not yet supported",Q,X);X++}else{ac=r(Q,X);if(ac.consumed>0){if(ac.startSlur!==undefined){I.startSlur=ac.startSlur}if(ac.triplet!==undefined){if(ae.notesLeft>0){C("Can't nest triplets",Q,X)}else{ae.notesLeft=ac.num_notes===undefined?ac.triplet:ac.num_notes;ae.triplet={num:ac.triplet,notes:ae.notesLeft,avgPitch:0};I.startTriplet=ae.triplet}}X+=ac.consumed}if(Q.charAt(X)==="["){X++;var G=null;var V=false;while(!V){var P=l(Q,X,{},false);if(P!==null){if(P.end_beam){I.end_beam=true;delete P.end_beam}if(P.rest){}else{if(I.pitches===undefined){I.duration=P.duration;I.pitches=[P]}else{I.pitches.push(P)}if(D.staves[D.currentVoice.staffNum].inTieChord[D.currentVoice.index][I.pitches.length]){P.endTie=true;D.staves[D.currentVoice.staffNum].inTieChord[D.currentVoice.index][I.pitches.length]=undefined}if(P.startTie){D.staves[D.currentVoice.staffNum].inTieChord[D.currentVoice.index][I.pitches.length]=true}}X=P.endChar;delete P.endChar;delete P.duration}else{if(Q.charAt(X)===" "){C("Spaces are not allowed in chords",Q,X);X++}else{if(X<Q.length&&Q.charAt(X)==="]"){X++;if(D.next_note_duration!==0){I.duration=I.duration*D.next_note_duration;D.next_note_duration=0}if(D.staves[D.currentVoice.staffNum].inTie[D.currentVoice.index]){window.ABCXJS.parse.each(I.pitches,function(af){af.endTie=true});D.staves[D.currentVoice.staffNum].inTie[D.currentVoice.index]=false}if(ae.notesLeft>0){e(I,ae)}var O=false;while(X<Q.length&&!O){switch(Q.charAt(X)){case" ":case"\t":j(I);break;case")":if(I.endSlur===undefined){I.endSlur=1}else{I.endSlur++}break;case"-":window.ABCXJS.parse.each(I.pitches,function(af){af.startTie={}});D.staves[D.currentVoice.staffNum].inTie[D.currentVoice.index]=true;break;case">":case"<":var ab=c(Q,X);
X+=ab[0]-1;D.next_note_duration=ab[2];G=ab[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":case".":var L=q.getFraction(Q,X);G=L.value;X=L.index;if(Q.charAt(X).match(/[-\s\)]/g)){X--}else{O=true}break;default:O=true;break}if(!O){X++}}}else{C("Expected ']' to end the chords",Q,X)}if(I.pitches!==undefined){if(G!==null){I.duration=I.duration*G}this.addTuneElement("note",W,J,X,I);I={}}V=true}}}}else{var U={};var Y=l(Q,X,U,true);if(U.endTie!==undefined){D.staves[D.currentVoice.staffNum].inTie[D.currentVoice.index]=true}if(Y!==null){if(Y.pitch!==undefined){I.pitches=[{}];I.pitches[0].pitch=Y.pitch;if(Y.accidental!==undefined){I.pitches[0].accidental=Y.accidental;D.barAccidentals[Y.pitch]=Y.accidental}if(Y.endSlur!==undefined){I.pitches[0].endSlur=Y.endSlur}if(Y.endTie!==undefined){I.pitches[0].endTie=Y.endTie}if(Y.startSlur!==undefined){I.pitches[0].startSlur=Y.startSlur}if(I.startSlur!==undefined){I.pitches[0].startSlur=I.startSlur}if(Y.startTie!==undefined){I.pitches[0].startTie=Y.startTie}if(I.startTie!==undefined){I.pitches[0].startTie=I.startTie}}else{I.rest=Y.rest;if(Y.endSlur!==undefined){I.endSlur=Y.endSlur}if(Y.endTie!==undefined){I.rest.endTie=Y.endTie}if(Y.startSlur!==undefined){I.startSlur=Y.startSlur}if(Y.startTie!==undefined){I.rest.startTie=Y.startTie}if(I.startTie!==undefined){I.rest.startTie=I.startTie}}if(Y.chord!==undefined){I.chord=Y.chord}if(Y.duration!==undefined){I.duration=Y.duration}if(Y.decoration!==undefined){I.decoration=Y.decoration}if(Y.graceNotes!==undefined){I.graceNotes=Y.graceNotes}delete I.startSlur;if(D.staves.length){if(D.staves[D.currentVoice.staffNum].inTie[D.currentVoice.index]){if(I.pitches!==undefined){I.pitches[0].endTie=true}else{I.rest.endTie=true}D.staves[D.currentVoice.staffNum].inTie[D.currentVoice.index]=false}if(Y.startTie||I.startTie){D.staves[D.currentVoice.staffNum].inTie[D.currentVoice.index]=true}}X=Y.endChar;if(ae.notesLeft>0){e(I,ae)}if(Y.end_beam){j(I)}this.addTuneElement("note",W,J,X,I,Q);I={}}}if(X===J){if(Q.charAt(X)!==" "&&Q.charAt(X)!=="`"){C("Unknown character ignored",Q,X)}X++}}}}}};this.parseLine=function(H,G){var I=z.parseHeader(H,G);if(I.regular){if(D.clef&&D.clef.type==="accordionTab"){if(this.accordion){if(this.transposer&&this.transposer.offSet!==0){this.transposer.deleteTabLine(G)}else{var K=this.accordion.parseTabVoice(I.str,this.getMultilineVars(),this.getTune());if(K.length>0){A();for(var J=0;J<K.length;J++){h.appendElement(K[J].el_type,D.currTexLineNum,K[J].startChar,K[J].endChar,K[J],D.currentVoice)}}}}else{E("+Warn: Cannot parse tablature line: no accordion defined!")}}else{if(this.transposer&&this.transposer.offSet!==0){I.str=this.transposer.transposeRegularMusicLine(H,G,D)}this.parseRegularMusicLine(I.str)}}if(I.newline&&D.continueall===undefined){A()}if(I.fingering){p(h.getCurrentStaff(),h.getCurrentVoice(),H.substring(2),true)}if(I.words){p(h.getCurrentStaff(),h.getCurrentVoice(),H.substring(2),false)}if(I.symbols){f(h.getCurrentVoice(),H.substring(2))}if(I.recurse){this.parseLine(I.str)}};this.strTuneHouseKeeping=function(){u=window.ABCXJS.parse.gsub(u,"\r\n","\n");u=window.ABCXJS.parse.gsub(u,"\r","\n");u+=u.charAt(u.length-1)==="\n"?"":"\n";u=u.replace(/\n\\.*\n/g,"\n");var H=function(J,L,M){var I="                                                                                                                                                                                                     ";var K=M?I.substring(0,M.length):"";return L+" \x12"+K};u=u.replace(/\\([ \t]*)(%.*)*\n/g,H);var G=u.split("\n");while(window.ABCXJS.parse.last(G).length===0){G.pop()}return G};this.parse=function(L,K){u=L;h=new window.ABCXJS.data.Tune();q=new window.ABCXJS.parse.tokenizer();z=new window.ABCXJS.parse.ParseHeader(q,C,D,h,this.transposer);if(K&&K.print){h.media="print"}D.reset();z.reset(q,C,D,h);var I=this.strTuneHouseKeeping();try{for(var G=0;G<I.length;G++){D.currTexLineNum=G;var H=I[G];if(K){if(K.header_only&&D.is_in_header===false){throw"normal_abort"}if(K.stop_on_warning&&D.warnings){throw"normal_abort"}}if(D.is_in_history){if(H.charAt(1)===":"){D.is_in_history=false;this.parseLine(H)}else{h.addMetaText("history",q.translateString(q.stripComment(H)))}}else{if(D.inTextBlock){if(window.ABCXJS.parse.startsWith(H,"%%endtext")){h.addText(D.textBlock);D.inTextBlock=false}else{if(window.ABCXJS.parse.startsWith(H,"%%")){D.textBlock+=" "+H.substring(2)}else{D.textBlock+=" "+H}}}else{if(D.inPsBlock){if(window.ABCXJS.parse.startsWith(H,"%%endps")){D.inPsBlock=false}else{D.textBlock+=" "+H}}else{this.parseLine(H,G)}}}D.iChar+=H.length+1}if(this.transposer&&this.transposer.offSet!==0){u=this.transposer.updateEditor(I)}if(h.hasTablature){if(h.lines[0].staffs[h.tabStaffPos].voices[0].length===0){(h.tabStaffPos===0)&&E("AccordionTab não deve ser a primeira voz!");for(var J=1;J<h.lines.length;J++){if(h.lines[J].staffs&&!h.lines[J].staffs[h.tabStaffPos]){h.lines[J].staffs[h.tabStaffPos]=window.ABCXJS.parse.clone(h.lines[0].staffs[h.tabStaffPos]);h.lines[J].staffs[h.tabStaffPos].meter=null;h.lines[J].staffs[h.tabStaffPos].subtitle=""}}if(this.accordion){this.accordion.inferTablature(h,D,E);u+=this.accordion.getTabLines()}else{E("Impossível inferir a tablatura: acordeon não definido!")}}else{if(D.InvalidBass){E("Baixo incompatível com movimento do fole no(s) compasso(s): "+D.InvalidBass.substring(1,D.InvalidBass.length-1)+".");delete D.InvalidBass}if(D.missingNotes){E("Notas não encontradas no(s) compasso(s): "+D.missingNotes.substring(1,D.missingNotes.length-1)+".");delete D.missingNotes}}}h.setFormat(D);h.handleBarsPerStaff();h.checkJumpMarkers(E);h.cleanUp()}catch(M){if(M!=="normal_abort"){throw M}}}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.parseDirective={};(function(){var c;var e;var a;var d;window.ABCXJS.parse.parseDirective.initialize=function(j,g,h,f){c=j;e=g;a=h;d=f};window.ABCXJS.parse.parseDirective.parseFontChangeLine=function(h){var f=h.split("$");if(f.length>1&&a.setfont){var j=[{text:f[0]}];for(var g=1;g<f.length;g++){if(f[g].charAt(0)==="0"){j.push({text:f[g].substring(1)})}else{if(f[g].charAt(0)==="1"&&a.setfont[1]){j.push({font:a.setfont[1],text:f[g].substring(1)})}else{if(f[g].charAt(0)==="2"&&a.setfont[2]){j.push({font:a.setfont[2],text:f[g].substring(1)})}else{if(f[g].charAt(0)==="3"&&a.setfont[3]){j.push({font:a.setfont[3],text:f[g].substring(1)})}else{if(f[g].charAt(0)==="4"&&a.setfont[4]){j.push({font:a.setfont[4],text:f[g].substring(1)})}else{j[j.length-1].text+="$"+f[g]}}}}}}if(j.length>1){return j}}return h};window.ABCXJS.parse.parseDirective.addDirective=function(P){var Y=function(t,aj){var p=c.getMeasurement(aj);if(p.used===0||aj.length!==0){return{error:'Directive "'+t+'" requires a measurement as a parameter.'}}return p.value};var U=function(t,aj){var p=c.getMeasurement(aj);if(p.used===0||aj.length!==0){return'Directive "'+t+'" requires a measurement as a parameter.'}d.formatting[t]=p.value;
return null};var E=function(ak){var p={};var t=window.ABCXJS.parse.last(ak);if(t.type==="number"){p.size=parseInt(t.token);ak.pop()}if(ak.length>0){var aj="";window.ABCXJS.parse.each(ak,function(al){if(al.token!=="-"){if(aj.length>0){aj+=" "}aj+=al.token}});p.font=aj}return p};var m=function(p,t){if(t.length===0){return'Directive "'+p+'" requires a font as a parameter.'}a[p]=E(t);return null};var u=function(p,t){if(t.length===0){return'Directive "'+p+'" requires a font as a parameter.'}d.formatting[p]=E(t);return null};var h=function(ak,al,am,aj,p){if(am.length!==1||am[0].type!=="number"){return'Directive "'+al+'" requires a number as a parameter.'}var t=am[0].intt;if(aj!==undefined&&t<aj){return'Directive "'+al+'" requires a number greater than or equal to '+aj+" as a parameter."}if(p!==undefined&&t>p){return'Directive "'+al+'" requires a number less than or equal to '+p+" as a parameter."}a[ak]=t;return null};var H=function(p,t,aj){var ak=h(p,t,aj,0,1);if(ak!==null){return ak}a[p]=(a[p]===1);return null};var N=c.tokenize(P,0,P.length);if(N.length===0||N[0].type!=="alpha"){return null}var g=P.substring(P.indexOf(N[0].token)+N[0].token.length);g=c.stripComment(g);var ac=N.shift().token.toLowerCase();var af;var l="";switch(ac){case"bagpipes":d.formatting.bagpipes=true;break;case"hidefingering":d.formatting.hideFingering=true;break;case"restsintab":d.formatting.restsInTab=true;break;case"slurgraces":d.formatting.slurgraces=true;break;case"stretchlast":d.formatting.stretchlast=true;break;case"titleleft":d.formatting.titleleft=true;break;case"measurebox":d.formatting.measurebox=true;break;case"landscape":a.landscape=true;break;case"papersize":a.papersize=g;break;case"titlecaps":a.titlecaps=true;break;case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return U(ac,N);case"vskip":var k=Y(ac,N);if(k.error){return k.error}d.addSpacing(k);return null;case"tabinferenceopts":l="";window.ABCXJS.parse.each(N,function(p){l+=p.token});af=parseFloat(l);if(isNaN(af)||af===0){return'Directive "'+ac+'" requires positive or negativenumber a number as a parameter.'}d.formatting.tabInferenceOpts=af;break;case"scale":l="";window.ABCXJS.parse.each(N,function(p){l+=p.token});af=parseFloat(l);if(isNaN(af)||af===0){return'Directive "'+ac+'" requires a number as a parameter.'}d.formatting.scale=af;break;case"sep":if(N.length===0){d.addSeparator()}else{var T=c.getMeasurement(N);if(T.used===0){return'Directive "'+ac+'" requires 3 numbers: space above, space below, length of line'}var M=T.value;T=c.getMeasurement(N);if(T.used===0){return'Directive "'+ac+'" requires 3 numbers: space above, space below, length of line'}var ai=T.value;T=c.getMeasurement(N);if(T.used===0||N.length!==0){return'Directive "'+ac+'" requires 3 numbers: space above, space below, length of line'}var D=T.value;d.addSeparator(M,ai,D)}break;case"barsperstaff":l=h("barsperstaff",ac,N);if(l!==null){return l}break;case"staffnonote":l=H("staffnonote",ac,N);if(l!==null){return l}break;case"printtempo":l=H("printTempo",ac,N);if(l!==null){return l}break;case"pagenumbering":a.pagenumbering=true;break;case"measurenb":case"barnumbers":l=h("barNumbers",ac,N);if(l!==null){return l}break;case"begintext":a.inTextBlock=true;break;case"continueall":a.continueall=true;break;case"beginps":a.inPsBlock=true;e("Postscript ignored",P,0);break;case"deco":if(g.length>0){a.ignoredDecorations.push(g.substring(0,g.indexOf(" ")))}e("Decoration redefinition ignored",P,0);break;case"text":var Z=c.translateString(g);d.addText(window.ABCXJS.parse.parseDirective.parseFontChangeLine(Z));break;case"center":var f=c.translateString(g);d.addCentered(window.ABCXJS.parse.parseDirective.parseFontChangeLine(f));break;case"font":break;case"setfont":var B=c.tokenize(g,0,g.length);var J=false;if(B.length>=4){if(B[0].token==="-"&&B[1].type==="number"){var j=parseInt(B[1].token);if(j>=1&&j<=4){if(!a.setfont){a.setfont=[]}var G=B.pop();if(G.type==="number"){G=parseInt(G.token);var x="";for(var z=2;z<B.length;z++){x+=B[z].token}a.setfont[j]={font:x,size:G};J=true}}}}if(!J){return"Bad parameters: "+ac}break;case"gchordfont":case"partsfont":case"vocalfont":case"textfont":return m(ac,N);case"barlabelfont":case"barnumberfont":case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":return u(ac,N);case"barnumfont":return u("barnumberfont",N);case"staves":case"score":a.score_is_present=true;var ah=function(am,aj,al,ak,t){if(aj||a.staves.length===0){a.staves.push({index:a.staves.length,numVoices:0,inEnding:[],inTie:[],inTieChord:[]})}var p=window.ABCXJS.parse.last(a.staves);if(al!==undefined){p.bracket=al}if(ak!==undefined){p.brace=ak}if(t){p.connectBarLines="end"}if(a.voices[am]===undefined){p.inEnding[p.numVoices]=false;p.inTie[p.numVoices]=false;p.inTieChord[p.numVoices]={};a.voices[am]={staffNum:p.index,index:p.numVoices,currBarNumber:1};p.numVoices++}};var R=false;var ab=false;var r=false;var S=false;var o=false;var s=false;var q=false;var w;var ag=function(){q=true;if(w){var p="start";if(w.staffNum>0){if(a.staves[w.staffNum-1].connectBarLines==="start"||a.staves[w.staffNum-1].connectBarLines==="continue"){p="continue"}}a.staves[w.staffNum].connectBarLines=p}};while(N.length){var W=N.shift();switch(W.token){case"(":if(R){e("Can't nest parenthesis in %%score",P,W.start)}else{R=true;S=true}break;case")":if(!R||S){e("Unexpected close parenthesis in %%score",P,W.start)}else{R=false}break;case"[":if(ab){e("Can't nest brackets in %%score",P,W.start)}else{ab=true;o=true}break;case"]":if(!ab||o){e("Unexpected close bracket in %%score",P,W.start)}else{ab=false;a.staves[w.staffNum].bracket="end"}break;case"{":if(r){e("Can't nest braces in %%score",P,W.start)}else{r=true;s=true}break;case"}":if(!r||s){e("Unexpected close brace in %%score",P,W.start)}else{r=false;a.staves[w.staffNum].brace="end"}break;case"|":ag();break;default:var F="";while(W.type==="alpha"||W.type==="number"){F+=W.token;if(W.continueId){W=N.shift()}else{break}}var L=!R||S;var O=o?"start":ab?"continue":undefined;var C=s?"start":r?"continue":undefined;ah(F,L,O,C,q);S=false;o=false;s=false;q=false;w=a.voices[F];if(ac==="staves"){ag()}break}}break;case"newpage":var y=c.getInt(g);d.addNewPage(y.digits===0?-1:y.value);break;case"abc-copyright":case"abc-creator":case"abc-version":case"abc-charset":case"abc-edited-by":d.addMetaText(ac,g);break;case"header":case"footer":var V=c.getMeat(g,0,g.length);V=g.substring(V.start,V.end);if(V.charAt(0)==='"'&&V.charAt(V.length-1)==='"'){V=V.substring(1,V.length-2)}var I=V.split("\t");var v={};if(I.length===1){v={left:"",center:I[0],right:""}}else{if(I.length===2){v={left:I[0],center:I[1],right:""}}else{v={left:I[0],center:I[1],right:I[2]}}}if(I.length>3){e("Too many tabs in "+ac+": "+I.length+" found.",g,0)
}d.addMetaTextObj(ac,v);break;case"midi":var aa=c.tokenize(g,0,g.length);if(aa.length>0&&aa[0].token==="="){aa.shift()}if(aa.length===0){e("Expected midi command",g,0)}else{var A=function(aj){if(aj.length>0){var ak=aj.shift();var al=ak.token;if(ak.type==="number"){al=ak.intt}return al}else{return null}};if(d.formatting[ac]===undefined){d.formatting[ac]={}}var K=aa.shift().token;var Q=true;if(K==="program"){var ae=A(aa);if(ae){var ad=A(aa);if(ad){Q={channel:ae,program:ad}}else{Q={program:ae}}}}else{var X=A(aa);if(X!==null){Q=X}}d.formatting[ac][K]=Q}break;case"playtempo":case"auquality":case"continuous":case"nobarcheck":d.formatting[ac]=g;break;default:return"Unknown directive: "+ac}return null}})();if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.ParseHeader=function(e,g,c,f,a){this.reset=function(j,l,h,k){window.ABCXJS.parse.parseKeyVoice.initialize(j,l,h,k);window.ABCXJS.parse.parseDirective.initialize(j,l,h,k)};this.reset(e,g,c,f);this.setTitle=function(h){if(c.hasMainTitle){c.subtitle=e.translateString(e.stripComment(h));f.addSubtitle(c.subtitle)}else{f.addMetaText("title",e.translateString(e.theReverser(e.stripComment(h))));c.hasMainTitle=true}};this.setMeter=function(r){r=e.stripComment(r);if(r==="C"){if(c.havent_set_length===true){c.default_length=0.125}return{type:"common_time"}}else{if(r==="C|"){if(c.havent_set_length===true){c.default_length=0.125}return{type:"cut_time"}}else{if(r==="o"){if(c.havent_set_length===true){c.default_length=0.125}return{type:"tempus_perfectum"}}else{if(r==="c"){if(c.havent_set_length===true){c.default_length=0.125}return{type:"tempus_imperfectum"}}else{if(r==="o."){if(c.havent_set_length===true){c.default_length=0.125}return{type:"tempus_perfectum_prolatio"}}else{if(r==="c."){if(c.havent_set_length===true){c.default_length=0.125}return{type:"tempus_imperfectum_prolatio"}}else{if(r.length===0||r.toLowerCase()==="none"){if(c.havent_set_length===true){c.default_length=0.125}return null}else{var o=e.tokenize(r,0,r.length);try{var m=function(){var t={value:0,num:""};var s=o.shift();if(s.token==="("){s=o.shift()}while(1){if(s.type!=="number"){throw"Expected top number of meter"}t.value+=parseInt(s.token);t.num+=s.token;if(o.length===0||o[0].token==="/"){return t}s=o.shift();if(s.token===")"){if(o.length===0||o[0].token==="/"){return t}throw"Unexpected paren in meter"}if(s.token!=="."&&s.token!=="+"){throw"Expected top number of meter"}t.num+=s.token;if(o.length===0){throw"Expected top number of meter"}s=o.shift()}return t};var h=function(){var t=m();if(o.length===0){return t}var s=o.shift();if(s.token!=="/"){throw"Expected slash in meter"}s=o.shift();if(s.type!=="number"){throw"Expected bottom number of meter"}t.den=s.token;t.value=t.value/parseInt(t.den);return t};if(o.length===0){throw"Expected meter definition in M: line"}var j={type:"specified",value:[]};var p=0;while(1){var l=h();p+=l.value;var q={num:l.num};if(l.den!==undefined){q.den=l.den}j.value.push(q);if(o.length===0){break}}if(c.havent_set_length===true){c.default_length=p<0.75?0.0625:0.125}return j}catch(k){g(k,r,0)}}}}}}}}return null};this.calcTempo=function(h){var k=1/4;if(c.meter&&c.meter.type==="specified"){k=1/parseInt(c.meter.value[0].den)}else{if(c.origMeter&&c.origMeter.type==="specified"){k=1/parseInt(c.origMeter.value[0].den)}}for(var j=0;j<h.duration;j++){h.duration[j]=k*h.duration[j]}return h};this.resolveTempo=function(){if(c.tempo){this.calcTempo(c.tempo);f.metaText.tempo=c.tempo;delete c.tempo}};this.addUserDefinition=function(j,p,h){var k=j.indexOf("=",p);if(k===-1){g("Need an = in a macro definition",j,p);return}var m=window.ABCXJS.parse.strip(j.substring(p,k));var o=window.ABCXJS.parse.strip(j.substring(k+1));if(m.length!==1){g("Macro definitions can only be one character",j,p);return}var l="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(l.indexOf(m)===-1){g("Macro definitions must be H-Y, h-w, or tilde",j,p);return}if(o.length===0){g("Missing macro definition",j,p);return}if(c.macros===undefined){c.macros={}}c.macros[m]=o};this.setDefaultLength=function(k,p,j){var h=window.ABCXJS.parse.gsub(k.substring(p,j)," ","");var o=h.split("/");if(o.length===2){var m=parseInt(o[0]);var l=parseInt(o[1]);if(l>0){c.default_length=m/l;c.havent_set_length=false}}};this.setTempo=function(s,h,l){try{var p=e.tokenize(s,h,l);if(p.length===0){throw"Missing parameter in Q: field"}var m={};var r=true;var k=p.shift();if(k.type==="quote"){m.preString=k.token;k=p.shift();if(p.length===0){return{type:"immediate",tempo:m}}}if(k.type==="alpha"&&k.token==="C"){if(p.length===0){throw"Missing tempo after C in Q: field"}k=p.shift();if(k.type==="punct"&&k.token==="="){if(p.length===0){throw"Missing tempo after = in Q: field"}k=p.shift();if(k.type!=="number"){throw"Expected number after = in Q: field"}m.duration=[1];m.bpm=parseInt(k.token)}else{if(k.type==="number"){m.duration=[parseInt(k.token)];if(p.length===0){throw"Missing = after duration in Q: field"}k=p.shift();if(k.type!=="punct"||k.token!=="="){throw"Expected = after duration in Q: field"}if(p.length===0){throw"Missing tempo after = in Q: field"}k=p.shift();if(k.type!=="number"){throw"Expected number after = in Q: field"}m.bpm=parseInt(k.token)}else{throw"Expected number or equal after C in Q: field"}}}else{if(k.type==="number"){var o=parseInt(k.token);if(p.length===0||p[0].type==="quote"){m.duration=[1];m.bpm=o}else{r=false;k=p.shift();if(k.type!=="punct"&&k.token!=="/"){throw"Expected fraction in Q: field"}k=p.shift();if(k.type!=="number"){throw"Expected fraction in Q: field"}var q=parseInt(k.token);m.duration=[o/q];while(p.length>0&&p[0].token!=="="&&p[0].type!=="quote"){k=p.shift();if(k.type!=="number"){throw"Expected fraction in Q: field"}o=parseInt(k.token);k=p.shift();if(k.type!=="punct"&&k.token!=="/"){throw"Expected fraction in Q: field"}k=p.shift();if(k.type!=="number"){throw"Expected fraction in Q: field"}q=parseInt(k.token);m.duration.push(o/q)}k=p.shift();if(k.type!=="punct"&&k.token!=="="){throw"Expected = in Q: field"}k=p.shift();if(k.type!=="number"){throw"Expected tempo in Q: field"}m.bpm=parseInt(k.token)}}else{throw"Unknown value in Q: field"}}if(p.length!==0){k=p.shift();if(k.type==="quote"){m.postString=k.token;k=p.shift()}if(p.length!==0){throw"Unexpected string at end of Q: field"}}if(c.printTempo===false){m.suppress=true}return{type:r?"delaySet":"immediate",tempo:m}}catch(j){g(j,s,h);return{type:"none"}}};this.letter_to_inline_header=function(k,m){var j=e.eatWhiteSpace(k,m);m+=j;if(k.length>=m+5&&k.charAt(m)==="["&&k.charAt(m+2)===":"){var q=k.indexOf("]",m);switch(k.substring(m,m+3)){case"[I:":var o=window.ABCXJS.parse.parseDirective.addDirective(k.substring(m+3,q));if(o){g(o,k,m)}return[q-m+1+j];case"[M:":var p=this.setMeter(k.substring(m+3,q));if(f.hasBeginMusic()&&p){f.appendStartingElement("meter",c.currTexLineNum,-1,-1,p)}else{c.meter=p}return[q-m+1+j];case"[K:":var h=window.ABCXJS.parse.parseKeyVoice.parseKey(k.substring(m+3,q));if(h.foundClef&&f.hasBeginMusic()){f.appendStartingElement("clef",c.currTexLineNum,-1,-1,c.clef)
}if(h.foundKey&&f.hasBeginMusic()){f.appendStartingElement("key",c.currTexLineNum,-1,-1,window.ABCXJS.parse.parseKeyVoice.fixKey(c.clef,c.key))}return[q-m+1+j];case"[P:":f.appendElement("part",c.currTexLineNum,-1,-1,{title:k.substring(m+3,q)});return[q-m+1+j];case"[L:":this.setDefaultLength(k,m+3,q);return[q-m+1+j];case"[Q:":if(q>0){var l=this.setTempo(k,m+3,q);if(l.type==="delaySet"){f.appendElement("tempo",c.currTexLineNum,-1,-1,this.calcTempo(l.tempo))}else{if(l.type==="immediate"){f.appendElement("tempo",c.currTexLineNum,-1,-1,l.tempo)}}return[q-m+1+j,k.charAt(m+1),k.substring(m+3,q)]}break;case"[V:":if(q>0){window.ABCXJS.parse.parseKeyVoice.parseVoice(k,m+3,q);return[q-m+1+j,k.charAt(m+1),k.substring(m+3,q)]}break;default:}}return[0]};this.letter_to_body_header=function(j,l){if(j.length>=l+3){switch(j.substring(l,l+2)){case"I:":var m=window.ABCXJS.parse.parseDirective.addDirective(j.substring(l+2));if(m){g(m,j,l)}return[j.length];case"M:":var o=this.setMeter(j.substring(l+2));if(f.hasBeginMusic()&&o){f.appendStartingElement("meter",c.currTexLineNum,-1,-1,o)}return[j.length];case"K:":var h=window.ABCXJS.parse.parseKeyVoice.parseKey(j.substring(l+2),a);if(h.foundClef&&f.hasBeginMusic()){f.appendStartingElement("clef",c.currTexLineNum,-1,-1,c.clef)}if(h.foundKey&&f.hasBeginMusic()){f.appendStartingElement("key",c.currTexLineNum,-1,-1,window.ABCXJS.parse.parseKeyVoice.fixKey(c.clef,c.key))}return[j.length];case"P:":if(f.hasBeginMusic()){f.appendElement("part",c.currTexLineNum,-1,-1,{title:j.substring(l+2)})}return[j.length];case"L:":this.setDefaultLength(j,l+2,j.length);return[j.length];case"Q:":var p=j.indexOf("\x12",l+2);if(p===-1){p=j.length}var k=this.setTempo(j,l+2,p);if(k.type==="delaySet"){f.appendElement("tempo",c.currTexLineNum,-1,-1,this.calcTempo(k.tempo))}else{if(k.type==="immediate"){f.appendElement("tempo",c.currTexLineNum,-1,-1,k.tempo)}}return[p,j.charAt(l),window.ABCXJS.parse.strip(j.substring(l+2))];case"V:":window.ABCXJS.parse.parseKeyVoice.parseVoice(j,2,j.length);return[j.length,j.charAt(l),window.ABCXJS.parse(j.substring(l+2))];default:}}return[0]};var d={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription",X:"pieceId"};this.parseHeader=function(k,j){if(window.ABCXJS.parse.startsWith(k,"%%")){var o=window.ABCXJS.parse.parseDirective.addDirective(k.substring(2));if(o){g(o,k,2)}return{}}k=e.stripComment(k);if(k.length===0){return{}}if(k.length>=2){if(k.charAt(1)===":"){var m="";if(k.indexOf("\x12")>=0&&k.charAt(0)!=="w"){m=k.substring(k.indexOf("\x12")+1);k=k.substring(0,k.indexOf("\x12"))}var p=d[k.charAt(0)];if(p!==undefined){if(p==="unalignedWords"){f.addMetaTextArray(p,window.ABCXJS.parse.parseDirective.parseFontChangeLine(e.translateString(e.stripComment(k.substring(2)))))}else{f.addMetaText(p,e.translateString(e.stripComment(k.substring(2))))}return{}}else{switch(k.charAt(0)){case"H":f.addMetaText("history",e.translateString(e.stripComment(k.substring(2))));c.is_in_history=true;break;case"K":this.resolveTempo();var h=window.ABCXJS.parse.parseKeyVoice.parseKey(k.substring(2),a,k,j);if(!c.is_in_header&&f.hasBeginMusic()){if(h.foundClef){f.appendStartingElement("clef",c.currTexLineNum,-1,-1,c.clef)}if(h.foundKey){f.appendStartingElement("key",c.currTexLineNum,-1,-1,window.ABCXJS.parse.parseKeyVoice.fixKey(c.clef,c.key))}}c.is_in_header=false;break;case"L":this.setDefaultLength(k,2,k.length);break;case"M":c.origMeter=c.meter=this.setMeter(k.substring(2));break;case"P":if(c.is_in_header){f.addMetaText("partOrder",e.translateString(e.stripComment(k.substring(2))))}else{c.partForNextLine=e.translateString(e.stripComment(k.substring(2)))}break;case"Q":var l=this.setTempo(k,2,k.length);if(l.type==="delaySet"){c.tempo=l.tempo}else{if(l.type==="immediate"){f.metaText.tempo=l.tempo}}break;case"T":this.setTitle(k.substring(2));break;case"U":this.addUserDefinition(k,2,k.length);break;case"V":window.ABCXJS.parse.parseKeyVoice.parseVoice(k,2,k.length);if(!c.is_in_header){return{newline:true}}break;case"s":return{symbols:true};case"f":return{fingering:true};case"w":return{words:true};case"E":case"m":g("Ignored header",k,0);break;default:if(m.length){m="\x12"+m}return{regular:true,str:k+m}}}if(m.length>0){return{recurse:true,str:m}}return{}}}return{regular:true,str:k}}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.parseKeyVoice={};(function(){var k;var g;var c;var f;window.ABCXJS.parse.parseKeyVoice.initialize=function(q,o,p,m){k=q;g=o;c=p;f=m};window.ABCXJS.parse.parseKeyVoice.standardKey=function(A){var q={acc:"sharp",note:"f"};var v={acc:"sharp",note:"c"};var z={acc:"sharp",note:"g"};var o={acc:"sharp",note:"d"};var t={acc:"sharp",note:"A"};var y={acc:"sharp",note:"e"};var C={acc:"sharp",note:"B"};var x={acc:"flat",note:"B"};var w={acc:"flat",note:"e"};var u={acc:"flat",note:"A"};var s={acc:"flat",note:"d"};var r={acc:"flat",note:"G"};var p={acc:"flat",note:"c"};var m={acc:"flat",note:"F"};var B={"C#":[q,v,z,o,t,y,C],"A#m":[q,v,z,o,t,y,C],"G#Mix":[q,v,z,o,t,y,C],"D#Dor":[q,v,z,o,t,y,C],"E#Phr":[q,v,z,o,t,y,C],"F#Lyd":[q,v,z,o,t,y,C],"B#Loc":[q,v,z,o,t,y,C],"F#":[q,v,z,o,t,y],"D#m":[q,v,z,o,t,y],"C#Mix":[q,v,z,o,t,y],"G#Dor":[q,v,z,o,t,y],"A#Phr":[q,v,z,o,t,y],BLyd:[q,v,z,o,t,y],"E#Loc":[q,v,z,o,t,y],B:[q,v,z,o,t],"G#m":[q,v,z,o,t],"F#Mix":[q,v,z,o,t],"C#Dor":[q,v,z,o,t],"D#Phr":[q,v,z,o,t],ELyd:[q,v,z,o,t],"A#Loc":[q,v,z,o,t],E:[q,v,z,o],"C#m":[q,v,z,o],BMix:[q,v,z,o],"F#Dor":[q,v,z,o],"G#Phr":[q,v,z,o],ALyd:[q,v,z,o],"D#Loc":[q,v,z,o],A:[q,v,z],"F#m":[q,v,z],EMix:[q,v,z],BDor:[q,v,z],"C#Phr":[q,v,z],DLyd:[q,v,z],"G#Loc":[q,v,z],D:[q,v],Bm:[q,v],AMix:[q,v],EDor:[q,v],"F#Phr":[q,v],GLyd:[q,v],"C#Loc":[q,v],G:[q],Em:[q],DMix:[q],ADor:[q],BPhr:[q],CLyd:[q],"F#Loc":[q],C:[],Am:[],GMix:[],DDor:[],EPhr:[],FLyd:[],BLoc:[],F:[x],Dm:[x],CMix:[x],GDor:[x],APhr:[x],BbLyd:[x],ELoc:[x],Bb:[x,w],Gm:[x,w],FMix:[x,w],CDor:[x,w],DPhr:[x,w],EbLyd:[x,w],ALoc:[x,w],Eb:[x,w,u],Cm:[x,w,u],BbMix:[x,w,u],FDor:[x,w,u],GPhr:[x,w,u],AbLyd:[x,w,u],DLoc:[x,w,u],Ab:[x,w,u,s],Fm:[x,w,u,s],EbMix:[x,w,u,s],BbDor:[x,w,u,s],CPhr:[x,w,u,s],DbLyd:[x,w,u,s],GLoc:[x,w,u,s],Db:[x,w,u,s,r],Bbm:[x,w,u,s,r],AbMix:[x,w,u,s,r],EbDor:[x,w,u,s,r],FPhr:[x,w,u,s,r],GbLyd:[x,w,u,s,r],CLoc:[x,w,u,s,r],Gb:[x,w,u,s,r,p],Ebm:[x,w,u,s,r,p],DbMix:[x,w,u,s,r,p],AbDor:[x,w,u,s,r,p],BbPhr:[x,w,u,s,r,p],CbLyd:[x,w,u,s,r,p],FLoc:[x,w,u,s,r,p],Cb:[x,w,u,s,r,p,m],Abm:[x,w,u,s,r,p,m],GbMix:[x,w,u,s,r,p,m],DbDor:[x,w,u,s,r,p,m],EbPhr:[x,w,u,s,r,p,m],FbLyd:[x,w,u,s,r,p,m],BbLoc:[x,w,u,s,r,p,m],"A#":[x,w],"B#":[],"D#":[x,w,u],"E#":[x],"G#":[x,w,u,s],Gbm:[q,v,z,o,t,y,C]};return B[A]};var d={accordionTab:{clef:"accordionTab",pitch:7.5,mid:0},treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6}};
var l=function(q,m){var p=d[q];var o=p?p.mid:0;return o+m};window.ABCXJS.parse.parseKeyVoice.fixClef=function(o){var m=d[o.type];if(m){o.clefPos=m.pitch;o.type=m.clef}};window.ABCXJS.parse.parseKeyVoice.deepCopyKey=function(o){var m={accidentals:[],root:o.root,acc:o.acc,mode:o.mode};window.ABCXJS.parse.each(o.accidentals,function(p){m.accidentals.push(window.ABCXJS.parse.clone(p))});return m};var e={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};window.ABCXJS.parse.parseKeyVoice.addPosToKey=function(p,o){var m=p.verticalPos;window.ABCXJS.parse.each(o.accidentals,function(q){var r=e[q.note];r=r-m;q.verticalPos=r});if(o.impliedNaturals){window.ABCXJS.parse.each(o.impliedNaturals,function(q){var r=e[q.note];r=r-m;q.verticalPos=r})}if(m<-10){window.ABCXJS.parse.each(o.accidentals,function(q){q.verticalPos-=7;if(q.verticalPos>=11||(q.verticalPos===10&&q.acc==="flat")){q.verticalPos-=7}if(q.note==="A"&&q.acc==="sharp"){q.verticalPos-=7}if((q.note==="G"||q.note==="F")&&q.acc==="flat"){q.verticalPos-=7}});if(o.impliedNaturals){window.ABCXJS.parse.each(o.impliedNaturals,function(q){q.verticalPos-=7;if(q.verticalPos>=11||(q.verticalPos===10&&q.acc==="flat")){q.verticalPos-=7}if(q.note==="A"&&q.acc==="sharp"){q.verticalPos-=7}if((q.note==="G"||q.note==="F")&&q.acc==="flat"){q.verticalPos-=7}})}}else{if(m<-4){window.ABCXJS.parse.each(o.accidentals,function(q){q.verticalPos-=7;if(m===-8&&(q.note==="f"||q.note==="g")&&q.acc==="sharp"){q.verticalPos-=7}});if(o.impliedNaturals){window.ABCXJS.parse.each(o.impliedNaturals,function(q){q.verticalPos-=7;if(m===-8&&(q.note==="f"||q.note==="g")&&q.acc==="sharp"){q.verticalPos-=7}})}}else{if(m>=7){window.ABCXJS.parse.each(o.accidentals,function(q){q.verticalPos+=7});if(o.impliedNaturals){window.ABCXJS.parse.each(o.impliedNaturals,function(q){q.verticalPos+=7})}}}}};window.ABCXJS.parse.parseKeyVoice.fixKey=function(p,m){var o=window.ABCXJS.parse.clone(m);window.ABCXJS.parse.parseKeyVoice.addPosToKey(p,o);return o};var a=function(p){var m=e[p.charAt(0)];for(var o=1;o<p.length;o++){if(p.charAt(o)===","){m-=7}else{if(p.charAt(o)===","){m+=7}else{break}}}return{mid:m-6,str:p.substring(o)}};var j=function(m){for(var o=0;o<m.length;o++){if(m[o].note==="b"){m[o].note="B"}else{if(m[o].note==="a"){m[o].note="A"}else{if(m[o].note==="F"){m[o].note="f"}else{if(m[o].note==="E"){m[o].note="e"}else{if(m[o].note==="D"){m[o].note="d"}else{if(m[o].note==="C"){m[o].note="c"}else{if(m[o].note==="G"&&m[o].acc==="sharp"){m[o].note="g"}else{if(m[o].note==="g"&&m[o].acc==="flat"){m[o].note="G"}}}}}}}}}};window.ABCXJS.parse.parseKeyVoice.parseKey=function(C,u,w,B){if(C.length===0){C="none"}var A=k.tokenize(C,0,C.length);var I={};switch(A[0].token){case"HP":window.ABCXJS.parse.parseDirective.addDirective("bagpipes");c.key={root:"HP",accidentals:[],acc:"",mode:""};I.foundKey=true;A.shift();break;case"Hp":window.ABCXJS.parse.parseDirective.addDirective("bagpipes");c.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""};I.foundKey=true;A.shift();break;case"none":c.key={root:"none",accidentals:[],acc:"",mode:""};I.foundKey=true;A.shift();break;default:if(u){A=u.transposeKey(C,w,B)}var s=k.getKeyPitch(A[0].token);if(s.len>0){I.foundKey=true;var p="";var z="";if(A[0].token.length>1){A[0].token=A[0].token.substring(1)}else{A.shift()}var J=s.token;if(A.length>0){var m=k.getSharpFlat(A[0].token);if(m.len>0){if(A[0].token.length>1){A[0].token=A[0].token.substring(1)}else{A.shift()}J+=m.token;p=m.token}if(A.length>0){var H=k.getMode(A[0].token);if(H.len>0){A.shift();J+=H.token;z=H.token}}}var v=window.ABCXJS.parse.parseKeyVoice.deepCopyKey(c.key);c.key=window.ABCXJS.parse.parseKeyVoice.deepCopyKey({accidentals:window.ABCXJS.parse.parseKeyVoice.standardKey(J)});c.key.root=s.token;c.key.acc=p;c.key.mode=z;if(v){var o;for(var E=0;E<c.key.accidentals.length;E++){for(o=0;o<v.accidentals.length;o++){if(v.accidentals[o].note&&c.key.accidentals[E].note.toLowerCase()===v.accidentals[o].note.toLowerCase()){v.accidentals[o].note=null}}}for(o=0;o<v.accidentals.length;o++){if(v.accidentals[o].note){if(!c.key.impliedNaturals){c.key.impliedNaturals=[]}c.key.impliedNaturals.push({acc:"natural",note:v.accidentals[o].note})}}}}break}if(A.length===0){return I}if(A[0].token==="exp"){A.shift()}if(A.length===0){return I}if(A[0].token==="oct"){A.shift()}if(A.length===0){return I}var x=k.getKeyAccidentals2(A);if(x.warn){g(x.warn,C,0)}if(x.accs){if(!I.foundKey){I.foundKey=true;c.key={root:"none",acc:"",mode:"",accidentals:[]}}j(x.accs);for(var G=0;G<x.accs.length;G++){var y=false;for(var F=0;F<c.key.accidentals.length&&!y;F++){if(c.key.accidentals[F].note===x.accs[G].note){y=true;c.key.accidentals[F].acc=x.accs[G].acc}}if(!y){c.key.accidentals.push(x.accs[G]);if(c.key.impliedNaturals){for(var r=0;r<c.key.impliedNaturals.length;r++){if(c.key.impliedNaturals[r].note===x.accs[G].note){c.key.impliedNaturals.splice(r,1)}}}}}}var q;while(A.length>0){switch(A[0].token){case"m":case"middle":A.shift();if(A.length===0){g("Expected = after middle",C,0);return I}q=A.shift();if(q.token!=="="){g("Expected = after middle",C,q.start);break}if(A.length===0){g("Expected parameter after middle=",C,0);return I}var t=k.getPitchFromTokens(A);if(t.warn){g(t.warn,C,0)}if(t.position){c.clef.verticalPos=t.position-6}break;case"transpose":A.shift();if(A.length===0){g("Expected = after transpose",C,0);return I}q=A.shift();if(q.token!=="="){g("Expected = after transpose",C,q.start);break}if(A.length===0){g("Expected parameter after transpose=",C,0);return I}if(A[0].type!=="number"){g("Expected number after transpose",C,A[0].start);break}c.clef.transpose=A[0].intt;A.shift();break;case"stafflines":A.shift();if(A.length===0){g("Expected = after stafflines",C,0);return I}q=A.shift();if(q.token!=="="){g("Expected = after stafflines",C,q.start);break}if(A.length===0){g("Expected parameter after stafflines=",C,0);return I}if(A[0].type!=="number"){g("Expected number after stafflines",C,A[0].start);break}c.clef.stafflines=A[0].intt;A.shift();break;case"staffscale":A.shift();if(A.length===0){g("Expected = after staffscale",C,0);return I}q=A.shift();if(q.token!=="="){g("Expected = after staffscale",C,q.start);break}if(A.length===0){g("Expected parameter after staffscale=",C,0);return I}if(A[0].type!=="number"){g("Expected number after staffscale",C,A[0].start);break}c.clef.staffscale=A[0].floatt;A.shift();break;case"style":A.shift();if(A.length===0){g("Expected = after style",C,0);return I}q=A.shift();if(q.token!=="="){g("Expected = after style",C,q.start);break}if(A.length===0){g("Expected parameter after style=",C,0);return I}switch(A[0].token){case"normal":case"harmonic":case"rhythm":case"x":c.style=A[0].token;A.shift();break;default:g("error parsing style element: "+A[0].token,C,A[0].start);break}break;case"clef":A.shift();if(A.length===0){g("Expected = after clef",C,0);return I}q=A.shift();if(q.token!=="="){g("Expected = after clef",C,q.start);break}if(A.length===0){g("Expected parameter after clef=",C,0);
return I}case"treble":case"accordionTab":case"bass":case"alto":case"tenor":case"perc":var D=A.shift();switch(D.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"accordionTab":D.token="accordionTab";break;case"C":D.token="alto";break;case"F":D.token="bass";break;case"G":D.token="treble";break;case"c":D.token="alto";break;case"f":D.token="bass";break;case"g":D.token="treble";break;default:g("Expected clef name. Found "+D.token,C,D.start);break}if(A.length>0&&A[0].type==="number"){D.token+=A[0].token;A.shift()}if(A.length>1&&(A[0].token==="-"||A[0].token==="+")&&A[1].token==="8"){D.token+=A[0].token+A[1].token;A.shift();A.shift()}c.clef={type:D.token,verticalPos:l(D.token,0)};I.foundClef=true;break;default:g("Unknown parameter: "+A[0].token,C,A[0].start);A.shift()}}return I};var h=function(m){c.currentVoice=c.voices[m];f.setCurrentVoice(c.currentVoice.staffNum,c.currentVoice.index)};window.ABCXJS.parse.parseKeyVoice.parseVoice=function(q,A,B){var F=k.getMeat(q,A,B);var o=F.start;var m=F.end;var w=k.getToken(q,o,m);if(w.length===0){g("Expected a voice id",q,o);return}var D=false;if(c.voices[w]===undefined){c.voices[w]={currBarNumber:1};D=true;if(c.score_is_present&&w.toLowerCase().substr(0,3)!=="tab"){g("Can't have an unknown V: id when the %score directive is present",q,o)}}o+=w.length;o+=k.eatWhiteSpace(q,o);var t={startStaff:D};var G=function(v){var s=k.getVoiceToken(q,o,m);if(s.warn!==undefined){g("Expected value for "+v+" in voice: "+s.warn,q,o)}else{if(s.token.length===0&&q.charAt(o)!=='"'){g("Expected value for "+v+" in voice",q,o)}else{t[v]=s.token}}o+=s.len};var C=function(I,v,H){var s=k.getVoiceToken(q,o,m);if(s.warn!==undefined){g("Expected value for "+v+" in voice: "+s.warn,q,o)}else{if(s.token.length===0&&q.charAt(o)!=='"'){g("Expected value for "+v+" in voice",q,o)}else{if(H==="number"){s.token=parseFloat(s.token)}c.voices[I][v]=s.token}}o+=s.len};while(o<m){var p=k.getVoiceToken(q,o,m);o+=p.len;if(p.warn){g("Error parsing voice: "+p.warn,q,o)}else{var y=null;switch(p.token){case"clef":case"cl":G("clef");var x=0;if(t.clef!==undefined){t.clef=t.clef.replace(/[',]/g,"");if(t.clef.indexOf("+16")!==-1){x+=14;t.clef=t.clef.replace("+16","")}t.verticalPos=l(t.clef,x);c.clef={type:t.clef,verticalPos:t.verticalPos};c.voices[w].clef={type:t.clef,verticalPos:t.verticalPos}}break;case"accordionTab":case"treble":case"bass":case"tenor":case"alto":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var z=0;t.clef=p.token.replace(/[',]/g,"");t.verticalPos=l(t.clef,z);c.clef={type:t.clef,verticalPos:t.verticalPos};c.voices[w].clef=c.clef;break;case"staves":case"stave":case"stv":G("staves");break;case"brace":case"brc":G("brace");break;case"bracket":case"brk":G("bracket");break;case"name":case"nm":G("name");break;case"subname":case"sname":case"snm":G("subname");break;case"merge":t.startStaff=false;break;case"stem":case"stems":y=k.getVoiceToken(q,o,m);if(y.warn!==undefined){g("Expected value for stems in voice: "+y.warn,q,o)}else{if(y.token==="up"||y.token==="down"){c.voices[w].stem=y.token}else{g("Expected up or down for voice stem",q,o)}}o+=y.len;break;case"up":case"down":c.voices[w].stem=p.token;break;case"middle":case"m":G("verticalPos");t.verticalPos=a(t.verticalPos).mid;break;case"gchords":case"gch":c.voices[w].suppressChords=true;break;case"space":case"spc":G("spacing");break;case"scale":C(w,"scale","number");break;case"transpose":C(w,"transpose","number");break;default:g("Error parsing voice. Unknown token: "+p.token,q,o)}}o+=k.eatWhiteSpace(q,o)}if(t.startStaff||c.staves.length===0){c.staves.push({index:c.staves.length,meter:c.origMeter,inEnding:[false],inTie:[false],inTieChord:[{}]});if(!c.score_is_present){c.staves[c.staves.length-1].numVoices=0}}if(c.voices[w].staffNum===undefined){c.voices[w].staffNum=c.staves.length-1;var E=0;for(var r in c.voices){if(c.voices.hasOwnProperty(r)){if(c.voices[r].staffNum===c.voices[w].staffNum){E++}}}c.voices[w].index=E-1}var u=c.staves[c.voices[w].staffNum];if(!c.score_is_present){u.numVoices++}if(t.clef){u.clef={type:t.clef,verticalPos:t.verticalPos}}if(t.spacing){u.spacing_below_offset=t.spacing}if(t.verticalPos){u.verticalPos=t.verticalPos}if(t.name){if(u.name){u.name.push(t.name)}else{u.name=[t.name]}}if(t.subname){if(u.subname){u.subname.push(t.subname)}else{u.subname=[t.subname]}}h(w)}})();if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.tokenizer=function(){this.skipWhiteSpace=function(k){for(var j=0;j<k.length;j++){if(!this.isWhiteSpace(k.charAt(j))){return j}}return k.length};var h=function(k,j){return j>=k.length};this.eatWhiteSpace=function(j,k){for(var l=k;l<j.length;l++){if(!this.isWhiteSpace(j.charAt(l))){return l-k}}return l-k};this.getKeyPitch=function(k){var j=this.skipWhiteSpace(k);if(h(k,j)){return{len:0}}switch(k.charAt(j)){case"A":return{len:j+1,token:"A"};case"B":return{len:j+1,token:"B"};case"C":return{len:j+1,token:"C"};case"D":return{len:j+1,token:"D"};case"E":return{len:j+1,token:"E"};case"F":return{len:j+1,token:"F"};case"G":return{len:j+1,token:"G"}}return{len:0}};this.getSharpFlat=function(j){if(j==="bass"){return{len:0}}switch(j.charAt(0)){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}};this.getMode=function(m){var l=function(o,p){while(p<o.length&&((o.charAt(p)>="a"&&o.charAt(p)<="z")||(o.charAt(p)>="A"&&o.charAt(p)<="Z"))){p++}return p};var k=this.skipWhiteSpace(m);if(h(m,k)){return{len:0}}var j=m.substring(k,k+3).toLowerCase();if(j.length>1&&j.charAt(1)===" "||j.charAt(1)==="^"||j.charAt(1)==="_"||j.charAt(1)==="="){j=j.charAt(0)}switch(j){case"mix":return{len:l(m,k),token:"Mix"};case"dor":return{len:l(m,k),token:"Dor"};case"phr":return{len:l(m,k),token:"Phr"};case"lyd":return{len:l(m,k),token:"Lyd"};case"loc":return{len:l(m,k),token:"Loc"};case"aeo":return{len:l(m,k),token:"m"};case"maj":return{len:l(m,k),token:""};case"ion":return{len:l(m,k),token:""};case"min":return{len:l(m,k),token:"m"};case"m":return{len:l(m,k),token:"m"}}return{len:0}};this.getClef=function(q,p){var k=q;var o=this.skipWhiteSpace(q);if(h(q,o)){return{len:0}}var s=false;var r=q.substring(o);if(window.ABCXJS.parse.startsWith(r,"clef=")){s=true;r=r.substring(5);o+=5}if(r.length===0&&s){return{len:o+5,warn:"No clef specified: "+k}}var m=this.skipWhiteSpace(r);if(h(r,m)){return{len:0}}if(m>0){o+=m;r=r.substring(m)}var l=null;if(window.ABCXJS.parse.startsWith(r,"treble")){l="treble"}else{if(window.ABCXJS.parse.startsWith(r,"bass3")){l="bass3"}else{if(window.ABCXJS.parse.startsWith(r,"bass")){l="bass"}else{if(window.ABCXJS.parse.startsWith(r,"tenor")){l="tenor"}else{if(window.ABCXJS.parse.startsWith(r,"alto2")){l="alto2"}else{if(window.ABCXJS.parse.startsWith(r,"alto1")){l="alto1"}else{if(window.ABCXJS.parse.startsWith(r,"alto")){l="alto"
}else{if(!p&&(s&&window.ABCXJS.parse.startsWith(r,"none"))){l="none"}else{if(window.ABCXJS.parse.startsWith(r,"perc")){l="perc"}else{if(!p&&(s&&window.ABCXJS.parse.startsWith(r,"C"))){l="tenor"}else{if(!p&&(s&&window.ABCXJS.parse.startsWith(r,"F"))){l="bass"}else{if(!p&&(s&&window.ABCXJS.parse.startsWith(r,"G"))){l="treble"}else{return{len:o+5,warn:"Unknown clef specified: "+k}}}}}}}}}}}}}r=r.substring(l.length);m=this.isMatch(r,"+8");if(m>0){l+="+8"}else{m=this.isMatch(r,"-8");if(m>0){l+="-8"}}return{len:o+l.length,token:l,explicit:s}};this.getBarLine=function(j,l){switch(j.charAt(l)){case"]":++l;switch(j.charAt(l)){case"|":return{len:2,token:"bar_thick_thin"};case"[":++l;if((j.charAt(l)>="1"&&j.charAt(l)<="9")||j.charAt(l)==='"'){return{len:2,token:"bar_invisible"}}return{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}break;case":":++l;switch(j.charAt(l)){case":":return{len:2,token:"bar_dbl_repeat"};case"|":++l;switch(j.charAt(l)){case"]":++l;switch(j.charAt(l)){case"|":++l;if(j.charAt(l)===":"){return{len:5,token:"bar_dbl_repeat"}}return{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}break;case":":return{len:3,token:"bar_dbl_repeat"};case"|":++l;if(j.charAt(l)===":"){return{len:4,token:"bar_dbl_repeat"}}return{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}break;default:return{len:1,warn:"Unknown bar symbol"}}break;case"[":++l;if(j.charAt(l)==="|"){++l;switch(j.charAt(l)){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}}else{if((j.charAt(l)>="1"&&j.charAt(l)<="9")||j.charAt(l)==='"'){return{len:1,token:"bar_invisible"}}return{len:0}}break;case"|":++l;switch(j.charAt(l)){case"]":return{len:2,token:"bar_thin_thick"};case"|":++l;if(j.charAt(l)===":"){return{len:3,token:"bar_left_repeat"}}return{len:2,token:"bar_thin_thin"};case":":var k=0;while(j.charAt(l+k)===":"){k++}return{len:1+k,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}break}return{len:0}};this.getTokenOf=function(l,k){for(var j=0;j<l.length;j++){if(k.indexOf(l.charAt(j))<0){return{len:j,token:l.substring(0,j)}}}return{len:j,token:l}};this.getToken=function(l,m,j){var k=m;while(k<j&&!this.isWhiteSpace(l.charAt(k))){k++}return l.substring(m,k)};this.isMatch=function(l,j){var k=this.skipWhiteSpace(l);if(h(l,k)){return 0}if(window.ABCXJS.parse.startsWith(l.substring(k),j)){return k+j.length}return 0};this.getPitchFromTokens=function(l){var j={};var k=ABCXJS.parse.pitches;j.position=k[l[0].token];if(j.position===undefined){return{warn:"Pitch expected. Found: "+l[0].token}}l.shift();while(l.length){switch(l[0].token){case",":j.position-=7;l.shift();break;case"'":j.position+=7;l.shift();break;default:return j}}return j};this.getKeyAccidentals2=function(l){var j;while(l.length>0){var k;if(l[0].token==="^"){k="sharp";l.shift();if(l.length===0){return{accs:j,warn:"Expected note name after "+k}}switch(l[0].token){case"^":k="dblsharp";l.shift();break;case"/":k="quartersharp";l.shift();break}}else{if(l[0].token==="="){k="natural";l.shift()}else{if(l[0].token==="_"){k="flat";l.shift();if(l.length===0){return{accs:j,warn:"Expected note name after "+k}}switch(l[0].token){case"_":k="dblflat";l.shift();break;case"/":k="quarterflat";l.shift();break}}else{return{accs:j}}}}if(l.length===0){return{accs:j,warn:"Expected note name after "+k}}switch(l[0].token.charAt(0)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":if(j===undefined){j=[]}j.push({acc:k,note:l[0].token.charAt(0)});if(l[0].token.length===1){l.shift()}else{l[0].token=l[0].token.substring(1)}break;default:return{accs:j,warn:"Expected note name after "+k+" Found: "+l[0].token}}}return{accs:j}};this.getKeyAccidental=function(m){var l={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"};var j=this.skipWhiteSpace(m);if(h(m,j)){return{len:0}}var k=null;switch(m.charAt(j)){case"^":case"_":case"=":k=m.charAt(j);break;default:return{len:0}}j++;if(h(m,j)){return{len:1,warn:"Expected note name after accidental"}}switch(m.charAt(j)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:j+1,token:{acc:l[k],note:m.charAt(j)}};case"^":case"_":case"/":k+=m.charAt(j);j++;if(h(m,j)){return{len:2,warn:"Expected note name after accidental"}}switch(m.charAt(j)){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:j+1,token:{acc:l[k],note:m.charAt(j)}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}};this.isWhiteSpace=function(j){return j===" "||j==="\t"||j==="\x12"};this.getMeat=function(k,m,j){var l=k.indexOf("%",m);if(l>=0&&l<j){j=l}while(m<j&&(k.charAt(m)===" "||k.charAt(m)==="\t"||k.charAt(m)==="\x12")){m++}while(m<j&&(k.charAt(j-1)===" "||k.charAt(j-1)==="\t"||k.charAt(j-1)==="\x12")){j--}return{start:m,end:j}};var e=function(j){return(j>="A"&&j<="Z")||(j>="a"&&j<="z")};var d=function(j){return(j>="0"&&j<="9")};this.tokenize=function(t,k,l){var p=this.getMeat(t,k,l);k=p.start;l=p.end;var r=[];var m;while(k<l){if(t.charAt(k)==='"'){m=k+1;while(m<l&&t.charAt(m)!=='"'){m++}r.push({type:"quote",token:t.substring(k+1,m),start:k+1,end:m});m++}else{if(e(t.charAt(k))){m=k+1;while(m<l&&e(t.charAt(m))){m++}r.push({type:"alpha",token:t.substring(k,m),continueId:d(t.charAt(m)),start:k,end:m});k=m+1}else{if(t.charAt(k)==="."&&d(t.charAt(m+1))){m=k+1;var s=null;var o=null;while(m<l&&d(t.charAt(m))){m++}o=parseFloat(t.substring(k,m));r.push({type:"number",token:t.substring(k,m),intt:s,floatt:o,continueId:e(t.charAt(m)),start:k,end:m});k=m+1}else{if(d(t.charAt(k))||(t.charAt(k)==="-"&&d(t.charAt(m+1)))){m=k+1;var j=null;var q=null;while(m<l&&d(t.charAt(m))){m++}if(t.charAt(m)==="."&&d(t.charAt(m+1))){m++;while(m<l&&d(t.charAt(m))){m++}}else{j=parseInt(t.substring(k,m))}q=parseFloat(t.substring(k,m));r.push({type:"number",token:t.substring(k,m),intt:j,floatt:q,continueId:e(t.charAt(m)),start:k,end:m});k=m+1}else{if(t.charAt(k)===" "||t.charAt(k)==="\t"){m=k+1}else{r.push({type:"punct",token:t.charAt(k),start:k,end:k+1});m=k+1}}}}}k=m}return r};this.getVoiceToken=function(k,p,j){var l=p;while(l<j&&this.isWhiteSpace(k.charAt(l))||k.charAt(l)==="="){l++}if(k.charAt(l)==='"'){var o=k.indexOf('"',l+1);if(o===-1||o>=j){return{len:1,err:"Missing close quote"}}return{len:o-p+1,token:this.translateString(k.substring(l+1,o))}}else{var m=l;while(m<j&&!this.isWhiteSpace(k.charAt(m))&&k.charAt(m)!=="="){m++}return{len:m-p+1,token:k.substring(l,m)}}};var g={"`a":"à","'a":"á","^a":"â","~a":"ã",'"a':"ä",oa:"å","=a":"ā",ua:"ă",";a":"ą","`e":"è","'e":"é","^e":"ê",'"e':"ë","=e":"ē",ue:"ĕ",";e":"ę",".e":"ė","`i":"ì","'i":"í","^i":"î",'"i':"ï","=i":"ī",ui:"ĭ",";i":"į","`o":"ò","'o":"ó","^o":"ô","~o":"õ",'"o':"ö","=o":"ō",uo:"ŏ","/o":"ø","`u":"ù","'u":"ú","^u":"û","~u":"ũ",'"u':"ü",ou:"ů","=u":"ū",uu:"ŭ",";u":"ų","`A":"À","'A":"Á","^A":"Â","~A":"Ã",'"A':"Ä",oA:"Å","=A":"Ā",uA:"Ă",";A":"Ą","`E":"È","'E":"É","^E":"Ê",'"E':"Ë","=E":"Ē",uE:"Ĕ",";E":"Ę",".E":"Ė","`I":"Ì","'I":"Í","^I":"Î","~I":"Ĩ",'"I':"Ï","=I":"Ī",uI:"Ĭ",";I":"Į",".I":"İ","`O":"Ò","'O":"Ó","^O":"Ô","~O":"Õ",'"O':"Ö","=O":"Ō",uO:"Ŏ","/O":"Ø","`U":"Ù","'U":"Ú","^U":"Û","~U":"Ũ",'"U':"Ü",oU:"Ů","=U":"Ū",uU:"Ŭ",";U":"Ų",ae:"æ",AE:"Æ",oe:"œ",OE:"Œ",ss:"ß","'c":"ć","^c":"ĉ",uc:"č",cc:"ç",".c":"ċ",cC:"Ç","'C":"Ć","^C":"Ĉ",uC:"Č",".C":"Ċ","~n":"ñ","=s":"š",vs:"š",vz:"ž"};
var f={"#":"♯",b:"♭","=":"♮"};var c={"201":"♯","202":"♭","203":"♮","241":"¡","242":"¢","252":"a","262":"2","272":"o","302":"Â","312":"Ê","322":"Ò","332":"Ú","342":"â","352":"ê","362":"ò","372":"ú","243":"£","253":"«","263":"3","273":"»","303":"Ã","313":"Ë","323":"Ó","333":"Û","343":"ã","353":"ë","363":"ó","373":"û","244":"¤","254":"¬","264":"  ́","274":"1⁄4","304":"Ä","314":"Ì","324":"Ô","334":"Ü","344":"ä","354":"ì","364":"ô","374":"ü","245":"¥","255":"-","265":"μ","275":"1⁄2","305":"Å","315":"Í","325":"Õ","335":"Ý","345":"å","355":"í","365":"õ","375":"ý","246":"¦","256":"®","266":"¶","276":"3⁄4","306":"Æ","316":"Î","326":"Ö","336":"Þ","346":"æ","356":"î","366":"ö","376":"þ","247":"§","257":" ̄","267":"·","277":"¿","307":"Ç","317":"Ï","327":"×","337":"ß","347":"ç","357":"ï","367":"÷","377":"ÿ","250":" ̈","260":"°","270":" ̧","300":"À","310":"È","320":"Ð","330":"Ø","340":"à","350":"è","360":"ð","370":"ø","251":"©","261":"±","271":"1","301":"Á","311":"É","321":"Ñ","331":"Ù","341":"á","351":"é","361":"ñ","371":"ù"};this.translateString=function(l){var j=l.split("\\");if(j.length===1){return l}var k=null;window.ABCXJS.parse.each(j,function(m){if(k===null){k=m}else{var o=g[m.substring(0,2)];if(o!==undefined){k+=o+m.substring(2)}else{o=c[m.substring(0,3)];if(o!==undefined){k+=o+m.substring(3)}else{o=f[m.substring(0,1)];if(o!==undefined){k+=o+m.substring(1)}else{k+="\\"+m}}}}});return k};this.getNumber=function(j,l){var k=0;while(l<j.length){switch(j.charAt(l)){case"0":k=k*10;l++;break;case"1":k=k*10+1;l++;break;case"2":k=k*10+2;l++;break;case"3":k=k*10+3;l++;break;case"4":k=k*10+4;l++;break;case"5":k=k*10+5;l++;break;case"6":k=k*10+6;l++;break;case"7":k=k*10+7;l++;break;case"8":k=k*10+8;l++;break;case"9":k=k*10+9;l++;break;default:return{num:k,index:l}}}return{num:k,index:l}};this.getFraction=function(s,m){var l=1;var q=1;if(s.charAt(m)!=="/"&&s.charAt(m)!=="."){var o=this.getNumber(s,m);l=o.num;m=o.index}if(s.charAt(m)==="."){m++;var o=this.getNumber(s,m);var k=o.num;m=o.index;l=parseFloat(l+"."+k)}if(s.charAt(m)==="/"){m++;if(s.charAt(m)==="/"){var j=0.5;while(s.charAt(m++)==="/"){j=j/2}return{value:l*j,index:m-1}}else{var r=m;var p=this.getNumber(s,m);if(p.num===0&&r===m){p.num=2}if(p.num!==0){q=p.num}m=p.index}}return{value:l/q,index:m}};this.theReverser=function(j){if(window.ABCXJS.parse.endsWith(j,", The")){return"The "+j.substring(0,j.length-5)}if(window.ABCXJS.parse.endsWith(j,", A")){return"A "+j.substring(0,j.length-3)}return j};this.stripComment=function(k){var j=k.indexOf("%");if(j>=0){return window.ABCXJS.parse.strip(k.substring(0,j))}return window.ABCXJS.parse.strip(k)};this.getInt=function(m){var j=parseInt(m);if(isNaN(j)){return{digits:0}}var l=""+j;var k=m.indexOf(l);return{value:j,digits:k+l.length}};this.getFloat=function(m){var j=parseFloat(m);if(isNaN(j)){return{digits:0}}var l=""+j;var k=m.indexOf(l);return{value:j,digits:k+l.length}};this.getMeasurement=function(m){if(m.length===0){return{used:0}}var l=1;var k="";if(m[0].token==="-"){m.shift();k="-";l++}else{if(m[0].type!=="number"){return{used:0}}}k+=m.shift().token;if(m.length===0){return{used:1,value:parseInt(k)}}var j=m.shift();if(j.token==="."){l++;if(m.length===0){return{used:l,value:parseInt(k)}}if(m[0].type==="number"){j=m.shift();k=k+"."+j.token;l++;if(m.length===0){return{used:l,value:parseFloat(k)}}}j=m.shift()}switch(j.token){case"pt":return{used:l+1,value:parseFloat(k)};case"cm":return{used:l+1,value:parseFloat(k)/2.54*72};case"in":return{used:l+1,value:parseFloat(k)*72};default:m.unshift(j);return{used:l,value:parseFloat(k)}}return{used:0}};var a=function(j){while(j.indexOf("\\n")!==-1){j=j.replace("\\n","\n")}return j};this.getBrackettedSubstring=function(j,k,q,o){var m=o||j.charAt(k);var l=j.substr(k+1).indexOf(m);if(l===-1){if(j.charAt(k+1)===" "){return[1,"",false,0]}else{var l=j.substr(k+1).indexOf(" ");if(l===-1){l=k+q>j.length-1?j.length-1:k+q;return[l-k+1,a(j.substring(k+1,l)),false]}}}var p=j.substr(k+1,l).split(":");return[l+2,p[0],true,p[1]===undefined?0:p[1]]}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.parse){window.ABCXJS.parse={}}window.ABCXJS.parse.Transposer=function(a){this.pitches=ABCXJS.parse.pitches;this.tokenizer=new ABCXJS.parse.tokenizer();this.reset(a)};window.ABCXJS.parse.Transposer.prototype.reset=function(a){this.offSet=a;this.currKey=[];this.newKeyAcc=[];this.oldKeyAcc=[];this.changedLines=[];this.deletedLines=[];this.newX=0;this.workingX=0;this.workingLine=-1;this.workingLineIdx=-1};window.ABCXJS.parse.Transposer.prototype.numberToStaff=function(f,d){var e;if(d.length>0&&d[0].acc==="flat"){e=ABCXJS.parse.number2staff[f]}else{e=ABCXJS.parse.number2staffSharp[f]}e.octVar=0;if(e.acc===""&&("EFBC").indexOf(e.note)>=0){var g;switch(e.note){case"E":g={note:"F",acc:"flat",octVar:0};break;case"F":g={note:"E",acc:"sharp",octVar:0};break;case"B":g={note:"C",acc:"flat",octVar:1};break;case"C":g={note:"B",acc:"sharp",octVar:-1};break}for(var c=0;c<d.length;c++){if(d[c].note.toUpperCase()===g.note&&d[c].acc===g.acc){e=g;break}}}return e};window.ABCXJS.parse.Transposer.prototype.transposeRegularMusicLine=function(r,f,e){var l=0;var q=false;var h=false;var c=0;var a=0;var o=-1;var p=-1;var d="^_=";var k="ABCDEFGabcdefg";var g=",'";var j='"!+';this.workingLine=r;this.vars=e;this.isBass=(this.vars.currentVoice.clef.type==="bass")||false;this.isChord=false;this.workingLineIdx=this.changedLines.length;this.changedLines[this.workingLineIdx]={line:f,text:r};this.workingX=0;this.newX=0;this.baraccidentals=[];this.baraccidentalsNew=[];while(l<r.length){q=false;h=false;a=0;while(l<r.length&&!q&&r.charAt(l)!=="%"){if(!h&&j.indexOf(r.charAt(l))>=0){var m=r.substr(l+1).indexOf(r.charAt(l));if(m<0){l=r.length}else{if(r.charAt(l)==='"'){this.transposeChord(l+1,m)}l+=m+2}continue}if(r.charAt(l)==="|"){this.baraccidentals=[];this.baraccidentalsNew=[]}c=d.indexOf(r.charAt(l))>=0?1:k.indexOf(r.charAt(l))>=0?2:g.indexOf(r.charAt(l))>=0?3:0;if((c<a&&h)||(a===2&&c===2&&h)){q=true;p=l}else{if(c>a&&!h){h=true;o=l}}a=c;c=0;if(q){this.transposeNote(o,p-o)}else{if(r.charAt(l)==="["){l=this.checkForInlineFields(l)}else{if(r.charAt(l)==="]"){this.isChord=false;delete this.lastPitch}l++}}}if(h&&!q){this.transposeNote(o,l-o)}if(r.charAt(l)==="%"){l=r.length}}return this.changedLines[this.workingLineIdx].text};window.ABCXJS.parse.Transposer.prototype.checkForInlineFields=function(a){var g=this.workingLine.substring(a);var f=g.match(/^\[([IKLMmNPQRrUV]\:.*?)\]/g);var e=a;if(f){var d=f[0].substr(1,f[0].length-2).split(":");switch(d[0]){case"K":this.transposeChord(a+3,d[1].length);e+=f[0].length;break;case"V":this.updateVoiceInfo(d[1]);e+=f[0].length;break;default:e+=f[0].length}}else{this.isChord=1;e+=1}return e};window.ABCXJS.parse.Transposer.prototype.updateVoiceInfo=function(a){this.vars.currentVoice=this.vars.voices[a];this.isBass=(this.vars.currentVoice.clef.type==="bass")||false};window.ABCXJS.parse.Transposer.prototype.transposeChord=function(h,l){var g=this.denormalizeAcc(this.workingLine.substring(h,h+l));
var d=g.match(/([ABCDEFG][#b]*[M+m°]*[0-9]*(\/[ABCDEFG0-9])*)/g);if(Math.abs(this.offSet)%12===0||!d||g!==d[0]){return}var f=g;d=g.match(/([ABCDEFG].*(\/[ABCDEFG]).*)/g);g=d===null?[g]:g.split("/");for(var k=0;k<g.length;k++){var a=this.parseKey(g[k]);var j=this.keyToNumber(a);var e=this.denormalizeAcc(this.numberToKey(j+this.offSet,this.offSet));f=f.replace(a,e)}this.updateWorkingLine(f,h,l)};window.ABCXJS.parse.Transposer.prototype.transposeNote=function(o,m){var c=this.workingLine.substr(o,m);var v=this.makeElem(c);var h=v.pitch;var s=this.extractStaffOctave(h);var f=this.staffNoteToCromatic(this.extractStaffNote(h));var a=v.accidental;var j=this.getAccOffset(a);if(v.accidental){this.baraccidentals[h]=j}var r=this.getKeyAccOffset(this.numberToKey(f,this.offSet),this.oldKeyAcc);var l=0;if(this.baraccidentals[h]!==undefined){l=f+this.baraccidentals[h]+this.offSet}else{l=f+r+this.offSet}var k=this.extractCromaticOctave(l);var l=this.extractCromaticNote(l);var d=this.numberToStaff(l,this.newKeyAcc);var t=this.getKeyAccOffset(d.note,this.newKeyAcc);var u=k+d.octVar;if(this.isBass){if(this.isChord&&this.isChord>1){var q=this.getPitch(d.note,s+u);if(this.offset>0){if(q<v.pitch){u++}}else{if(q>v.pitch){u--}}q=this.getPitch(d.note,s+u);if(q<this.lastPitch){u++}}else{u=0}this.isChord&&this.isChord++}this.lastPitch=h=this.getPitch(d.note,s+u);j=this.getAccOffset(d.acc);var e={};e.pitch=h;if(d.acc!==""){e.accidental=d.acc}var g=this.getAccOffset(this.baraccidentalsNew[e.pitch]);if(j===0){if(g&&g!==0||t!==0){e.accidental="natural"}}else{if(g&&g!==0){if(g===j){delete e.accidental}}else{if(t!==0){if(t===j){delete e.accidental}}}}if(e.accidental){this.baraccidentalsNew[e.pitch]=e.accidental}s=this.extractStaffOctave(h);var w=this.numberToKey(this.staffNoteToCromatic(this.extractStaffNote(h)),this.offSet);a=e.accidental;c=this.getAbcNote(w,a,s);this.updateWorkingLine(c,o,m);return e};window.ABCXJS.parse.Transposer.prototype.updateWorkingLine=function(d,a,c){var g=this.changedLines[this.workingLineIdx].text.substr(0,this.newX);var f=this.workingLine.substr(this.workingX,a-this.workingX);var e=this.workingLine.substr(a+c);this.workingX=a+c;this.changedLines[this.workingLineIdx].text=g+f+d;this.newX=this.changedLines[this.workingLineIdx].text.length;this.changedLines[this.workingLineIdx].text+=e};window.ABCXJS.parse.Transposer.prototype.getAbcNote=function(c,e,a){var d="";if(a>=5){c=c.toLowerCase();d=Array(a-4).join("'")}else{c=c.toUpperCase();d=Array(4-(a-1)).join(",")}return this.accNameToABC(e)+c+d};window.ABCXJS.parse.Transposer.prototype.transposeKey=function(h,e,d){var c=this.parseKey(h);this.currKey[this.currKey.length]=c;if(Math.abs(this.offSet)%12===0||!c){return this.tokenizer.tokenize(h,0,h.length)}var g=this.keyToNumber(c);var a=this.denormalizeAcc(this.numberToKey(g+this.offSet,this.offSet));this.currKey[this.currKey.length-1]=a;var f=h.replace(c,a);var j=e.substr(0,e.indexOf(h))+f;this.changedLines[this.changedLines.length]={line:d,text:j};this.oldKeyAcc=ABCXJS.parse.parseKeyVoice.standardKey(this.denormalizeAcc(h));this.newKeyAcc=ABCXJS.parse.parseKeyVoice.standardKey(this.denormalizeAcc(f));return this.tokenizer.tokenize(f,0,f.length)};window.ABCXJS.parse.Transposer.prototype.parseKey=function(e){var a=null;var d=this.tokenizer.tokenize(e,0,e.length);var f=this.tokenizer.getKeyPitch(d[0].token);if(f.len>0){a=f.token;if(d[0].token.length>1){d[0].token=d[0].token.substring(1)}else{d.shift()}if(d.length>0){var c=this.tokenizer.getSharpFlat(d[0].token);if(c.len>0){a+=c.token}}}return a};window.ABCXJS.parse.Transposer.prototype.deleteTabLine=function(a){this.deletedLines[a]=true};window.ABCXJS.parse.Transposer.prototype.updateEditor=function(a){for(d=0;d<this.changedLines.length;d++){a[this.changedLines[d].line]=this.changedLines[d].text}var c=a[0];for(var d=1;d<a.length;d++){if(!this.deletedLines[d]){c+="\n"+a[d]}}this.deletedLines=[];this.changedLines=[];return c+"\n"};window.ABCXJS.parse.Transposer.prototype.getKeyVoice=function(a){return(this.currKey[a]?this.currKey[a]:"C")};window.ABCXJS.parse.Transposer.prototype.normalizeAcc=function(a){return ABCXJS.parse.normalizeAcc(a)};window.ABCXJS.parse.Transposer.prototype.denormalizeAcc=function(a){return ABCXJS.parse.denormalizeAcc(a)};window.ABCXJS.parse.Transposer.prototype.getKeyAccOffset=function(d,e){for(var c=0;c<e.length;c++){if(e[c].note.toLowerCase()===d.toLowerCase()){return this.getAccOffset(e[c].acc)}}return 0};window.ABCXJS.parse.Transposer.prototype.staffNoteToCromatic=function(a){return a*2+(a>2?-1:0)};window.ABCXJS.parse.Transposer.prototype.extractStaffNote=function(a){a=a%7;return a<0?a+=7:a};window.ABCXJS.parse.Transposer.prototype.extractCromaticOctave=function(a){return Math.floor(a/12)};window.ABCXJS.parse.Transposer.prototype.extractCromaticNote=function(a){a=a%12;return a<0?a+=12:a};window.ABCXJS.parse.Transposer.prototype.extractStaffOctave=function(a){return Math.floor((28+a)/7)};window.ABCXJS.parse.Transposer.prototype.numberToKey=function(c,d){var a=c;a%=ABCXJS.parse.number2keysharp.length;if(a<0){a+=ABCXJS.parse.number2keysharp.length}if(d>0){a=ABCXJS.parse.number2keysharp[a]}else{a=ABCXJS.parse.number2keyflat[a]}return a};window.ABCXJS.parse.Transposer.prototype.keyToNumber=function(a){a=this.normalizeAcc(a);return ABCXJS.parse.key2number[a]};window.ABCXJS.parse.Transposer.prototype.getAccOffset=function(c){var a=0;switch(c){case"accidentals.dblsharp":case"dblsharp":a=2;break;case"accidentals.sharp":case"sharp":a=1;break;case"accidentals.nat":case"nat":case"natural":a=0;break;case"accidentals.flat":case"flat":a=-1;break;case"accidentals.dblflat":case"dblflat":a=-2;break}return a};window.ABCXJS.parse.Transposer.prototype.accNameToABC=function(c){var a="";switch(c){case"accidentals.dblsharp":case"dblsharp":a="^^";break;case"accidentals.sharp":case"sharp":a="^";break;case"accidentals.nat":case"nat":case"natural":a="=";break;case"accidentals.flat":case"flat":a="_";break;case"accidentals.dblflat":case"dblflat":a="__";break}return a};window.ABCXJS.parse.Transposer.prototype.accAbcToName=function(c){var a="";switch(c){case"^^":a="dblsharp";break;case"^":a="sharp";break;case"=":a="natural";break;case"_":a="flat";break;case"__":a="dblflat";break}return a};window.ABCXJS.parse.Transposer.prototype.getAccName=function(c){var a=["dblflat","flat","natural","sharp","dblsharp"];return a[c+2]};window.ABCXJS.parse.Transposer.prototype.getPitch=function(a,c){return this.pitches[a]+(c-4)*7};window.ABCXJS.parse.Transposer.prototype.makeElem=function(d){var a="ABCDEFGabcdefg";var c=0;while(a.indexOf(d.charAt(c))===-1){c++}var e=this.accAbcToName(d.substr(0,c));var f=this.pitches[d.charAt(c)];while(c<d.length){switch(d.charAt(c)){case"'":f+=7;break;case",":f-=7;break}c++}return(e?{pitch:f,accidental:e}:{pitch:f})};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}}ABCXJS.write.Glyphs=function(){var a={"n.0":{d:[["M",4.83,-14.97],["c",0.33,-0.03,1.11,0,1.47,0.06],["c",1.68,0.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,0.81,6.96,-0.9,9.27],["c",-0.78,1.08,-1.71,1.71,-2.91,1.95],["c",-0.45,0.09,-1.32,0.09,-1.77,0],["c",-0.81,-0.18,-1.47,-0.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",0.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,0.87],["c",-0.21,-0.06,-0.69,-0.09,-0.87,-0.06],["c",-0.54,0.12,-0.87,0.42,-1.17,0.99],["c",-0.36,0.66,-0.51,1.56,-0.6,3],["c",-0.03,0.75,-0.03,4.59,-0,5.31],["c",0.09,1.5,0.27,2.4,0.6,3.06],["c",0.24,0.48,0.57,0.78,0.96,0.9],["c",0.27,0.09,0.78,0.09,1.05,-0],["c",0.39,-0.12,0.72,-0.42,0.96,-0.9],["c",0.33,-0.66,0.51,-1.56,0.6,-3.06],["c",0.03,-0.72,0.03,-4.56,-0,-5.31],["c",-0.09,-1.47,-0.27,-2.37,-0.6,-3.03],["c",-0.24,-0.48,-0.54,-0.78,-0.93,-0.9],["z"]],w:10.78,h:14.959},"n.1":{d:[["M",3.3,-15.06],["c",0.06,-0.06,0.21,-0.03,0.66,0.15],["c",0.81,0.39,1.08,0.39,1.83,0.03],["c",0.21,-0.09,0.39,-0.15,0.42,-0.15],["c",0.12,0,0.21,0.09,0.27,0.21],["c",0.06,0.12,0.06,0.33,0.06,5.94],["c",0,3.93,0,5.85,0.03,6.03],["c",0.06,0.36,0.15,0.69,0.27,0.96],["c",0.36,0.75,0.93,1.17,1.68,1.26],["c",0.3,0.03,0.39,0.09,0.39,0.3],["c",0,0.15,-0.03,0.18,-0.09,0.24],["c",-0.06,0.06,-0.09,0.06,-0.48,0.06],["c",-0.42,-0,-0.69,-0.03,-2.1,-0.24],["c",-0.9,-0.15,-1.77,-0.15,-2.67,-0],["c",-1.41,0.21,-1.68,0.24,-2.1,0.24],["c",-0.39,-0,-0.42,-0,-0.48,-0.06],["c",-0.06,-0.06,-0.06,-0.09,-0.06,-0.24],["c",0,-0.21,0.06,-0.27,0.36,-0.3],["c",0.75,-0.09,1.32,-0.51,1.68,-1.26],["c",0.12,-0.27,0.21,-0.6,0.27,-0.96],["c",0.03,-0.18,0.03,-1.59,0.03,-4.29],["c",0,-3.87,0,-4.05,-0.06,-4.14],["c",-0.09,-0.15,-0.18,-0.24,-0.39,-0.24],["c",-0.12,-0,-0.15,0.03,-0.21,0.06],["c",-0.03,0.06,-0.45,0.99,-0.96,2.13],["c",-0.48,1.14,-0.9,2.1,-0.93,2.16],["c",-0.06,0.15,-0.21,0.24,-0.33,0.24],["c",-0.24,0,-0.42,-0.18,-0.42,-0.39],["c",0,-0.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},"n.2":{d:[["M",4.23,-14.97],["c",0.57,-0.06,1.68,0,2.34,0.18],["c",0.69,0.18,1.5,0.54,2.01,0.9],["c",1.35,0.96,1.95,2.25,1.77,3.81],["c",-0.15,1.35,-0.66,2.34,-1.68,3.15],["c",-0.6,0.48,-1.44,0.93,-3.12,1.65],["c",-1.32,0.57,-1.8,0.81,-2.37,1.14],["c",-0.57,0.33,-0.57,0.33,-0.24,0.27],["c",0.39,-0.09,1.26,-0.09,1.68,0],["c",0.72,0.15,1.41,0.45,2.1,0.9],["c",0.99,0.63,1.86,0.87,2.55,0.75],["c",0.24,-0.06,0.42,-0.15,0.57,-0.3],["c",0.12,-0.09,0.3,-0.42,0.3,-0.51],["c",0,-0.09,0.12,-0.21,0.24,-0.24],["c",0.18,-0.03,0.39,0.12,0.39,0.3],["c",0,0.12,-0.15,0.57,-0.3,0.87],["c",-0.54,1.02,-1.56,1.74,-2.79,2.01],["c",-0.42,0.09,-1.23,0.09,-1.62,0.03],["c",-0.81,-0.18,-1.32,-0.45,-2.01,-1.11],["c",-0.45,-0.45,-0.63,-0.57,-0.96,-0.69],["c",-0.84,-0.27,-1.89,0.12,-2.25,0.9],["c",-0.12,0.21,-0.21,0.54,-0.21,0.72],["c",0,0.12,-0.12,0.21,-0.27,0.24],["c",-0.15,0,-0.27,-0.03,-0.33,-0.15],["c",-0.09,-0.21,0.09,-1.08,0.33,-1.71],["c",0.24,-0.66,0.66,-1.26,1.29,-1.89],["c",0.45,-0.45,0.9,-0.81,1.92,-1.56],["c",1.29,-0.93,1.89,-1.44,2.34,-1.98],["c",0.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-0.06,-1.29,-0.39,-2.31,-0.96,-2.91],["c",-0.36,-0.33,-0.72,-0.51,-1.17,-0.54],["c",-0.84,-0.03,-1.53,0.42,-1.59,1.05],["c",-0.03,0.33,0.12,0.6,0.57,1.14],["c",0.45,0.54,0.54,0.87,0.42,1.41],["c",-0.15,0.63,-0.54,1.11,-1.08,1.38],["c",-0.63,0.33,-1.2,0.33,-1.83,0],["c",-0.24,-0.12,-0.33,-0.18,-0.54,-0.39],["c",-0.18,-0.18,-0.27,-0.3,-0.36,-0.51],["c",-0.24,-0.45,-0.27,-0.84,-0.21,-1.38],["c",0.12,-0.75,0.45,-1.41,1.02,-1.98],["c",0.72,-0.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.993},"n.3":{d:[["M",3.78,-14.97],["c",0.3,-0.03,1.41,0,1.83,0.06],["c",2.22,0.3,3.51,1.32,3.72,2.91],["c",0.03,0.33,0.03,1.26,-0.03,1.65],["c",-0.12,0.84,-0.48,1.47,-1.05,1.77],["c",-0.27,0.15,-0.36,0.24,-0.45,0.39],["c",-0.09,0.21,-0.09,0.36,0,0.57],["c",0.09,0.15,0.18,0.24,0.51,0.39],["c",0.75,0.42,1.23,1.14,1.41,2.13],["c",0.06,0.42,0.06,1.35,0,1.71],["c",-0.18,0.81,-0.48,1.38,-1.02,1.95],["c",-0.75,0.72,-1.8,1.2,-3.18,1.38],["c",-0.42,0.06,-1.56,0.06,-1.95,0],["c",-1.89,-0.33,-3.18,-1.29,-3.51,-2.64],["c",-0.03,-0.12,-0.03,-0.33,-0.03,-0.6],["c",0,-0.36,0,-0.42,0.06,-0.63],["c",0.12,-0.3,0.27,-0.51,0.51,-0.75],["c",0.24,-0.24,0.45,-0.39,0.75,-0.51],["c",0.21,-0.06,0.27,-0.06,0.6,-0.06],["c",0.33,0,0.39,0,0.6,0.06],["c",0.3,0.12,0.51,0.27,0.75,0.51],["c",0.36,0.33,0.57,0.75,0.6,1.2],["c",0,0.21,0,0.27,-0.06,0.42],["c",-0.09,0.18,-0.12,0.24,-0.54,0.54],["c",-0.51,0.36,-0.63,0.54,-0.6,0.87],["c",0.06,0.54,0.54,0.9,1.38,0.99],["c",0.36,0.06,0.72,0.03,0.96,-0.06],["c",0.81,-0.27,1.29,-1.23,1.44,-2.79],["c",0.03,-0.45,0.03,-1.95,-0.03,-2.37],["c",-0.09,-0.75,-0.33,-1.23,-0.75,-1.44],["c",-0.33,-0.18,-0.45,-0.18,-1.98,-0.18],["c",-1.35,0,-1.41,0,-1.5,-0.06],["c",-0.18,-0.12,-0.24,-0.39,-0.12,-0.6],["c",0.12,-0.15,0.15,-0.15,1.68,-0.15],["c",1.5,0,1.62,0,1.89,-0.15],["c",0.18,-0.09,0.42,-0.36,0.54,-0.57],["c",0.18,-0.42,0.27,-0.9,0.3,-1.95],["c",0.03,-1.2,-0.06,-1.8,-0.36,-2.37],["c",-0.24,-0.48,-0.63,-0.81,-1.14,-0.96],["c",-0.3,-0.06,-1.08,-0.06,-1.38,0.03],["c",-0.6,0.15,-0.9,0.42,-0.96,0.84],["c",-0.03,0.3,0.06,0.45,0.63,0.84],["c",0.33,0.24,0.42,0.39,0.45,0.63],["c",0.03,0.72,-0.57,1.5,-1.32,1.65],["c",-1.05,0.27,-2.1,-0.57,-2.1,-1.65],["c",0,-0.45,0.15,-0.96,0.39,-1.38],["c",0.12,-0.21,0.54,-0.63,0.81,-0.81],["c",0.57,-0.42,1.38,-0.69,2.25,-0.81],["z"]],w:9.735,h:14.967},"n.4":{d:[["M",8.64,-14.94],["c",0.27,-0.09,0.42,-0.12,0.54,-0.03],["c",0.09,0.06,0.15,0.21,0.15,0.3],["c",-0.03,0.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-0.03,0.06,0.12,0.06,2.55,0.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,0.03,-2.37,0.06,-2.46],["c",0.03,-0.06,0.21,-0.18,0.57,-0.42],["c",1.08,-0.72,1.38,-1.08,1.86,-2.16],["c",0.12,-0.3,0.24,-0.54,0.27,-0.57],["c",0.12,-0.12,0.39,-0.06,0.45,0.12],["c",0.06,0.09,0.06,0.57,0.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,0.06],["c",0.24,0.15,0.24,0.54,0,0.69],["c",-0.09,0.06,-0.15,0.06,-1.2,0.06],["l",-1.08,0],["l",0,0.33],["c",0,0.57,0.09,1.11,0.3,1.53],["c",0.36,0.75,0.93,1.17,1.68,1.26],["c",0.3,0.03,0.39,0.09,0.39,0.3],["c",0,0.15,-0.03,0.18,-0.09,0.24],["c",-0.06,0.06,-0.09,0.06,-0.48,0.06],["c",-0.42,0,-0.69,-0.03,-2.1,-0.24],["c",-0.9,-0.15,-1.77,-0.15,-2.67,0],["c",-1.41,0.21,-1.68,0.24,-2.1,0.24],["c",-0.39,0,-0.42,0,-0.48,-0.06],["c",-0.06,-0.06,-0.06,-0.09,-0.06,-0.24],["c",0,-0.21,0.06,-0.27,0.36,-0.3],["c",0.75,-0.09,1.32,-0.51,1.68,-1.26],["c",0.21,-0.42,0.3,-0.96,0.3,-1.53],["l",0,-0.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-0.15],["c",-0.18,-0.12,-0.3,-0.39,-0.27,-0.54],["c",0.03,-0.06,0.18,-0.24,0.33,-0.45],["c",0.75,-0.9,1.59,-2.07,2.13,-3.03],["c",0.33,-0.54,0.84,-1.62,1.05,-2.16],["c",0.57,-1.41,0.84,-2.64,0.9,-4.05],["c",0.03,-0.63,0.06,-0.72,0.24,-0.81],["l",0.12,-0.06],["l",0.45,0.12],["c",0.66,0.18,1.02,0.24,1.47,0.27],["c",0.6,0.03,1.23,-0.09,2.01,-0.33],["z"]],w:11.795,h:14.994},"n.5":{d:[["M",1.02,-14.94],["c",0.12,-0.09,0.03,-0.09,1.08,0.06],["c",2.49,0.36,4.35,0.36,6.96,-0.06],["c",0.57,-0.09,0.66,-0.06,0.81,0.06],["c",0.15,0.18,0.12,0.24,-0.15,0.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-0.6,0.09,-1.2,0.12,-1.71,0.12],["c",-0.39,0,-0.45,0,-0.57,0.06],["c",-0.09,0.06,-0.15,0.12,-0.21,0.21],["l",-0.06,0.12],["l",0,1.65],["l",0,1.65],["l",0.21,-0.21],["c",0.66,-0.57,1.41,-0.96,2.19,-1.14],["c",0.33,-0.06,1.41,-0.06,1.95,0],["c",2.61,0.36,4.02,1.74,4.26,4.14],["c",0.03,0.45,0.03,1.08,-0.03,1.44],["c",-0.18,1.02,-0.78,2.01,-1.59,2.7],["c",-0.72,0.57,-1.62,1.02,-2.49,1.2],["c",-1.38,0.27,-3.03,0.06,-4.2,-0.54],["c",-1.08,-0.54,-1.71,-1.32,-1.86,-2.28],["c",-0.09,-0.69,0.09,-1.29,0.57,-1.74],["c",0.24,-0.24,0.45,-0.39,0.75,-0.51],["c",0.21,-0.06,0.27,-0.06,0.6,-0.06],["c",0.33,0,0.39,0,0.6,0.06],["c",0.3,0.12,0.51,0.27,0.75,0.51],["c",0.36,0.33,0.57,0.75,0.6,1.2],["c",0,0.21,0,0.27,-0.06,0.42],["c",-0.09,0.18,-0.12,0.24,-0.54,0.54],["c",-0.18,0.12,-0.36,0.3,-0.42,0.33],["c",-0.36,0.42,-0.18,0.99,0.36,1.26],["c",0.51,0.27,1.47,0.36,2.01,0.27],["c",0.93,-0.21,1.47,-1.17,1.65,-2.91],["c",0.06,-0.45,0.06,-1.89,0,-2.31],["c",-0.15,-1.2,-0.51,-2.1,-1.05,-2.55],["c",-0.21,-0.18,-0.54,-0.36,-0.81,-0.39],["c",-0.3,-0.06,-0.84,-0.03,-1.26,0.06],["c",-0.93,0.18,-1.65,0.6,-2.16,1.2],["c",-0.15,0.21,-0.27,0.3,-0.39,0.3],["c",-0.15,0,-0.3,-0.09,-0.36,-0.18],["c",-0.06,-0.09,-0.06,-0.15,-0.06,-3.66],["c",0,-3.39,0,-3.57,0.06,-3.66],["c",0.03,-0.06,0.09,-0.15,0.15,-0.18],["z"]],w:10.212,h:14.997},"n.6":{d:[["M",4.98,-14.97],["c",0.36,-0.03,1.2,0,1.59,0.06],["c",0.9,0.15,1.68,0.51,2.25,1.05],["c",0.57,0.51,0.87,1.23,0.84,1.98],["c",-0.03,0.51,-0.21,0.9,-0.6,1.26],["c",-0.24,0.24,-0.45,0.39,-0.75,0.51],["c",-0.21,0.06,-0.27,0.06,-0.6,0.06],["c",-0.33,0,-0.39,0,-0.6,-0.06],["c",-0.3,-0.12,-0.51,-0.27,-0.75,-0.51],["c",-0.39,-0.36,-0.57,-0.78,-0.57,-1.26],["c",0,-0.27,0,-0.3,0.09,-0.42],["c",0.03,-0.09,0.18,-0.21,0.3,-0.3],["c",0.12,-0.09,0.3,-0.21,0.39,-0.27],["c",0.09,-0.06,0.21,-0.18,0.27,-0.24],["c",0.06,-0.12,0.09,-0.15,0.09,-0.33],["c",0,-0.18,-0.03,-0.24,-0.09,-0.36],["c",-0.24,-0.39,-0.75,-0.6,-1.38,-0.57],["c",-0.54,0.03,-0.9,0.18,-1.23,0.48],["c",-0.81,0.72,-1.08,2.16,-0.96,5.37],["l",0,0.63],["l",0.3,-0.12],["c",0.78,-0.27,1.29,-0.33,2.1,-0.27],["c",1.47,0.12,2.49,0.54,3.27,1.29],["c",0.48,0.51,0.81,1.11,0.96,1.89],["c",0.06,0.27,0.06,0.42,0.06,0.93],["c",0,0.54,0,0.69,-0.06,0.96],["c",-0.15,0.78,-0.48,1.38,-0.96,1.89],["c",-0.54,0.51,-1.17,0.87,-1.98,1.08],["c",-1.14,0.3,-2.4,0.33,-3.24,0.03],["c",-1.5,-0.48,-2.64,-1.89,-3.27,-4.02],["c",-0.36,-1.23,-0.51,-2.82,-0.42,-4.08],["c",0.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",0.66,7.41],["c",-0.27,-0.09,-0.81,-0.12,-1.08,-0.06],["c",-0.72,0.18,-1.08,0.69,-1.23,1.71],["c",-0.06,0.54,-0.06,3,0,3.54],["c",0.18,1.26,0.72,1.77,1.8,1.74],["c",0.39,-0.03,0.63,-0.09,0.9,-0.27],["c",0.66,-0.42,0.9,-1.32,0.9,-3.24],["c",0,-2.22,-0.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},"n.7":{d:[["M",0.21,-14.97],["c",0.21,-0.06,0.45,0,0.54,0.15],["c",0.06,0.09,0.06,0.15,0.06,0.39],["c",0,0.24,0,0.33,0.06,0.42],["c",0.06,0.12,0.21,0.24,0.27,0.24],["c",0.03,0,0.12,-0.12,0.24,-0.21],["c",0.96,-1.2,2.58,-1.35,3.99,-0.42],["c",0.15,0.12,0.42,0.3,0.54,0.45],["c",0.48,0.39,0.81,0.57,1.29,0.6],["c",0.69,0.03,1.5,-0.3,2.13,-0.87],["c",0.09,-0.09,0.27,-0.3,0.39,-0.45],["c",0.12,-0.15,0.24,-0.27,0.3,-0.3],["c",0.18,-0.06,0.39,0.03,0.51,0.21],["c",0.06,0.18,0.06,0.24,-0.27,0.72],["c",-0.18,0.24,-0.54,0.78,-0.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-0.03,0.33,-0.03,0.66,-0.03,1.26],["c",0,0.9,0,1.08,0.15,1.89],["c",0.06,0.45,0.06,0.48,0.03,0.6],["c",-0.06,0.09,-0.21,0.21,-0.3,0.21],["c",-0.03,0,-0.27,-0.06,-0.54,-0.15],["c",-0.84,-0.27,-1.11,-0.3,-1.65,-0.3],["c",-0.57,0,-0.84,0.03,-1.56,0.27],["c",-0.6,0.18,-0.69,0.21,-0.81,0.15],["c",-0.12,-0.06,-0.21,-0.18,-0.21,-0.3],["c",0,-0.15,0.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",0.21,-0.27,0.36,-0.48,0.33,-0.48],["c",0,0,-0.12,0.06,-0.27,0.12],["c",-0.54,0.3,-0.99,0.39,-1.56,0.39],["c",-0.75,0.03,-1.2,-0.18,-1.83,-0.75],["c",-0.99,-0.9,-1.83,-1.17,-2.31,-0.72],["c",-0.18,0.15,-0.36,0.51,-0.45,0.84],["c",-0.06,0.24,-0.06,0.33,-0.09,1.98],["c",0,1.62,-0.03,1.74,-0.06,1.8],["c",-0.15,0.24,-0.54,0.24,-0.69,0],["c",-0.06,-0.09,-0.06,-0.15,-0.06,-3.57],["c",0,-3.42,0,-3.48,0.06,-3.57],["c",0.03,-0.06,0.09,-0.12,0.15,-0.15],["z"]],w:10.561,h:15.093},"n.8":{d:[["M",4.98,-14.97],["c",0.33,-0.03,1.02,-0.03,1.32,0],["c",1.32,0.12,2.49,0.6,3.21,1.32],["c",0.39,0.39,0.66,0.81,0.78,1.29],["c",0.09,0.36,0.09,1.08,0,1.44],["c",-0.21,0.84,-0.66,1.59,-1.59,2.55],["l",-0.3,0.3],["l",0.27,0.18],["c",1.47,0.93,2.31,2.31,2.25,3.75],["c",-0.03,0.75,-0.24,1.35,-0.63,1.95],["c",-0.45,0.66,-1.02,1.14,-1.83,1.53],["c",-1.8,0.87,-4.2,0.87,-6,0.03],["c",-1.62,-0.78,-2.52,-2.16,-2.46,-3.66],["c",0.06,-0.99,0.54,-1.77,1.8,-2.97],["c",0.54,-0.51,0.54,-0.54,0.48,-0.57],["c",-0.39,-0.27,-0.96,-0.78,-1.2,-1.14],["c",-0.75,-1.11,-0.87,-2.4,-0.3,-3.6],["c",0.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,0.69],["c",-0.42,-0.09,-1.11,-0.12,-1.38,-0.06],["c",-0.3,0.06,-0.6,0.18,-0.81,0.3],["c",-0.21,0.12,-0.6,0.51,-0.72,0.72],["c",-0.51,0.87,-0.42,1.89,0.21,2.52],["c",0.21,0.21,0.36,0.3,1.95,1.23],["c",0.96,0.54,1.74,0.99,1.77,1.02],["c",0.09,0,0.63,-0.6,0.99,-1.11],["c",0.21,-0.36,0.48,-0.87,0.57,-1.23],["c",0.06,-0.24,0.06,-0.36,0.06,-0.72],["c",0,-0.45,-0.03,-0.66,-0.15,-0.99],["c",-0.39,-0.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-0.03,0,-0.18,0.15,-0.39,0.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",0.09,1.59,1.35,2.85,3.21,3.24],["c",0.33,0.06,0.45,0.06,0.93,0.06],["c",0.63,-0,0.81,-0.03,1.29,-0.27],["c",0.9,-0.42,1.47,-1.41,1.41,-2.4],["c",-0.06,-0.66,-0.39,-1.29,-0.9,-1.65],["c",-0.12,-0.09,-1.05,-0.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},"n.9":{d:[["M",4.23,-14.97],["c",0.42,-0.03,1.29,0,1.62,0.06],["c",0.51,0.12,0.93,0.3,1.38,0.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",0.18,2.55,-0.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-0.06,-2.31,-0.45,-3.03,-1.14],["c",-0.57,-0.51,-0.87,-1.23,-0.84,-1.98],["c",0.03,-0.51,0.21,-0.9,0.6,-1.26],["c",0.24,-0.24,0.45,-0.39,0.75,-0.51],["c",0.21,-0.06,0.27,-0.06,0.6,-0.06],["c",0.33,-0,0.39,-0,0.6,0.06],["c",0.3,0.12,0.51,0.27,0.75,0.51],["c",0.39,0.36,0.57,0.78,0.57,1.26],["c",0,0.27,0,0.3,-0.09,0.42],["c",-0.03,0.09,-0.18,0.21,-0.3,0.3],["c",-0.12,0.09,-0.3,0.21,-0.39,0.27],["c",-0.09,0.06,-0.21,0.18,-0.27,0.24],["c",-0.06,0.12,-0.06,0.15,-0.06,0.33],["c",0,0.18,0,0.24,0.06,0.36],["c",0.24,0.39,0.75,0.6,1.38,0.57],["c",0.54,-0.03,0.9,-0.18,1.23,-0.48],["c",0.81,-0.72,1.08,-2.16,0.96,-5.37],["l",0,-0.63],["l",-0.3,0.12],["c",-0.78,0.27,-1.29,0.33,-2.1,0.27],["c",-1.47,-0.12,-2.49,-0.54,-3.27,-1.29],["c",-0.48,-0.51,-0.81,-1.11,-0.96,-1.89],["c",-0.06,-0.27,-0.06,-0.42,-0.06,-0.96],["c",0,-0.51,0,-0.66,0.06,-0.93],["c",0.15,-0.78,0.48,-1.38,0.96,-1.89],["c",0.15,-0.12,0.33,-0.27,0.42,-0.36],["c",0.69,-0.51,1.62,-0.81,2.76,-0.93],["z"],["m",1.17,0.66],["c",-0.21,-0.06,-0.57,-0.06,-0.81,-0.03],["c",-0.78,0.12,-1.26,0.69,-1.41,1.74],["c",-0.12,0.63,-0.15,1.95,-0.09,2.79],["c",0.12,1.71,0.63,2.4,1.77,2.46],["c",1.08,0.03,1.62,-0.48,1.8,-1.74],["c",0.06,-0.54,0.06,-3,0,-3.54],["c",-0.15,-1.05,-0.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},f:{d:[["M",9.93,-14.28],["c",1.53,-0.18,2.88,0.45,3.12,1.5],["c",0.12,0.51,0,1.32,-0.27,1.86],["c",-0.15,0.3,-0.42,0.57,-0.63,0.69],["c",-0.69,0.36,-1.56,0.03,-1.83,-0.69],["c",-0.09,-0.24,-0.09,-0.69,0,-0.87],["c",0.06,-0.12,0.21,-0.24,0.45,-0.42],["c",0.42,-0.24,0.57,-0.45,0.6,-0.72],["c",0.03,-0.33,-0.09,-0.39,-0.63,-0.42],["c",-0.3,0,-0.45,0,-0.6,0.03],["c",-0.81,0.21,-1.35,0.93,-1.74,2.46],["c",-0.06,0.27,-0.48,2.25,-0.48,2.31],["c",0,0.03,0.39,0.03,0.9,0.03],["c",0.72,0,0.9,0,0.99,0.06],["c",0.42,0.15,0.45,0.72,0.03,0.9],["c",-0.12,0.06,-0.24,0.06,-1.17,0.06],["l",-1.05,0],["l",-0.78,2.55],["c",-0.45,1.41,-0.87,2.79,-0.96,3.06],["c",-0.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,0.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-0.18,-1.89,-0.78,-2.04,-1.59],["c",-0.12,-0.66,0.15,-1.71,0.54,-2.19],["c",0.69,-0.75,1.86,-0.54,2.22,0.39],["c",0.06,0.15,0.09,0.27,0.09,0.48],["c",-0,0.24,-0.03,0.27,-0.12,0.42],["c",-0.03,0.09,-0.15,0.18,-0.27,0.27],["c",-0.09,0.06,-0.27,0.21,-0.36,0.27],["c",-0.24,0.18,-0.36,0.36,-0.39,0.6],["c",-0.03,0.33,0.09,0.39,0.63,0.42],["c",0.42,0,0.63,-0.03,0.9,-0.15],["c",0.6,-0.3,0.96,-0.96,1.38,-2.64],["c",0.09,-0.42,0.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",-0,-0.03,-0.36,-0.03,-0.81,-0.03],["c",-0.72,0,-0.81,0,-0.93,-0.06],["c",-0.42,-0.18,-0.39,-0.75,0.03,-0.9],["c",0.09,-0.06,0.27,-0.06,1.05,-0.06],["l",0.96,0],["l",0,-0.09],["c",0.06,-0.18,0.3,-0.72,0.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",0.09,0,0.3,-0.03,0.45,-0.03],["c",0.24,0.03,0.3,0.03,0.45,0.12],["c",0.36,0.15,0.63,0.54,0.75,1.02],["l",0.03,0.21],["l",0.33,-0.3],["c",0.69,-0.69,1.38,-1.02,2.07,-1.02],["c",0.27,0,0.33,0,0.48,0.06],["c",0.21,0.09,0.48,0.36,0.63,0.6],["c",0.03,0.09,0.12,0.27,0.18,0.42],["c",0.03,0.15,0.09,0.27,0.12,0.27],["c",0,0,0.09,-0.09,0.18,-0.21],["c",0.33,-0.39,0.87,-0.81,1.29,-0.99],["c",0.78,-0.33,1.47,-0.21,2.01,0.33],["c",0.3,0.33,0.48,0.69,0.6,1.14],["c",0.09,0.42,0.06,0.54,-0.54,3.06],["c",-0.33,1.29,-0.57,2.4,-0.57,2.43],["c",0,0.12,0.09,0.21,0.21,0.21],["c",0.24,-0,0.75,-0.3,1.2,-0.72],["c",0.45,-0.39,0.6,-0.45,0.78,-0.27],["c",0.18,0.18,0.09,0.36,-0.45,0.87],["c",-1.05,0.96,-1.83,1.47,-2.58,1.71],["c",-0.93,0.33,-1.53,0.21,-1.8,-0.33],["c",-0.06,-0.15,-0.06,-0.21,-0.06,-0.45],["c",0,-0.24,0.03,-0.48,0.6,-2.82],["c",0.42,-1.71,0.6,-2.64,0.63,-2.79],["c",0.03,-0.57,-0.3,-0.75,-0.84,-0.48],["c",-0.24,0.12,-0.54,0.39,-0.66,0.63],["c",-0.03,0.09,-0.42,1.38,-0.9,3],["c",-0.9,3.15,-0.84,3,-1.14,3.15],["l",-0.15,0.09],["l",-0.78,0],["c",-0.6,0,-0.78,0,-0.84,-0.06],["c",-0.09,-0.03,-0.18,-0.18,-0.18,-0.27],["c",0,-0.03,0.36,-1.38,0.84,-2.97],["c",0.57,-2.04,0.81,-2.97,0.84,-3.12],["c",0.03,-0.54,-0.3,-0.72,-0.84,-0.45],["c",-0.24,0.12,-0.57,0.42,-0.66,0.63],["c",-0.06,0.09,-0.51,1.44,-1.05,2.97],["c",-0.51,1.56,-0.99,2.85,-0.99,2.91],["c",-0.06,0.12,-0.21,0.24,-0.36,0.3],["c",-0.12,0.06,-0.21,0.06,-0.9,0.06],["c",-0.6,0,-0.78,0,-0.84,-0.06],["c",-0.09,-0.03,-0.18,-0.18,-0.18,-0.27],["c",0,-0.03,0.45,-1.38,0.99,-2.97],["c",1.05,-3.18,1.05,-3.18,0.93,-3.45],["c",-0.12,-0.27,-0.39,-0.3,-0.72,-0.15],["c",-0.54,0.27,-1.14,1.17,-1.56,2.4],["c",-0.06,0.15,-0.15,0.3,-0.18,0.36],["c",-0.21,0.21,-0.57,0.27,-0.72,0.09],["c",-0.09,-0.09,-0.06,-0.21,0.06,-0.63],["c",0.48,-1.26,1.26,-2.46,2.01,-3.21],["c",0.57,-0.54,1.2,-0.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",0.27,-0.09,0.81,-0.06,1.11,0.03],["c",0.54,0.18,0.93,0.51,1.17,0.99],["c",0.09,0.15,0.15,0.33,0.18,0.36],["l",-0,0.12],["l",0.3,-0.27],["c",0.66,-0.6,1.35,-1.02,2.13,-1.2],["c",0.21,-0.06,0.33,-0.06,0.78,-0.06],["c",0.45,0,0.51,0,0.84,0.09],["c",1.29,0.33,2.07,1.32,2.25,2.79],["c",0.09,0.81,-0.09,2.01,-0.45,2.79],["c",-0.54,1.26,-1.86,2.55,-3.18,3.03],["c",-0.45,0.18,-0.81,0.24,-1.29,0.24],["c",-0.69,-0.03,-1.35,-0.18,-1.86,-0.45],["c",-0.3,-0.15,-0.51,-0.18,-0.69,-0.09],["c",-0.09,0.03,-0.18,0.09,-0.18,0.12],["c",-0.09,0.12,-1.05,2.94,-1.05,3.06],["c",0,0.24,0.18,0.48,0.51,0.63],["c",0.18,0.06,0.54,0.15,0.75,0.15],["c",0.21,0,0.36,0.06,0.42,0.18],["c",0.12,0.18,0.06,0.42,-0.12,0.54],["c",-0.09,0.03,-0.15,0.03,-0.78,0],["c",-1.98,-0.15,-3.81,-0.15,-5.79,0],["c",-0.63,0.03,-0.69,0.03,-0.78,0],["c",-0.24,-0.15,-0.24,-0.57,0.03,-0.66],["c",0.06,-0.03,0.48,-0.09,0.99,-0.12],["c",0.87,-0.06,1.11,-0.09,1.35,-0.21],["c",0.18,-0.06,0.33,-0.18,0.39,-0.3],["c",0.06,-0.12,3.24,-9.42,3.27,-9.6],["c",0.06,-0.33,0.03,-0.57,-0.15,-0.69],["c",-0.09,-0.06,-0.12,-0.06,-0.3,-0.06],["c",-0.69,0.06,-1.53,1.02,-2.28,2.61],["c",-0.09,0.21,-0.21,0.45,-0.27,0.51],["c",-0.09,0.12,-0.33,0.24,-0.48,0.24],["c",-0.18,0,-0.36,-0.15,-0.36,-0.3],["c",0,-0.24,0.78,-1.83,1.26,-2.55],["c",0.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-0.27,-0.12,-0.75,-0.03,-1.14,0.21],["c",-0.75,0.48,-1.47,1.68,-1.89,3.15],["c",-0.45,1.47,-0.42,2.34,0,2.7],["c",0.45,0.39,1.26,0.21,1.83,-0.36],["c",0.51,-0.51,0.99,-1.68,1.38,-3.27],["c",0.3,-1.17,0.33,-1.74,0.15,-2.13],["c",-0.09,-0.15,-0.15,-0.21,-0.33,-0.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",0.27,-0.03,0.93,0,1.2,0.06],["c",0.84,0.21,1.23,0.81,1.02,1.53],["c",-0.24,0.75,-0.9,1.17,-1.56,0.96],["c",-0.33,-0.09,-0.51,-0.3,-0.66,-0.75],["c",-0.03,-0.12,-0.09,-0.24,-0.12,-0.3],["c",-0.09,-0.15,-0.3,-0.24,-0.48,-0.24],["c",-0.57,0,-1.38,0.54,-1.65,1.08],["c",-0.06,0.15,-0.33,1.17,-0.9,3.27],["c",-0.57,2.31,-0.81,3.12,-0.87,3.21],["c",-0.03,0.06,-0.12,0.15,-0.18,0.21],["l",-0.12,0.06],["l",-0.81,0.03],["c",-0.69,0,-0.81,0,-0.9,-0.03],["c",-0.09,-0.06,-0.18,-0.21,-0.18,-0.3],["c",0,-0.06,0.39,-1.62,0.9,-3.51],["c",0.84,-3.24,0.87,-3.45,0.87,-3.72],["c",0,-0.21,0,-0.27,-0.03,-0.36],["c",-0.12,-0.15,-0.21,-0.24,-0.42,-0.24],["c",-0.24,0,-0.45,0.15,-0.78,0.42],["c",-0.33,0.36,-0.45,0.54,-0.72,1.14],["c",-0.03,0.12,-0.21,0.24,-0.36,0.27],["c",-0.12,0,-0.15,0,-0.24,-0.06],["c",-0.18,-0.12,-0.18,-0.21,-0.06,-0.54],["c",0.21,-0.57,0.42,-0.93,0.78,-1.32],["c",0.54,-0.51,1.2,-0.81,1.95,-0.87],["c",0.81,-0.03,1.53,0.3,1.92,0.87],["l",0.12,0.18],["l",0.09,-0.09],["c",0.57,-0.45,1.41,-0.84,2.19,-0.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",0.09,0,0.36,-0.03,0.57,-0.03],["c",0.75,0.03,1.29,0.24,1.71,0.63],["c",0.51,0.54,0.66,1.26,0.36,1.83],["c",-0.24,0.42,-0.63,0.57,-1.11,0.42],["c",-0.33,-0.09,-0.6,-0.36,-0.6,-0.57],["c",0,-0.03,0.06,-0.21,0.15,-0.39],["c",0.12,-0.21,0.15,-0.33,0.18,-0.48],["c",0,-0.24,-0.06,-0.48,-0.15,-0.6],["c",-0.15,-0.21,-0.42,-0.24,-0.75,-0.15],["c",-0.27,0.06,-0.48,0.18,-0.69,0.36],["c",-0.39,0.39,-0.51,0.96,-0.33,1.38],["c",0.09,0.21,0.42,0.51,0.78,0.72],["c",1.11,0.69,1.59,1.11,1.89,1.68],["c",0.21,0.39,0.24,0.78,0.15,1.29],["c",-0.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,0.24,-1.95,0.12,-2.7,-0.42],["c",-0.72,-0.51,-0.99,-1.47,-0.6,-2.19],["c",0.24,-0.48,0.72,-0.63,1.17,-0.42],["c",0.33,0.18,0.54,0.45,0.57,0.81],["c",0,0.21,-0.03,0.3,-0.33,0.51],["c",-0.33,0.24,-0.39,0.42,-0.27,0.69],["c",0.06,0.15,0.21,0.27,0.45,0.33],["c",0.3,0.09,0.87,0.09,1.2,-0],["c",0.75,-0.21,1.23,-0.72,1.29,-1.35],["c",0.03,-0.42,-0.15,-0.81,-0.54,-1.2],["c",-0.24,-0.24,-0.48,-0.42,-1.41,-1.02],["c",-0.69,-0.42,-1.05,-0.93,-1.05,-1.47],["c",0,-0.39,0.12,-0.87,0.3,-1.23],["c",0.27,-0.57,0.78,-1.05,1.38,-1.35],["c",0.24,-0.12,0.63,-0.27,0.9,-0.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",0.36,-0.09,0.81,-0.03,1.71,0.27],["c",0.78,0.21,0.96,0.27,1.74,0.3],["c",0.87,0.06,1.02,0.03,1.38,-0.21],["c",0.21,-0.15,0.33,-0.15,0.48,-0.06],["c",0.15,0.09,0.21,0.3,0.15,0.45],["c",-0.03,0.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",0.54,0.03],["c",0.54,0.03,0.72,0.03,2.01,0.15],["c",0.36,0.03,0.9,0.06,1.2,0.09],["c",0.66,0,0.81,-0.03,1.02,-0.24],["c",0.3,-0.3,0.39,-0.72,0.27,-1.23],["c",-0.06,-0.27,-0.06,-0.27,-0.03,-0.39],["c",0.15,-0.3,0.54,-0.27,0.69,0.03],["c",0.15,0.33,0.27,1.02,0.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-0.57,0.03,-1.02,-0.09,-2.01,-0.51],["c",-1.02,-0.42,-1.23,-0.48,-2.13,-0.54],["c",-0.81,-0.06,-0.96,-0.03,-1.26,0.18],["c",-0.12,0.06,-0.24,0.12,-0.27,0.12],["c",-0.27,0,-0.45,-0.3,-0.36,-0.51],["c",0.03,-0.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-0.03,0,-0.21,0.03,-0.42,0.06],["c",-0.21,0.03,-0.78,0.09,-1.23,0.12],["c",-1.11,0.12,-1.23,0.15,-1.95,0.27],["c",-0.72,0.15,-1.17,0.18,-1.29,0.09],["c",-0.27,-0.18,-0.21,-0.75,0.12,-1.26],["c",0.39,-0.6,0.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-11.19],["c",0.18,-0.09,0.36,-0.09,0.54,0],["c",0.18,0.09,0.24,0.15,0.33,0.3],["l",0.06,0.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,0.06],["c",0.06,0.03,0.15,0.09,0.18,0.12],["c",0.12,0.09,0.21,0.33,0.21,0.48],["c",0,0.15,-0.09,0.39,-0.21,0.48],["c",-0.03,0.03,-0.12,0.09,-0.18,0.12],["c",-0.12,0.06,-0.18,0.06,-1.41,0.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-0.06,1.41],["c",-0.09,0.18,-0.15,0.24,-0.3,0.33],["c",-0.21,0.09,-0.39,0.09,-0.57,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.06,-0.12,-0.06,-0.18,-0.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-0.06],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.09,-0.18,-0.09,-0.36,0,-0.54],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["l",0.15,-0.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,0.06,-1.41],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.32,-3.36],["c",0.57,-0.15,1.17,0.03,1.59,0.45],["c",0.45,0.45,0.6,0.96,0.51,1.89],["c",-0.09,1.23,-0.42,2.46,-0.99,3.93],["c",-0.3,0.72,-0.72,1.62,-0.78,1.68],["c",-0.18,0.21,-0.51,0.18,-0.66,-0.06],["c",-0.03,-0.06,-0.06,-0.15,-0.06,-0.18],["c",0,-0.06,0.12,-0.33,0.24,-0.63],["c",0.84,-1.8,1.02,-2.61,0.69,-3.24],["c",-0.12,-0.24,-0.27,-0.36,-0.75,-0.6],["c",-0.36,-0.15,-0.42,-0.21,-0.6,-0.39],["c",-0.69,-0.69,-0.69,-1.71,0,-2.4],["c",0.21,-0.21,0.51,-0.39,0.81,-0.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",0.18,-5.34],["c",0.09,-0.06,0.15,-0.06,2.31,-0.06],["c",2.46,0,2.37,0,2.46,0.21],["c",0.12,0.21,0.03,0.42,-0.15,0.54],["c",-0.09,0.06,-0.15,0.06,-2.28,0.06],["c",-2.16,0,-2.22,0,-2.31,-0.06],["c",-0.27,-0.15,-0.27,-0.54,-0.03,-0.69],["z"]],w:5.001,h:0.81},".":{d:[["M",1.32,-3.36],["c",1.05,-0.27,2.1,0.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-0.9,-0.21,-1.5,-1.14,-1.26,-2.04],["c",0.12,-0.63,0.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"accidentals.nat":{d:[["M",0.204,-11.4],["c",0.24,-0.06,0.78,0,0.99,0.15],["c",0.03,0.03,0.03,0.48,0,2.61],["c",-0.03,1.44,-0.03,2.61,-0.03,2.61],["c",0,0.03,0.75,-0.09,1.68,-0.24],["c",0.96,-0.18,1.71,-0.27,1.74,-0.27],["c",0.15,0.03,0.27,0.15,0.36,0.3],["l",0.06,0.12],["l",0.09,8.67],["c",0.09,6.96,0.12,8.67,0.09,8.67],["c",-0.03,0.03,-0.12,0.06,-0.21,0.09],["c",-0.24,0.09,-0.72,0.09,-0.96,0],["c",-0.09,-0.03,-0.18,-0.06,-0.21,-0.09],["c",-0.03,-0.03,-0.03,-0.48,0,-2.61],["c",0.03,-1.44,0.03,-2.61,0.03,-2.61],["c",0,-0.03,-0.75,0.09,-1.68,0.24],["c",-0.96,0.18,-1.71,0.27,-1.74,0.27],["c",-0.15,-0.03,-0.27,-0.15,-0.36,-0.3],["l",-0.06,-0.15],["l",-0.09,-7.53],["c",-0.06,-4.14,-0.09,-8.04,-0.12,-8.67],["l",0,-1.11],["l",0.15,-0.06],["c",0.09,-0.03,0.21,-0.06,0.27,-0.09],["z"],["m",3.75,8.4],["c",0,-0.33,0,-0.42,-0.03,-0.42],["c",-0.12,0,-2.79,0.45,-2.79,0.48],["c",-0.03,0,-0.09,6.3,-0.09,6.33],["c",0.03,0,2.79,-0.45,2.82,-0.48],["c",0,0,0.09,-4.53,0.09,-5.91],["z"]],w:5.411,h:22.8},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",0.21,-0.12,0.54,-0.03,0.66,0.24],["c",0.06,0.12,0.06,0.21,0.06,2.31],["c",0,1.23,0,2.22,0.03,2.22],["c",0,-0,0.27,-0.12,0.6,-0.24],["c",0.69,-0.27,0.78,-0.3,0.96,-0.15],["c",0.21,0.15,0.21,0.18,0.21,1.38],["c",0,1.02,0,1.11,-0.06,1.2],["c",-0.03,0.06,-0.09,0.12,-0.12,0.15],["c",-0.06,0.03,-0.42,0.21,-0.84,0.36],["l",-0.75,0.33],["l",-0.03,2.43],["c",0,1.32,0,2.43,0.03,2.43],["c",0,-0,0.27,-0.12,0.6,-0.24],["c",0.69,-0.27,0.78,-0.3,0.96,-0.15],["c",0.21,0.15,0.21,0.18,0.21,1.38],["c",0,1.02,0,1.11,-0.06,1.2],["c",-0.03,0.06,-0.09,0.12,-0.12,0.15],["c",-0.06,0.03,-0.42,0.21,-0.84,0.36],["l",-0.75,0.33],["l",-0.03,2.52],["c",0,2.28,-0.03,2.55,-0.06,2.64],["c",-0.21,0.36,-0.72,0.36,-0.93,-0],["c",-0.03,-0.09,-0.06,-0.33,-0.06,-2.43],["l",0,-2.31],["l",-1.29,0.51],["l",-1.26,0.51],["l",0,2.43],["c",0,2.58,0,2.52,-0.15,2.67],["c",-0.06,0.09,-0.27,0.18,-0.36,0.18],["c",-0.12,-0,-0.33,-0.09,-0.39,-0.18],["c",-0.15,-0.15,-0.15,-0.09,-0.15,-2.43],["c",0,-1.23,0,-2.22,-0.03,-2.22],["c",0,-0,-0.27,0.12,-0.6,0.24],["c",-0.69,0.27,-0.78,0.3,-0.96,0.15],["c",-0.21,-0.15,-0.21,-0.18,-0.21,-1.38],["c",0,-1.02,0,-1.11,0.06,-1.2],["c",0.03,-0.06,0.09,-0.12,0.12,-0.15],["c",0.06,-0.03,0.42,-0.21,0.84,-0.36],["l",0.78,-0.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-0.03,-2.43],["c",0,-0,-0.27,0.12,-0.6,0.24],["c",-0.69,0.27,-0.78,0.3,-0.96,0.15],["c",-0.21,-0.15,-0.21,-0.18,-0.21,-1.38],["c",0,-1.02,0,-1.11,0.06,-1.2],["c",0.03,-0.06,0.09,-0.12,0.12,-0.15],["c",0.06,-0.03,0.42,-0.21,0.84,-0.36],["l",0.78,-0.33],["l",0,-2.52],["c",0,-2.28,0.03,-2.55,0.06,-2.64],["c",0.21,-0.36,0.72,-0.36,0.93,0],["c",0.03,0.09,0.06,0.33,0.06,2.43],["l",0.03,2.31],["l",1.26,-0.51],["l",1.26,-0.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,0.06,-2.55],["c",0.06,-0.12,0.12,-0.18,0.27,-0.24],["z"],["m",-0.33,10.65],["l",0,-2.43],["l",-1.29,0.51],["l",-1.26,0.51],["l",0,2.46],["l",0,2.43],["l",0.09,-0.03],["c",0.06,-0.03,0.63,-0.27,1.29,-0.51],["l",1.17,-0.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.flat":{d:[["M",-0.36,-14.07],["c",0.33,-0.06,0.87,0,1.08,0.15],["c",0.06,0.03,0.06,0.36,-0.03,5.25],["c",-0.06,2.85,-0.09,5.19,-0.09,5.19],["c",0,0.03,0.12,-0.03,0.24,-0.12],["c",0.63,-0.42,1.41,-0.66,2.19,-0.72],["c",0.81,-0.03,1.47,0.21,2.04,0.78],["c",0.57,0.54,0.87,1.26,0.93,2.04],["c",0.03,0.57,-0.09,1.08,-0.36,1.62],["c",-0.42,0.81,-1.02,1.38,-2.82,2.61],["c",-1.14,0.78,-1.44,1.02,-1.8,1.44],["c",-0.18,0.18,-0.39,0.39,-0.45,0.42],["c",-0.27,0.18,-0.57,0.15,-0.81,-0.06],["c",-0.06,-0.09,-0.12,-0.18,-0.15,-0.27],["c",-0.03,-0.06,-0.09,-3.27,-0.18,-8.34],["c",-0.09,-4.53,-0.15,-8.58,-0.18,-9.03],["l",0,-0.78],["l",0.12,-0.06],["c",0.06,-0.03,0.18,-0.09,0.27,-0.12],["z"],["m",3.18,11.01],["c",-0.21,-0.12,-0.54,-0.15,-0.81,-0.06],["c",-0.54,0.15,-0.99,0.63,-1.17,1.26],["c",-0.06,0.3,-0.12,2.88,-0.06,3.87],["c",0.03,0.42,0.03,0.81,0.06,0.9],["l",0.03,0.12],["l",0.45,-0.39],["c",0.63,-0.54,1.26,-1.17,1.56,-1.59],["c",0.3,-0.42,0.6,-0.99,0.72,-1.41],["c",0.18,-0.69,0.09,-1.47,-0.18,-2.07],["c",-0.15,-0.3,-0.33,-0.51,-0.6,-0.63],["z"]],w:6.75,h:18.801},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",0.21,-0.12,0.54,-0.03,0.66,0.24],["c",0.06,0.12,0.06,0.21,0.06,2.01],["c",0,1.05,0,1.89,0.03,1.89],["l",0.72,-0.48],["c",0.69,-0.48,0.69,-0.51,0.87,-0.51],["c",0.15,0,0.18,0.03,0.27,0.09],["c",0.21,0.15,0.21,0.18,0.21,1.41],["c",0,1.11,-0.03,1.14,-0.09,1.23],["c",-0.03,0.03,-0.48,0.39,-1.02,0.75],["l",-0.99,0.66],["l",0,2.37],["c",0,1.32,0,2.37,0.03,2.37],["l",0.72,-0.48],["c",0.69,-0.48,0.69,-0.51,0.87,-0.51],["c",0.15,0,0.18,0.03,0.27,0.09],["c",0.21,0.15,0.21,0.18,0.21,1.41],["c",0,1.11,-0.03,1.14,-0.09,1.23],["c",-0.03,0.03,-0.48,0.39,-1.02,0.75],["l",-0.99,0.66],["l",0,2.25],["c",0,1.95,0,2.28,-0.06,2.37],["c",-0.06,0.12,-0.12,0.21,-0.24,0.27],["c",-0.27,0.12,-0.54,0.03,-0.69,-0.24],["c",-0.06,-0.12,-0.06,-0.21,-0.06,-2.01],["c",0,-1.05,0,-1.89,-0.03,-1.89],["l",-0.72,0.48],["c",-0.69,0.48,-0.69,0.48,-0.87,0.48],["c",-0.15,0,-0.18,0,-0.27,-0.06],["c",-0.21,-0.15,-0.21,-0.18,-0.21,-1.41],["c",0,-1.11,0.03,-1.14,0.09,-1.23],["c",0.03,-0.03,0.48,-0.39,1.02,-0.75],["l",0.99,-0.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-0.03,-2.37],["l",-0.72,0.48],["c",-0.69,0.48,-0.69,0.48,-0.87,0.48],["c",-0.15,0,-0.18,0,-0.27,-0.06],["c",-0.21,-0.15,-0.21,-0.18,-0.21,-1.41],["c",0,-1.11,0.03,-1.14,0.09,-1.23],["c",0.03,-0.03,0.48,-0.39,1.02,-0.75],["l",0.99,-0.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,0.06,-2.4],["c",0.06,-0.12,0.12,-0.18,0.27,-0.24],["z"]],w:5.25,h:20.174},"accidentals.dblsharp":{d:[["M",-0.186,-3.96],["c",0.06,-0.03,0.12,-0.06,0.15,-0.06],["c",0.09,0,2.76,0.27,2.79,0.3],["c",0.12,0.03,0.15,0.12,0.15,0.51],["c",0.06,0.96,0.24,1.59,0.57,2.1],["c",0.06,0.09,0.15,0.21,0.18,0.24],["l",0.09,0.06],["l",0.09,-0.06],["c",0.03,-0.03,0.12,-0.15,0.18,-0.24],["c",0.33,-0.51,0.51,-1.14,0.57,-2.1],["c",0,-0.39,0.03,-0.45,0.12,-0.51],["c",0.03,0,0.66,-0.09,1.44,-0.15],["c",1.47,-0.15,1.5,-0.15,1.56,-0.03],["c",0.03,0.06,0,0.42,-0.09,1.44],["c",-0.09,0.72,-0.15,1.35,-0.15,1.38],["c",0,0.03,-0.03,0.09,-0.06,0.12],["c",-0.06,0.06,-0.12,0.09,-0.51,0.09],["c",-1.08,0.06,-1.8,0.3,-2.28,0.75],["l",-0.12,0.09],["l",0.09,0.09],["c",0.12,0.15,0.39,0.33,0.63,0.45],["c",0.42,0.18,0.96,0.27,1.68,0.33],["c",0.39,-0,0.45,0.03,0.51,0.09],["c",0.03,0.03,0.06,0.09,0.06,0.12],["c",0,0.03,0.06,0.66,0.15,1.38],["c",0.09,1.02,0.12,1.38,0.09,1.44],["c",-0.06,0.12,-0.09,0.12,-1.56,-0.03],["c",-0.78,-0.06,-1.41,-0.15,-1.44,-0.15],["c",-0.09,-0.06,-0.12,-0.12,-0.12,-0.54],["c",-0.06,-0.93,-0.24,-1.56,-0.57,-2.07],["c",-0.06,-0.09,-0.15,-0.21,-0.18,-0.24],["l",-0.09,-0.06],["l",-0.09,0.06],["c",-0.03,0.03,-0.12,0.15,-0.18,0.24],["c",-0.33,0.51,-0.51,1.14,-0.57,2.07],["c",0,0.42,-0.03,0.48,-0.12,0.54],["c",-0.03,0,-0.66,0.09,-1.44,0.15],["c",-1.47,0.15,-1.5,0.15,-1.56,0.03],["c",-0.03,-0.06,0,-0.42,0.09,-1.44],["c",0.09,-0.72,0.15,-1.35,0.15,-1.38],["c",0,-0.03,0.03,-0.09,0.06,-0.12],["c",0.06,-0.06,0.12,-0.09,0.51,-0.09],["c",0.72,-0.06,1.26,-0.15,1.68,-0.33],["c",0.24,-0.12,0.51,-0.3,0.63,-0.45],["l",0.09,-0.09],["l",-0.12,-0.09],["c",-0.48,-0.45,-1.2,-0.69,-2.28,-0.75],["c",-0.39,0,-0.45,-0.03,-0.51,-0.09],["c",-0.03,-0.03,-0.06,-0.09,-0.06,-0.12],["c",0,-0.03,-0.06,-0.63,-0.12,-1.38],["c",-0.09,-0.72,-0.15,-1.35,-0.15,-1.38],["z"]],w:7.961,h:7.977},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",0.33,-0.06,0.87,0,1.08,0.15],["c",0.06,0.03,0.06,0.6,-0.12,9.06],["c",-0.09,5.55,-0.15,9.06,-0.18,9.12],["c",-0.03,0.09,-0.09,0.18,-0.15,0.27],["c",-0.24,0.21,-0.54,0.24,-0.81,0.06],["c",-0.06,-0.03,-0.27,-0.24,-0.45,-0.42],["c",-0.36,-0.42,-0.66,-0.66,-1.8,-1.44],["c",-1.23,-0.84,-1.83,-1.32,-2.25,-1.77],["c",-0.66,-0.78,-0.96,-1.56,-0.93,-2.46],["c",0.09,-1.41,1.11,-2.58,2.4,-2.79],["c",0.3,-0.06,0.84,-0.03,1.23,0.06],["c",0.54,0.12,1.08,0.33,1.53,0.63],["c",0.12,0.09,0.24,0.15,0.24,0.12],["c",0,0,-0.12,-8.37,-0.18,-9.75],["l",0,-0.66],["l",0.12,-0.06],["c",0.06,-0.03,0.18,-0.09,0.27,-0.12],["z"],["m",-1.65,10.95],["c",-0.6,-0.18,-1.08,0.09,-1.38,0.69],["c",-0.27,0.6,-0.36,1.38,-0.18,2.07],["c",0.12,0.42,0.42,0.99,0.72,1.41],["c",0.3,0.42,0.93,1.05,1.56,1.59],["l",0.48,0.39],["l",0,-0.12],["c",0.03,-0.09,0.03,-0.48,0.06,-0.9],["c",0.03,-0.57,0.03,-1.08,0,-2.22],["c",-0.03,-1.62,-0.03,-1.62,-0.24,-2.07],["c",-0.21,-0.42,-0.6,-0.75,-1.02,-0.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-0.36,-14.07],["c",0.33,-0.06,0.87,0,1.08,0.15],["c",0.06,0.03,0.06,0.33,-0.03,4.89],["c",-0.06,2.67,-0.09,5.01,-0.09,5.22],["l",0,0.36],["l",0.15,-0.15],["c",0.36,-0.3,0.75,-0.51,1.2,-0.63],["c",0.33,-0.09,0.96,-0.09,1.26,-0.03],["c",0.27,0.09,0.63,0.27,0.87,0.45],["l",0.21,0.15],["l",0,-0.27],["c",0,-0.15,-0.03,-2.43,-0.09,-5.1],["c",-0.09,-4.56,-0.09,-4.86,-0.03,-4.89],["c",0.15,-0.12,0.39,-0.15,0.72,-0.15],["c",0.3,0,0.54,0.03,0.69,0.15],["c",0.06,0.03,0.06,0.33,-0.03,4.95],["c",-0.06,2.7,-0.09,5.04,-0.09,5.22],["l",0.03,0.3],["l",0.21,-0.15],["c",0.69,-0.48,1.44,-0.69,2.28,-0.69],["c",0.51,0,0.78,0.03,1.2,0.21],["c",1.32,0.63,2.01,2.28,1.53,3.69],["c",-0.21,0.57,-0.51,1.02,-1.05,1.56],["c",-0.42,0.42,-0.81,0.72,-1.92,1.5],["c",-1.26,0.87,-1.5,1.08,-1.86,1.5],["c",-0.39,0.45,-0.54,0.54,-0.81,0.51],["c",-0.18,0,-0.21,0,-0.33,-0.06],["l",-0.21,-0.21],["l",-0.06,-0.12],["l",-0.03,-0.99],["c",-0.03,-0.54,-0.03,-1.29,-0.06,-1.68],["l",0,-0.69],["l",-0.21,0.24],["c",-0.36,0.42,-0.75,0.75,-1.8,1.62],["c",-1.02,0.84,-1.2,0.99,-1.44,1.38],["c",-0.36,0.51,-0.54,0.6,-0.9,0.51],["c",-0.15,-0.03,-0.39,-0.27,-0.42,-0.42],["c",-0.03,-0.06,-0.09,-3.27,-0.18,-8.34],["c",-0.09,-4.53,-0.15,-8.58,-0.18,-9.03],["l",0,-0.78],["l",0.12,-0.06],["c",0.06,-0.03,0.18,-0.09,0.27,-0.12],["z"],["m",2.52,10.98],["c",-0.18,-0.09,-0.48,-0.12,-0.66,-0.06],["c",-0.39,0.15,-0.69,0.54,-0.84,1.14],["c",-0.06,0.24,-0.06,0.39,-0.09,1.74],["c",-0.03,1.44,0,2.73,0.06,3.18],["l",0.03,0.15],["l",0.27,-0.27],["c",0.93,-0.96,1.5,-1.95,1.74,-3.06],["c",0.06,-0.27,0.06,-0.39,0.06,-0.96],["c",0,-0.54,0,-0.69,-0.06,-0.93],["c",-0.09,-0.51,-0.27,-0.81,-0.51,-0.93],["z"],["m",5.43,0],["c",-0.18,-0.09,-0.51,-0.12,-0.72,-0.06],["c",-0.54,0.12,-0.96,0.63,-1.17,1.26],["c",-0.06,0.3,-0.12,2.88,-0.06,3.9],["c",0.03,0.42,0.03,0.81,0.06,0.9],["l",0.03,0.12],["l",0.36,-0.3],["c",0.42,-0.36,1.02,-0.96,1.29,-1.29],["c",0.36,-0.45,0.66,-0.99,0.81,-1.41],["c",0.42,-1.23,0.15,-2.76,-0.6,-3.12],["z"]],w:11.613,h:18.804},"clefs.C":{d:[["M",0.06,-14.94],["l",0.09,-0.06],["l",1.92,0],["l",1.92,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,14.85],["l",0,14.82],["l",-0.06,0.09],["l",-0.09,0.06],["l",-1.92,0],["l",-1.92,0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",0.09,-0.06,0.09,-0.06,0.57,-0.06],["c",0.45,0,0.45,0,0.54,0.06],["l",0.06,0.09],["l",0,7.14],["l",0,7.11],["l",0.09,-0.06],["c",0.18,-0.18,0.72,-0.84,0.96,-1.2],["c",0.3,-0.45,0.66,-1.17,0.84,-1.65],["c",0.36,-0.9,0.57,-1.83,0.6,-2.79],["c",0.03,-0.48,0.03,-0.54,0.09,-0.63],["c",0.12,-0.18,0.36,-0.21,0.54,-0.12],["c",0.18,0.09,0.21,0.15,0.24,0.66],["c",0.06,0.87,0.21,1.56,0.57,2.22],["c",0.51,1.02,1.26,1.68,2.22,1.92],["c",0.21,0.06,0.33,0.06,0.78,0.06],["c",0.45,-0,0.57,-0,0.84,-0.06],["c",0.45,-0.12,0.81,-0.33,1.08,-0.6],["c",0.57,-0.57,0.87,-1.41,0.99,-2.88],["c",0.06,-0.54,0.06,-3,0,-3.57],["c",-0.21,-2.58,-0.84,-3.87,-2.16,-4.5],["c",-0.48,-0.21,-1.17,-0.36,-1.77,-0.36],["c",-0.69,0,-1.29,0.27,-1.5,0.72],["c",-0.06,0.15,-0.06,0.21,-0.06,0.42],["c",0,0.24,0,0.3,0.06,0.45],["c",0.12,0.24,0.24,0.39,0.63,0.66],["c",0.42,0.3,0.57,0.48,0.69,0.72],["c",0.06,0.15,0.06,0.21,0.06,0.48],["c",0,0.39,-0.03,0.63,-0.21,0.96],["c",-0.3,0.6,-0.87,1.08,-1.5,1.26],["c",-0.27,0.06,-0.87,0.06,-1.14,0],["c",-0.78,-0.24,-1.44,-0.87,-1.65,-1.68],["c",-0.12,-0.42,-0.09,-1.17,0.09,-1.71],["c",0.51,-1.65,1.98,-2.82,3.81,-3.09],["c",0.84,-0.09,2.46,0.03,3.51,0.27],["c",2.22,0.57,3.69,1.8,4.44,3.75],["c",0.36,0.93,0.57,2.13,0.57,3.36],["c",-0,1.44,-0.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-0.48,-0,-0.51,-0,-0.75,-0.09],["c",-0.15,-0.03,-0.48,-0.21,-0.78,-0.36],["c",-0.69,-0.36,-0.87,-0.42,-1.26,-0.42],["c",-0.27,-0,-0.3,-0,-0.51,0.09],["c",-0.57,0.3,-0.81,0.9,-0.81,2.1],["c",-0,1.23,0.24,1.83,0.81,2.13],["c",0.21,0.09,0.24,0.09,0.51,0.09],["c",0.39,-0,0.57,-0.06,1.26,-0.42],["c",0.3,-0.15,0.63,-0.33,0.78,-0.36],["c",0.24,-0.09,0.27,-0.09,0.75,-0.09],["c",2.01,-0,4.02,0.93,5.28,2.4],["c",0.9,1.11,1.38,2.4,1.38,3.84],["c",-0,1.5,-0.3,2.88,-0.84,3.96],["c",-0.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,0.24,-2.67,0.36,-3.51,0.27],["c",-1.83,-0.27,-3.3,-1.44,-3.81,-3.09],["c",-0.18,-0.54,-0.21,-1.29,-0.09,-1.74],["c",0.15,-0.6,0.63,-1.2,1.23,-1.47],["c",0.36,-0.18,0.57,-0.21,0.99,-0.21],["c",0.42,0,0.63,0.03,1.02,0.21],["c",0.42,0.21,0.84,0.63,1.05,1.05],["c",0.18,0.36,0.21,0.6,0.21,0.96],["c",-0,0.3,-0,0.36,-0.06,0.51],["c",-0.12,0.24,-0.27,0.42,-0.69,0.72],["c",-0.57,0.42,-0.69,0.63,-0.69,1.08],["c",-0,0.24,-0,0.3,0.06,0.45],["c",0.12,0.21,0.3,0.39,0.57,0.54],["c",0.42,0.18,0.87,0.21,1.53,0.15],["c",1.08,-0.15,1.8,-0.57,2.34,-1.32],["c",0.54,-0.75,0.84,-1.83,0.99,-3.51],["c",0.06,-0.57,0.06,-3.03,-0,-3.57],["c",-0.12,-1.47,-0.42,-2.31,-0.99,-2.88],["c",-0.27,-0.27,-0.63,-0.48,-1.08,-0.6],["c",-0.27,-0.06,-0.39,-0.06,-0.84,-0.06],["c",-0.45,0,-0.57,0,-0.78,0.06],["c",-1.14,0.27,-2.01,1.17,-2.46,2.49],["c",-0.21,0.57,-0.3,0.99,-0.33,1.65],["c",-0.03,0.51,-0.06,0.57,-0.24,0.66],["c",-0.12,0.06,-0.27,0.06,-0.39,0],["c",-0.21,-0.09,-0.21,-0.15,-0.24,-0.75],["c",-0.09,-1.92,-0.78,-3.72,-2.01,-5.19],["c",-0.18,-0.21,-0.36,-0.42,-0.39,-0.45],["l",-0.09,-0.06],["l",-0,7.11],["l",-0,7.14],["l",-0.06,0.09],["c",-0.09,0.06,-0.09,0.06,-0.54,0.06],["c",-0.48,0,-0.48,0,-0.57,-0.06],["l",-0.06,-0.09],["l",-0,-14.82],["l",-0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",0.36,-0.03,1.65,0,2.13,0.03],["c",3.6,0.42,6.03,2.1,6.93,4.86],["c",0.27,0.84,0.36,1.5,0.36,2.58],["c",0,0.9,-0.03,1.35,-0.18,2.16],["c",-0.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-0.39,0.18,-0.75,0.33,-0.81,0.36],["c",-0.06,0.03,-0.15,0.06,-0.18,0.06],["c",-0.15,0,-0.33,-0.18,-0.33,-0.33],["c",0,-0.15,0.06,-0.21,0.51,-0.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",0.51,-0.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",0.06,-0.42,0.06,-1.77,0,-2.19],["c",-0.24,-2.01,-0.93,-3.63,-2.04,-4.71],["c",-0.63,-0.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-0.39,-3.36,0.15,-4.56,1.44],["c",-0.54,0.6,-1.05,1.47,-1.32,2.22],["l",-0.09,0.21],["l",0.24,-0.12],["c",0.39,-0.21,0.63,-0.24,1.11,-0.24],["c",0.3,0,0.45,0,0.66,0.06],["c",1.92,0.48,2.85,2.55,1.95,4.38],["c",-0.45,0.99,-1.41,1.62,-2.46,1.71],["c",-1.47,0.09,-2.91,-0.87,-3.39,-2.25],["c",-0.18,-0.57,-0.21,-1.32,-0.03,-2.28],["c",0.39,-2.25,1.83,-4.2,3.81,-5.19],["c",0.69,-0.36,1.59,-0.6,2.37,-0.69],["z"],["m",11.58,2.52],["c",0.84,-0.21,1.71,0.3,1.89,1.14],["c",0.3,1.17,-0.72,2.19,-1.89,1.89],["c",-0.99,-0.21,-1.5,-1.32,-1.02,-2.25],["c",0.18,-0.39,0.6,-0.69,1.02,-0.78],["z"],["m",0,7.5],["c",0.84,-0.21,1.71,0.3,1.89,1.14],["c",0.21,0.87,-0.3,1.71,-1.14,1.89],["c",-0.87,0.21,-1.71,-0.3,-1.89,-1.14],["c",-0.21,-0.84,0.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",0.09,-0.09,0.24,-0.06,0.36,0],["c",0.12,0.09,0.57,0.6,0.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",0.21,1.56,0.03,3.27,-0.45,4.86],["c",-0.69,2.31,-1.92,4.47,-4.23,7.44],["c",-0.3,0.39,-0.57,0.72,-0.6,0.75],["c",-0.03,0.06,0,0.15,0.18,0.78],["c",0.54,1.68,1.38,4.44,1.68,5.49],["l",0.09,0.42],["l",0.39,-0],["c",1.47,0.09,2.76,0.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",0.09,0.45,0.12,1.29,0.06,1.74],["c",-0.09,1.02,-0.33,1.83,-0.75,2.73],["c",-0.84,1.71,-2.28,3.06,-4.02,3.72],["l",-0.33,0.12],["l",0.03,1.26],["c",0,1.74,-0.06,3.63,-0.21,4.62],["c",-0.45,3.06,-2.19,5.49,-4.47,6.21],["c",-0.57,0.18,-0.9,0.21,-1.59,0.21],["c",-0.69,-0,-1.02,-0.03,-1.65,-0.21],["c",-1.14,-0.27,-2.13,-0.84,-2.94,-1.65],["c",-0.99,-0.99,-1.56,-2.16,-1.71,-3.54],["c",-0.09,-0.81,0.06,-1.53,0.45,-2.13],["c",0.63,-0.99,1.83,-1.56,3,-1.53],["c",1.5,0.09,2.64,1.32,2.73,2.94],["c",0.06,1.47,-0.93,2.7,-2.37,2.97],["c",-0.45,0.06,-0.84,0.03,-1.29,-0.09],["l",-0.21,-0.09],["l",0.09,0.12],["c",0.39,0.54,0.78,0.93,1.32,1.26],["c",1.35,0.87,3.06,1.02,4.35,0.36],["c",1.44,-0.72,2.52,-2.28,2.97,-4.35],["c",0.15,-0.66,0.24,-1.5,0.3,-3.03],["c",0.03,-0.84,0.03,-2.94,-0,-3],["c",-0.03,-0,-0.18,-0,-0.36,0.03],["c",-0.66,0.12,-0.99,0.12,-1.83,0.12],["c",-1.05,-0,-1.71,-0.06,-2.61,-0.3],["c",-4.02,-0.99,-7.11,-4.35,-7.8,-8.46],["c",-0.12,-0.66,-0.12,-0.99,-0.12,-1.83],["c",-0,-0.84,-0,-1.14,0.15,-1.92],["c",0.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",0.54,-0.66,0.96,-1.2,0.96,-1.23],["c",-0,-0.03,-0.09,-0.33,-0.18,-0.69],["c",-0.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-0.12,-1.38,-0.15,-3.09,-0.06,-3.96],["c",0.33,-2.67,1.38,-5.07,3.12,-7.08],["c",0.36,-0.42,0.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-0.15,-0.3,-0.3,-0.54,-0.3,-0.54],["c",-0.03,0,-0.18,0.09,-0.3,0.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-0.06,0.54,-0.06,1.41,-0.03,1.89],["c",0.09,1.29,0.48,3.12,1.08,5.22],["c",0.15,0.42,0.24,0.78,0.24,0.81],["c",0,0.03,0.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",0.09,-0.57,0.12,-1.74,0.06,-2.37],["c",-0.09,-1.23,-0.27,-1.92,-0.87,-3.12],["z"],["m",-2.94,20.7],["c",-0.21,-0.72,-0.39,-1.32,-0.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-0.03,0.21,-0.03,0.69,-0.03,1.08],["c",0,0.69,0,0.75,0.06,1.11],["c",0.12,0.54,0.27,0.99,0.51,1.47],["c",0.69,1.38,1.83,2.55,3.42,3.42],["c",0.96,0.54,2.07,0.9,3.21,1.08],["c",0.78,0.12,2.04,0.12,2.94,-0.03],["c",0.51,-0.06,0.45,-0.03,0.42,-0.3],["c",-0.24,-3.33,-0.72,-6.33,-1.62,-10.08],["c",-0.09,-0.39,-0.18,-0.75,-0.18,-0.78],["c",-0.03,-0.03,-0.42,-0,-0.81,0.09],["c",-0.9,0.18,-1.65,0.57,-2.22,1.14],["c",-0.72,0.72,-1.08,1.65,-1.05,2.64],["c",0.06,0.96,0.48,1.83,1.23,2.58],["c",0.36,0.36,0.72,0.63,1.17,0.9],["c",0.33,0.18,0.36,0.21,0.42,0.33],["c",0.18,0.42,-0.18,0.9,-0.6,0.87],["c",-0.18,-0.03,-0.84,-0.36,-1.26,-0.63],["c",-0.78,-0.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-0.99,-6.42,1.71,-8.19],["c",0.3,-0.21,0.81,-0.48,1.17,-0.63],["c",0.3,-0.09,1.02,-0.3,1.14,-0.3],["c",0.06,-0,0.09,-0,0.09,-0.03],["c",0.03,-0.03,-0.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-0.18,-0.03,-0.36,-0.06,-0.39,-0.06],["c",-0.03,0,0,0.21,0.18,1.02],["c",0.75,3.18,1.26,6.3,1.5,9.09],["c",0.06,0.72,0,0.69,0.51,0.42],["c",0.78,-0.36,1.44,-0.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,0.3,-5.55],["c",-0.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",0.09,-0.06],["l",1.53,0],["l",1.53,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,7.35],["l",0,7.32],["l",-0.06,0.09],["l",-0.09,0.06],["l",-1.53,-0],["l",-1.53,-0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",0.09,-0.06],["l",1.53,0],["l",1.53,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,7.35],["l",0,7.32],["l",-0.06,0.09],["l",-0.09,0.06],["l",-1.53,-0],["l",-1.53,-0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:9.99,h:14.97},"clefs.tab":{d:[["M",26.88,-28.88],["c",0.32,-0.12,0.88,0.12,1.04,0.48],["c",0.12,0.28,0.12,0.32,-0.24,0.72],["c",-1.04,1.08,-2.48,1.92,-3.92,2.28],["c",-1.16,0.32,-2.28,0.32,-3.4,0.04],["l",-0.08,-0.04],["l",-0.24,1.32],["c",-0.44,2.64,-1,5.68,-1.28,6.72],["c",-0.56,2.2,-1.68,4.24,-3.04,5.52],["c",-0.76,0.76,-1.56,1.2,-2.48,1.44],["c",-0.24,0.08,-0.44,0.08,-0.88,0.08],["c",-0.72,0,-1.04,-0.04,-1.64,-0.36],["c",-0.52,-0.24,-0.88,-0.52,-1.84,-1.32],["c",-0.4,-0.32,-0.88,-0.68,-1,-0.76],["c",-0.28,-0.2,-0.36,-0.32,-0.32,-0.6],["c",0.08,-0.36,0.48,-0.8,0.8,-0.88],["c",0.24,-0.04,0.44,0.08,1.2,0.76],["c",0.64,0.56,0.96,0.76,1.24,0.92],["c",0.88,0.44,1.84,0.28,2.6,-0.48],["c",0.84,-0.8,1.4,-2.16,1.64,-4],["c",0.04,-0.24,0.12,-0.88,0.12,-1.48],["c",0.12,-2.08,0.44,-5.08,0.76,-7.32],["c",0.08,-0.44,0.12,-0.84,0.12,-0.84],["c",-0.04,-0.04,-1.08,-0.16,-1.36,-0.16],["c",-0.76,0,-1.76,0.16,-2.4,0.44],["c",-1.16,0.4,-1.8,1.04,-2,1.88],["c",-0.24,0.84,0.12,1.68,0.88,2.2],["c",0.16,0.08,0.2,0.16,0.24,0.32],["c",0.12,0.36,0.08,0.76,-0.12,1],["c",-0.04,0.08,-0.16,0.12,-0.36,0.2],["c",-0.96,0.28,-1.92,0.2,-2.8,-0.24],["c",-0.72,-0.36,-1.28,-0.88,-1.6,-1.52],["c",-0.52,-1,-0.44,-2.32,0.2,-3.36],["c",0.36,-0.56,1.12,-1.24,1.88,-1.64],["c",1.56,-0.76,3.84,-1.2,6.4,-1.2],["c",0.92,0,1.04,0,1.44,0.08],["c",0.6,0.12,1.48,0.4,2.76,0.8],["c",1.96,0.64,2.44,0.76,3.4,0.72],["c",1.36,-0.08,2.72,-0.6,3.92,-1.48],["c",0.16,-0.12,0.32,-0.24,0.36,-0.24],["z"],["m",-7.84,17.4],["c",0.28,-0.04,1.08,0,1.44,0.08],["c",0.64,0.16,1.2,0.56,1.32,0.92],["c",0.04,0.12,0.04,0.2,0,0.36],["c",0,0.12,-0.04,0.76,-0.08,1.44],["c",-0.12,2.92,-0.32,7.68,-0.52,11.04],["c",-0.08,2.04,-0.08,2.36,0.04,2.68],["c",0.12,0.24,0.2,0.32,0.4,0.4],["c",0.32,0.16,0.72,0.08,1.64,-0.36],["c",0.76,-0.36,0.88,-0.4,1,-0.32],["c",0.12,0.08,0.24,0.4,0.24,0.6],["c",0,0.44,-0.2,0.68,-0.6,0.84],["c",-0.16,0.04,-0.52,0.2,-0.8,0.36],["c",-1.56,0.8,-1.84,0.92,-2.4,0.96],["c",-0.6,0.04,-1.04,-0.12,-1.44,-0.52],["c",-0.52,-0.56,-0.88,-1.6,-1.36,-4.16],["c",-0.32,-1.64,-0.48,-2.76,-0.72,-5],["l",0,-0.24],["l",-0.48,0.6],["c",-0.8,1,-1.76,2.12,-2.6,3],["c",-0.2,0.24,-0.36,0.4,-0.36,0.44],["c",0,0,0.08,0.12,0.2,0.24],["c",0.32,0.44,0.8,0.76,1.4,0.92],["c",0.24,0.08,0.4,0.08,0.92,0.08],["l",0.64,0.04],["l",0.08,0.16],["c",0.2,0.36,0.04,0.96,-0.28,1.2],["c",-0.24,0.16,-1.24,0.36,-1.88,0.36],["c",-1.12,0,-2.12,-0.4,-2.64,-1.12],["l",-0.16,-0.2],["l",-0.6,0.56],["c",-1.32,1.16,-2.04,1.76,-2.88,2.32],["c",-1.04,0.68,-2,1.12,-2.8,1.24],["c",-0.92,0.16,-1.6,0.04,-2.6,-0.56],["c",-0.28,-0.16,-0.68,-0.36,-0.88,-0.48],["c",-0.32,-0.16,-0.4,-0.24,-0.44,-0.32],["c",-0.16,-0.36,0.2,-1.04,0.6,-1.24],["c",0.32,-0.16,0.44,-0.12,1.2,0.24],["c",0.8,0.4,1.12,0.52,1.6,0.48],["c",1.16,-0.12,2.36,-0.92,4.32,-3.08],["c",3.56,-3.8,6.12,-7.92,7.6,-12.2],["c",0.2,-0.6,0.32,-0.84,0.56,-1.08],["c",0.28,-0.32,0.8,-0.6,1.32,-0.68],["z"],["m",-5.32,21.4],["c",0.24,0,0.92,-0.04,1.56,0],["c",4.36,0.04,7.16,1,8,2.76],["c",0.6,1.32,0.16,3.2,-1.08,4.56],["c",-0.32,0.36,-0.76,0.76,-1.12,1],["c",-0.12,0.08,-0.24,0.12,-0.24,0.16],["c",0,0,0.24,0.04,0.56,0.12],["c",1.64,0.4,2.68,1.08,3.16,2.12],["c",0.36,0.72,0.4,1.76,0.12,2.8],["c",-0.16,0.48,-0.6,1.4,-0.92,1.8],["c",-1.16,1.56,-2.8,2.56,-4.72,3],["c",-0.48,0.08,-0.64,0.08,-1.28,0.08],["c",-0.6,0,-0.88,0,-1.12,-0.04],["c",-1.12,-0.24,-1.96,-0.68,-2.76,-1.48],["c",-0.44,-0.44,-0.6,-0.68,-0.6,-0.84],["c",0,-0.08,0.04,-0.2,0.08,-0.32],["c",0.24,-0.44,0.92,-0.8,1.24,-0.64],["c",0.04,0.04,0.2,0.16,0.36,0.32],["c",0.52,0.56,1.32,0.76,2.16,0.6],["c",1.4,-0.28,2.64,-1.36,3.08,-2.68],["c",0.64,-2.04,-0.64,-3.4,-3.44,-3.56],["c",-0.28,0,-0.48,-0.04,-0.56,-0.08],["c",-0.2,-0.12,-0.28,-0.68,-0.08,-1.04],["c",0.16,-0.36,0.32,-0.44,0.8,-0.48],["c",0.76,-0.08,1.48,-0.56,2,-1.32],["c",0.64,-0.96,0.72,-2.12,0.24,-3.08],["c",-0.16,-0.28,-0.6,-0.72,-0.92,-0.92],["c",-0.44,-0.28,-1.24,-0.6,-1.8,-0.68],["l",-0.16,-0.04],["l",-0.08,0.64],["c",-0.72,3.92,-1.52,8.32,-1.72,9],["c",-0.44,1.8,-1.24,3.48,-2.2,4.8],["c",-0.4,0.48,-1.08,1.2,-1.52,1.52],["c",-0.4,0.32,-1.12,0.64,-1.52,0.76],["c",-0.44,0.12,-1.28,0.12,-1.68,0.04],["c",-0.6,-0.16,-1.16,-0.52,-2.04,-1.28],["c",-0.32,-0.2,-0.68,-0.52,-0.84,-0.64],["c",-0.4,-0.28,-0.44,-0.44,-0.28,-0.84],["c",0.16,-0.24,0.36,-0.48,0.56,-0.6],["c",0.36,-0.16,0.48,-0.12,1.16,0.44],["c",1.04,0.8,1.44,1,2.2,0.96],["c",0.6,-0.04,1.08,-0.28,1.56,-0.72],["c",1.16,-1.2,1.84,-3.8,1.84,-7.16],["c",0,-0.8,0.04,-1.48,0.16,-2.72],["c",0.08,-0.92,0.32,-2.68,0.44,-3.44],["c",0.08,-0.32,0.08,-0.56,0.08,-0.56],["c",0,0,-0.16,0.04,-0.28,0.12],["c",-1.92,0.76,-2.88,2.2,-2.32,3.4],["c",0.12,0.2,0.24,0.32,0.36,0.44],["c",0.32,0.28,0.4,0.36,0.44,0.52],["c",0.08,0.32,0,0.84,-0.2,1.04],["c",-0.12,0.16,-0.72,0.28,-1.28,0.32],["c",-1.36,0.04,-2.68,-0.64,-3.24,-1.76],["c",-0.28,-0.6,-0.36,-1.2,-0.2,-1.92],["c",0.08,-0.36,0.28,-0.88,0.52,-1.24],["c",1.16,-1.72,4,-2.96,7.52,-3.24],["z"]],w:26.191,h:57.767},"dots.dot":{d:[["M",1.32,-1.68],["c",0.09,-0.03,0.27,-0.06,0.39,-0.06],["c",0.96,0,1.74,0.78,1.74,1.71],["c",0,0.96,-0.78,1.74,-1.71,1.74],["c",-0.96,0,-1.74,-0.78,-1.74,-1.71],["c",0,-0.78,0.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"flags.d8th":{d:[["M",5.67,-21.63],["c",0.24,-0.12,0.54,-0.06,0.69,0.15],["c",0.06,0.06,0.21,0.36,0.39,0.66],["c",0.84,1.77,1.26,3.36,1.32,5.1],["c",0.03,1.29,-0.21,2.37,-0.81,3.63],["c",-0.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-0.63,0.93,-1.11,1.92,-1.38,2.79],["c",-0.15,0.54,-0.27,1.35,-0.27,1.8],["l",0,0.15],["l",-0.21,-0],["l",-0.21,-0],["l",0,-3.75],["l",0,-3.75],["l",0.21,0],["l",0.21,0],["l",0.48,-0.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",0.78,-0.81,1.32,-1.53,1.71,-2.31],["c",0.45,-0.93,0.6,-1.74,0.51,-2.88],["c",-0.12,-1.56,-0.63,-3.18,-1.47,-4.68],["c",-0.12,-0.21,-0.15,-0.33,-0.06,-0.51],["c",0.06,-0.15,0.15,-0.24,0.33,-0.33],["z"]],w:8.492,h:21.691},"flags.d16th":{d:[["M",6.84,-22.53],["c",0.27,-0.12,0.57,-0.06,0.72,0.15],["c",0.15,0.15,0.33,0.87,0.45,1.56],["c",0.06,0.33,0.06,1.35,0,1.65],["c",-0.06,0.33,-0.15,0.78,-0.27,1.11],["c",-0.12,0.33,-0.45,0.96,-0.66,1.32],["l",-0.18,0.27],["l",0.09,0.18],["c",0.48,1.02,0.72,2.25,0.69,3.3],["c",-0.06,1.23,-0.42,2.28,-1.26,3.45],["c",-0.57,0.87,-0.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-0.42,0.84,-0.66,1.8,-0.66,2.55],["l",0,0.15],["l",-0.21,-0],["l",-0.21,-0],["l",0,-7.5],["l",0,-7.5],["l",0.21,-0],["l",0.21,-0],["l",0,1.14],["l",0,1.11],["l",0.27,-0.15],["c",1.11,-0.57,1.77,-0.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",0.03,-0.18,0.03,-0.39,0.03,-0.78],["c",0,-0.6,-0.03,-0.93,-0.24,-1.5],["c",-0.06,-0.18,-0.12,-0.39,-0.15,-0.45],["c",-0.03,-0.24,0.12,-0.48,0.36,-0.6],["z"],["m",-0.63,7.5],["c",-0.06,-0.18,-0.15,-0.36,-0.15,-0.36],["c",-0.03,0,-0.03,0.03,-0.06,0.06],["c",-0.06,0.12,-0.96,1.02,-1.95,1.98],["c",-0.63,0.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-0.03,0.18,-0.03,0.54,-0.06,0.99],["l",0,0.69],["l",0.18,-0.09],["c",0.93,-0.54,2.1,-1.29,2.82,-1.83],["c",0.69,-0.51,1.02,-0.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.794,-29.13],["c",0.27,-0.12,0.57,-0.06,0.72,0.15],["c",0.12,0.12,0.27,0.63,0.36,1.11],["c",0.33,1.59,0.06,3.06,-0.81,4.47],["l",-0.18,0.27],["l",0.09,0.15],["c",0.12,0.24,0.33,0.69,0.45,1.05],["c",0.63,1.83,0.45,3.57,-0.57,5.22],["l",-0.18,0.3],["l",0.15,0.27],["c",0.42,0.87,0.6,1.71,0.57,2.61],["c",-0.06,1.29,-0.48,2.46,-1.35,3.78],["c",-0.54,0.81,-0.93,1.29,-2.46,3],["c",-0.51,0.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,0.33],["l",-0.21,-0],["l",-0.21,-0],["l",0,-11.25],["l",0,-11.25],["l",0.21,0],["l",0.21,0],["l",0,1.35],["l",0.03,1.35],["l",0.78,-0.39],["c",1.38,-0.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",0.15,-0.48,0.18,-0.72,0.18,-1.29],["c",0,-0.57,-0.06,-0.9,-0.24,-1.47],["c",-0.06,-0.18,-0.12,-0.39,-0.15,-0.45],["c",-0.03,-0.24,0.12,-0.48,0.36,-0.6],["z"],["m",-0.63,7.2],["c",-0.09,-0.18,-0.12,-0.21,-0.12,-0.15],["c",-0.03,0.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-0.84,0.96,-1.38,1.86,-1.68,2.76],["c",-0.21,0.57,-0.27,0.99,-0.3,1.65],["l",0,0.54],["l",0.66,-0.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",0.06,-0.39,0.06,-1.2,-0.03,-1.65],["c",-0.06,-0.39,-0.24,-0.9,-0.36,-1.2],["z"],["m",-0.06,7.2],["c",-0.06,-0.15,-0.12,-0.33,-0.15,-0.45],["l",-0.06,-0.18],["l",-0.18,0.21],["l",-1.83,1.83],["c",-0.87,0.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-0.06,0.3,-0.06,0.51,-0.09,0.93],["l",0,0.57],["l",0.09,-0.06],["c",0.75,-0.45,1.89,-1.26,2.52,-1.74],["c",0.81,-0.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.475,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",0.3,-0.12,0.66,-0.03,0.78,0.24],["c",0.18,0.33,0.27,2.1,0.15,2.64],["c",-0.09,0.39,-0.21,0.78,-0.39,1.08],["l",-0.15,0.3],["l",0.09,0.27],["c",0.03,0.12,0.09,0.45,0.12,0.69],["c",0.27,1.44,0.18,2.55,-0.3,3.6],["l",-0.12,0.33],["l",0.06,0.42],["c",0.27,1.35,0.33,2.82,0.21,3.63],["c",-0.12,0.6,-0.3,1.23,-0.57,1.8],["l",-0.15,0.27],["l",0.03,0.42],["c",0.06,1.02,0.06,2.7,0.03,3.06],["c",-0.15,1.47,-0.66,2.76,-1.74,4.41],["c",-0.45,0.69,-0.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-0.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,0.42],["l",-0.21,-0],["l",-0.21,-0],["l",0,-15],["l",0,-15],["l",0.21,-0],["l",0.21,-0],["l",0,1.86],["l",0,1.89],["c",0,-0,0.21,-0.03,0.45,-0.09],["c",2.22,-0.39,4.08,-1.11,5.19,-2.01],["c",0.63,-0.54,1.02,-1.14,1.2,-1.8],["c",0.06,-0.3,0.06,-1.14,-0.03,-1.65],["c",-0.03,-0.18,-0.06,-0.39,-0.09,-0.48],["c",-0.03,-0.24,0.12,-0.48,0.36,-0.6],["z"],["m",-0.45,6.15],["c",-0.03,-0.18,-0.06,-0.42,-0.06,-0.54],["l",-0.03,-0.18],["l",-0.33,0.3],["c",-0.42,0.36,-0.87,0.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-0.75,0.69,-1.23,1.44,-1.47,2.19],["c",-0.15,0.45,-0.18,0.63,-0.21,1.35],["l",0,0.66],["l",0.39,-0.18],["c",1.83,-0.9,3.45,-1.95,4.47,-2.91],["c",0.93,-0.9,1.53,-1.83,1.74,-2.82],["c",0.06,-0.33,0.06,-0.87,0.03,-1.32],["z"],["m",-0.27,4.86],["c",-0.03,-0.21,-0.06,-0.36,-0.06,-0.36],["c",0,-0.03,-0.12,0.09,-0.24,0.24],["c",-0.39,0.48,-0.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-0.66,0.87,-1.08,1.74,-1.29,2.58],["c",-0.09,0.42,-0.15,0.87,-0.15,1.44],["l",0,0.54],["l",0.48,-0.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",0.03,-0.39,0.03,-1.17,-0.03,-1.71],["z"],["m",-0.66,7.68],["c",0.03,-0.15,0.03,-0.6,0.03,-0.99],["l",0,-0.72],["l",-0.27,0.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-0.51,1.02,-0.72,1.77,-0.75,2.91],["c",0,0.63,0,0.63,0.06,0.6],["c",0.03,-0.03,0.3,-0.27,0.63,-0.54],["c",0.66,-0.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",0.18,-0.09,0.33,-0.12,0.48,-0.06],["c",0.18,0.09,14.01,8.04,14.1,8.1],["c",0.12,0.12,0.18,0.33,0.18,0.51],["c",-0.03,0.21,-0.15,0.39,-0.36,0.48],["c",-0.18,0.09,-0.33,0.12,-0.48,0.06],["c",-0.18,-0.09,-14.01,-8.04,-14.1,-8.1],["c",-0.12,-0.12,-0.18,-0.33,-0.18,-0.51],["c",0.03,-0.21,0.15,-0.39,0.36,-0.48],["z"]],w:15.12,h:9.212},"flags.u8th":{d:[["M",-0.42,3.75],["l",0,-3.75],["l",0.21,0],["l",0.21,0],["l",0,0.18],["c",0,0.3,0.06,0.84,0.12,1.23],["c",0.24,1.53,0.9,3.12,2.13,5.16],["l",0.99,1.59],["c",0.87,1.44,1.38,2.34,1.77,3.09],["c",0.81,1.68,1.2,3.06,1.26,4.53],["c",0.03,1.53,-0.21,3.27,-0.75,5.01],["c",-0.21,0.69,-0.51,1.5,-0.6,1.59],["c",-0.09,0.12,-0.27,0.21,-0.42,0.21],["c",-0.15,0,-0.42,-0.12,-0.51,-0.21],["c",-0.15,-0.18,-0.18,-0.42,-0.09,-0.66],["c",0.15,-0.33,0.45,-1.2,0.57,-1.62],["c",0.42,-1.38,0.6,-2.58,0.6,-3.9],["c",0,-0.66,0,-0.81,-0.06,-1.11],["c",-0.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-0.42,-0.45],["l",-0.21,0],["l",-0.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-0.42,7.5],["l",0,-7.5],["l",0.21,0],["l",0.21,0],["l",0,0.39],["c",0.06,1.08,0.39,2.19,0.99,3.39],["c",0.45,0.9,0.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",0.45,0.93,0.72,1.8,0.87,2.64],["c",0.06,0.51,0.06,1.5,0,1.92],["c",-0.12,0.6,-0.3,1.2,-0.54,1.71],["l",-0.09,0.24],["l",0.18,0.45],["c",0.51,1.2,0.72,2.22,0.69,3.42],["c",-0.06,1.53,-0.39,3.03,-0.99,4.53],["c",-0.3,0.75,-0.36,0.81,-0.57,0.9],["c",-0.15,0.09,-0.33,0.06,-0.48,-0],["c",-0.18,-0.09,-0.27,-0.18,-0.33,-0.33],["c",-0.09,-0.18,-0.06,-0.3,0.12,-0.75],["c",0.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-0.6,-0.03,-1.05,-0.18,-1.59],["c",-0.3,-1.2,-0.99,-2.4,-2.25,-3.87],["c",-0.42,-0.48,-1.53,-1.62,-2.19,-2.22],["l",-0.45,-0.42],["l",-0.03,1.11],["l",0,1.11],["l",-0.21,-0],["l",-0.21,-0],["l",0,-7.5],["z"],["m",1.65,0.09],["c",-0.3,-0.3,-0.69,-0.72,-0.9,-0.87],["l",-0.33,-0.33],["l",0,0.15],["c",0,0.3,0.06,0.81,0.15,1.26],["c",0.27,1.29,0.87,2.61,2.04,4.29],["c",0.15,0.24,0.6,0.87,0.96,1.38],["l",1.08,1.53],["l",0.42,0.63],["c",0.03,0,0.12,-0.36,0.21,-0.72],["c",0.06,-0.33,0.06,-1.2,0,-1.62],["c",-0.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-0.42,11.247],["l",0,-11.25],["l",0.21,0],["l",0.21,0],["l",0,0.36],["c",0.09,1.68,0.69,3.27,2.07,5.46],["l",0.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",0.48,1.02,0.78,1.92,0.93,2.88],["c",0.06,0.48,0.06,1.5,0,1.89],["c",-0.09,0.42,-0.21,0.87,-0.36,1.26],["l",-0.12,0.3],["l",0.15,0.39],["c",0.69,1.56,0.84,2.88,0.54,4.38],["c",-0.09,0.45,-0.27,1.08,-0.45,1.47],["l",-0.12,0.24],["l",0.18,0.36],["c",0.33,0.72,0.57,1.56,0.69,2.34],["c",0.12,1.02,-0.06,2.52,-0.42,3.84],["c",-0.27,0.93,-0.75,2.13,-0.93,2.31],["c",-0.18,0.15,-0.45,0.18,-0.66,0.09],["c",-0.18,-0.09,-0.27,-0.18,-0.33,-0.33],["c",-0.09,-0.18,-0.06,-0.3,0.06,-0.6],["c",0.21,-0.36,0.42,-0.9,0.57,-1.38],["c",0.51,-1.41,0.69,-3.06,0.48,-4.08],["c",-0.15,-0.81,-0.57,-1.68,-1.2,-2.55],["c",-0.72,-0.99,-1.83,-2.13,-3.3,-3.33],["l",-0.48,-0.42],["l",-0.03,1.53],["l",0,1.56],["l",-0.21,0],["l",-0.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-0.27,-0.3,-0.54,-0.6,-0.66,-0.72],["l",-0.18,-0.21],["l",0,0.42],["c",0.06,0.87,0.24,1.74,0.66,2.67],["c",0.36,0.87,0.96,1.86,1.92,3.18],["c",0.21,0.33,0.63,0.87,0.87,1.23],["c",0.27,0.39,0.6,0.84,0.75,1.08],["l",0.27,0.39],["l",0.03,-0.12],["c",0.12,-0.45,0.15,-1.05,0.09,-1.59],["c",-0.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-0.27,6.09],["c",-0.27,-0.21,-0.48,-0.42,-0.51,-0.45],["c",-0.06,-0.03,-0.06,-0.03,-0.06,0.21],["c",0,0.9,0.3,2.04,0.81,3.09],["c",0.48,1.02,0.96,1.77,2.37,3.63],["c",0.6,0.78,1.05,1.44,1.29,1.77],["c",0.06,0.12,0.15,0.21,0.15,0.18],["c",0.03,-0.03,0.18,-0.57,0.24,-0.87],["c",0.06,-0.45,0.06,-1.32,-0.03,-1.74],["c",-0.09,-0.48,-0.24,-0.9,-0.51,-1.44],["c",-0.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-0.42,15],["l",0,-15],["l",0.21,0],["l",0.21,0],["l",0,0.36],["c",0.06,1.2,0.39,2.37,1.02,3.66],["c",0.39,0.81,0.84,1.56,1.8,3.09],["c",0.81,1.26,1.05,1.68,1.35,2.22],["c",0.87,1.5,1.35,2.79,1.56,4.08],["c",0.06,0.54,0.06,1.56,-0.03,2.04],["c",-0.09,0.48,-0.21,0.99,-0.36,1.35],["l",-0.12,0.27],["l",0.12,0.27],["c",0.09,0.15,0.21,0.45,0.27,0.66],["c",0.69,1.89,0.63,3.66,-0.18,5.46],["l",-0.18,0.39],["l",0.15,0.33],["c",0.3,0.66,0.51,1.44,0.63,2.1],["c",0.06,0.48,0.06,1.35,0,1.71],["c",-0.15,0.57,-0.42,1.2,-0.78,1.68],["l",-0.21,0.27],["l",0.18,0.33],["c",0.57,1.05,0.93,2.13,1.02,3.18],["c",0.06,0.72,0,1.83,-0.21,2.79],["c",-0.18,1.02,-0.63,2.34,-1.02,3.09],["c",-0.15,0.33,-0.48,0.45,-0.78,0.3],["c",-0.18,-0.09,-0.27,-0.18,-0.33,-0.33],["c",-0.09,-0.18,-0.06,-0.3,0.03,-0.54],["c",0.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-0.06,-1.02,-0.42,-2.01,-1.17,-3.15],["c",-0.48,-0.72,-1.02,-1.35,-1.89,-2.22],["c",-0.57,-0.57,-1.56,-1.5,-1.92,-1.77],["l",-0.12,-0.09],["l",0,1.68],["l",0,1.68],["l",-0.21,0],["l",-0.21,0],["l",0,-15],["z"],["m",0.93,-8.07],["c",-0.27,-0.3,-0.48,-0.54,-0.51,-0.54],["c",-0,0,-0,0.69,0.03,1.02],["c",0.15,1.47,0.75,2.94,2.04,4.83],["l",1.08,1.53],["c",0.39,0.57,0.84,1.2,0.99,1.44],["c",0.15,0.24,0.3,0.45,0.3,0.45],["c",-0,0,0.03,-0.09,0.06,-0.21],["c",0.36,-1.59,-0.15,-3.33,-1.47,-5.4],["c",-0.63,-0.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",0.06,6.72],["c",-0.24,-0.21,-0.48,-0.42,-0.51,-0.45],["l",-0.06,-0.06],["l",0,0.33],["c",0,1.2,0.3,2.34,0.93,3.6],["c",0.45,0.9,0.96,1.68,2.25,3.51],["c",0.39,0.54,0.84,1.17,1.02,1.44],["c",0.21,0.33,0.33,0.51,0.33,0.48],["c",0.06,-0.09,0.21,-0.63,0.3,-0.99],["c",0.06,-0.33,0.06,-0.45,0.06,-0.96],["c",-0,-0.6,-0.03,-0.84,-0.18,-1.35],["c",-0.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-0.39,-0.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-0.24,-0.21,-0.48,-0.39,-0.51,-0.42],["l",-0.06,-0.06],["l",0,0.33],["c",0,1.41,0.45,2.82,1.38,4.35],["c",0.42,0.72,0.72,1.14,1.86,2.73],["c",0.36,0.45,0.75,0.99,0.87,1.2],["c",0.15,0.21,0.3,0.36,0.3,0.36],["c",0.06,0,0.3,-0.48,0.39,-0.75],["c",0.09,-0.36,0.12,-0.63,0.12,-1.05],["c",-0.06,-1.05,-0.45,-2.04,-1.2,-3.18],["c",-0.57,-0.87,-1.11,-1.53,-2.07,-2.49],["c",-0.36,-0.33,-0.84,-0.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.ugrace":{d:[["M",6.03,6.93],["c",0.15,-0.09,0.33,-0.06,0.51,0],["c",0.15,0.09,0.21,0.15,0.3,0.33],["c",0.09,0.18,0.06,0.39,-0.03,0.54],["c",-0.06,0.15,-10.89,8.88,-11.07,8.97],["c",-0.15,0.09,-0.33,0.06,-0.48,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.09,-0.18,-0.06,-0.39,0.03,-0.54],["c",0.06,-0.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"noteheads.dbl":{d:[["M",-0.69,-4.02],["c",0.18,-0.09,0.36,-0.09,0.54,0],["c",0.18,0.09,0.24,0.15,0.33,0.3],["c",0.06,0.15,0.06,0.18,0.06,1.41],["l",-0,1.23],["l",0.12,-0.18],["c",0.72,-1.26,2.64,-2.31,4.86,-2.64],["c",0.81,-0.15,1.11,-0.15,2.13,-0.15],["c",0.99,0,1.29,0,2.1,0.15],["c",0.75,0.12,1.38,0.27,2.04,0.54],["c",1.35,0.51,2.34,1.26,2.82,2.1],["l",0.12,0.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,0.06,-1.38],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["c",0.18,-0.09,0.36,-0.09,0.54,0],["c",0.18,0.09,0.24,0.15,0.33,0.3],["l",0.06,0.15],["l",0,3.54],["l",0,3.54],["l",-0.06,0.15],["c",-0.09,0.18,-0.15,0.24,-0.33,0.33],["c",-0.18,0.09,-0.36,0.09,-0.54,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.06,-0.12,-0.06,-0.18,-0.06,-1.38],["l",0,-1.23],["l",-0.12,0.18],["c",-0.48,0.84,-1.47,1.59,-2.82,2.1],["c",-0.84,0.33,-1.71,0.54,-2.85,0.66],["c",-0.45,0.06,-2.16,0.06,-2.61,0],["c",-1.14,-0.12,-2.01,-0.33,-2.85,-0.66],["c",-1.35,-0.51,-2.34,-1.26,-2.82,-2.1],["l",-0.12,-0.18],["l",0,1.23],["c",0,1.23,0,1.26,-0.06,1.38],["c",-0.09,0.18,-0.15,0.24,-0.33,0.33],["c",-0.18,0.09,-0.36,0.09,-0.54,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["l",-0.06,-0.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,0.06,-3.66],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["z"],["m",7.71,0.63],["c",-0.36,-0.06,-0.9,-0.06,-1.14,0],["c",-0.3,0.03,-0.66,0.24,-0.87,0.42],["c",-0.6,0.54,-0.9,1.62,-0.75,2.82],["c",0.12,0.93,0.51,1.68,1.11,2.31],["c",0.75,0.72,1.83,1.2,2.85,1.26],["c",1.05,0.06,1.83,-0.54,2.1,-1.65],["c",0.21,-0.9,0.12,-1.95,-0.24,-2.82],["c",-0.36,-0.81,-1.08,-1.53,-1.95,-1.95],["c",-0.3,-0.15,-0.78,-0.3,-1.11,-0.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",0.51,-0.03,2.01,0,2.52,0.03],["c",1.41,0.18,2.64,0.51,3.72,1.08],["c",1.2,0.63,1.95,1.41,2.19,2.31],["c",0.09,0.33,0.09,0.9,-0,1.23],["c",-0.24,0.9,-0.99,1.68,-2.19,2.31],["c",-1.08,0.57,-2.28,0.9,-3.75,1.08],["c",-0.66,0.06,-2.31,0.06,-2.97,0],["c",-1.47,-0.18,-2.67,-0.51,-3.75,-1.08],["c",-1.2,-0.63,-1.95,-1.41,-2.19,-2.31],["c",-0.09,-0.33,-0.09,-0.9,-0,-1.23],["c",0.24,-0.9,0.99,-1.68,2.19,-2.31],["c",1.2,-0.63,2.61,-0.99,4.23,-1.11],["z"],["m",0.57,0.66],["c",-0.87,-0.15,-1.53,0,-2.04,0.51],["c",-0.15,0.15,-0.24,0.27,-0.33,0.48],["c",-0.24,0.51,-0.36,1.08,-0.33,1.77],["c",0.03,0.69,0.18,1.26,0.42,1.77],["c",0.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,0.21,1.95,-0.15,2.34,-0.99],["c",0.24,-0.51,0.36,-1.08,0.33,-1.8],["c",-0.06,-1.11,-0.45,-2.04,-1.17,-2.76],["c",-0.63,-0.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",0.06,-0.03,0.27,-0.03,0.48,-0.03],["c",1.05,0,1.71,0.24,2.1,0.81],["c",0.42,0.6,0.45,1.35,0.18,2.4],["c",-0.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,0.93,-3.18,1.44,-5.4,1.53],["c",-1.17,0.03,-1.89,-0.21,-2.28,-0.81],["c",-0.42,-0.6,-0.45,-1.35,-0.18,-2.4],["c",0.42,-1.59,1.14,-2.73,2.16,-3.39],["c",0.63,-0.42,1.23,-0.72,1.98,-0.96],["c",0.9,-0.3,1.65,-0.42,3.12,-0.54],["z"],["m",1.29,0.87],["c",-0.27,-0.09,-0.63,-0.12,-0.9,-0.03],["c",-0.72,0.24,-1.53,0.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-0.36,0.72,-0.06,1.5,0.66,1.77],["c",0.24,0.12,0.69,0.09,0.99,0],["c",0.84,-0.3,1.92,-0.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",0.36,-0.72,0.06,-1.5,-0.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",0.36,-0.03,1.2,0,1.53,0.06],["c",1.17,0.24,1.89,0.84,2.16,1.83],["c",0.06,0.18,0.06,0.3,0.06,0.66],["c",0,0.45,0,0.63,-0.15,1.08],["c",-0.66,2.04,-3.06,3.93,-5.52,4.38],["c",-0.54,0.09,-1.44,0.09,-1.83,0.03],["c",-1.23,-0.27,-1.98,-0.87,-2.25,-1.86],["c",-0.06,-0.18,-0.06,-0.3,-0.06,-0.66],["c",0,-0.45,0,-0.63,0.15,-1.08],["c",0.24,-0.78,0.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"rests.whole":{d:[["M",0.06,0.03],["l",0.09,-0.06],["l",5.46,0],["l",5.49,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,2.19],["l",0,2.19],["l",-0.06,0.09],["l",-0.09,0.06],["l",-5.49,0],["l",-5.46,0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",0.06,-4.62],["l",0.09,-0.06],["l",5.46,0],["l",5.49,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,2.19],["l",0,2.19],["l",-0.06,0.09],["l",-0.09,0.06],["l",-5.49,0],["l",-5.46,0],["l",-0.09,-0.06],["l",-0.06,-0.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",0.12,-0.06,0.24,-0.06,0.36,-0.03],["c",0.09,0.06,4.74,5.58,4.86,5.82],["c",0.21,0.39,0.15,0.78,-0.15,1.26],["c",-0.24,0.33,-0.72,0.81,-1.62,1.56],["c",-0.45,0.36,-0.87,0.75,-0.96,0.84],["c",-0.93,0.99,-1.14,2.49,-0.6,3.63],["c",0.18,0.39,0.27,0.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",-0,0.18,-0.18,0.36,-0.36,0.39],["c",-0.15,-0,-0.27,-0.06,-0.48,-0.27],["c",-0.75,-0.75,-2.46,-1.29,-3.39,-1.08],["c",-0.45,0.09,-0.69,0.27,-0.9,0.69],["c",-0.12,0.3,-0.21,0.66,-0.24,1.14],["c",-0.03,0.66,0.09,1.35,0.3,2.01],["c",0.15,0.42,0.24,0.66,0.45,0.96],["c",0.18,0.24,0.18,0.33,0.03,0.42],["c",-0.12,0.06,-0.18,0.03,-0.45,-0.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-0.27,-1.05,-0.15,-1.77,0.27,-2.07],["c",0.21,-0.12,0.42,-0.15,0.87,-0.15],["c",0.87,0.06,2.1,0.39,3.3,0.9],["l",0.39,0.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-0.09,-0.24,-0.12,-0.48,-0.03,-0.75],["c",0.15,-0.48,0.57,-0.96,1.83,-2.01],["c",0.45,-0.36,0.84,-0.72,0.93,-0.78],["c",0.69,-0.75,1.02,-1.8,0.9,-2.79],["c",-0.06,-0.33,-0.21,-0.84,-0.39,-1.11],["c",-0.09,-0.15,-0.45,-0.6,-0.81,-1.05],["c",-0.36,-0.42,-0.69,-0.81,-0.72,-0.87],["c",-0.09,-0.18,-0,-0.42,0.21,-0.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.6,0.48],["c",0.12,0,0.18,0,0.33,-0.09],["c",0.39,-0.18,1.32,-1.29,1.68,-1.98],["c",0.09,-0.21,0.24,-0.3,0.39,-0.3],["c",0.12,0,0.27,0.09,0.33,0.18],["c",0.03,0.06,-0.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,0.03,-0.12,0.12,-0.24,0.15],["c",-0.18,0.09,-0.21,0.09,-0.45,0.09],["c",-0.24,0,-0.3,0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.15,-0.57,1.68,-4.92],["c",0.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-0.51,0.15],["c",-1.08,0.36,-1.74,0.48,-2.55,0.48],["c",-0.66,0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.15,0.39,0.57,0.57,0.87,0.42],["c",0.39,-0.18,1.2,-1.23,1.62,-2.07],["c",0.06,-0.15,0.24,-0.24,0.36,-0.24],["c",0.12,0,0.27,0.09,0.33,0.18],["c",0.03,0.06,-0.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-0.03,0.03,-0.12,0.12,-0.24,0.15],["c",-0.18,0.09,-0.21,0.09,-0.45,0.09],["c",-0.24,0,-0.3,0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.12,-0.57,1.44,-4.92],["c",0.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-0.03,0,-0.27,0.06,-0.54,0.15],["c",-1.08,0.36,-1.77,0.48,-2.58,0.48],["c",-0.66,0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.72,-1.05,2.22,-1.23,3.06,-0.42],["c",0.3,0.33,0.42,0.6,0.6,1.38],["c",0.09,0.45,0.21,0.78,0.33,0.9],["c",0.09,0.09,0.27,0.18,0.45,0.21],["c",0.12,0,0.18,0,0.33,-0.09],["c",0.33,-0.15,1.02,-0.93,1.41,-1.59],["c",0.12,-0.21,0.18,-0.39,0.39,-1.08],["c",0.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-0.21,0.06,-0.42,0.15],["c",-0.51,0.15,-1.2,0.33,-1.68,0.42],["c",-0.33,0.06,-0.51,0.06,-0.96,0.06],["c",-0.66,0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.6,0.48],["c",0.12,0,0.18,0,0.27,-0.06],["c",0.33,-0.21,0.99,-1.11,1.44,-1.98],["c",0.09,-0.24,0.21,-0.33,0.39,-0.33],["c",0.12,0,0.27,0.09,0.33,0.18],["c",0.03,0.06,-0.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-0.03,0.06,-0.12,0.12,-0.24,0.18],["c",-0.21,0.09,-0.24,0.09,-0.48,0.09],["c",-0.24,-0,-0.3,-0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.09,-0.57,1.23,-4.92],["c",0.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-0.03,-0.12,-0.03,-0.48,0.12],["c",-1.17,0.39,-2.22,0.57,-3,0.54],["c",-0.42,-0.03,-0.75,-0.12,-1.11,-0.3],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.72,-1.05,2.22,-1.23,3.06,-0.42],["c",0.3,0.33,0.42,0.6,0.6,1.38],["c",0.09,0.45,0.21,0.78,0.33,0.9],["c",0.12,0.09,0.3,0.18,0.48,0.21],["c",0.12,-0,0.18,-0,0.3,-0.09],["c",0.42,-0.21,1.29,-1.29,1.56,-1.89],["c",0.03,-0.12,1.23,-4.59,1.23,-4.65],["c",0,-0.03,-0.18,0.03,-0.39,0.12],["c",-0.63,0.18,-1.2,0.36,-1.74,0.45],["c",-0.39,0.06,-0.54,0.06,-1.02,0.06],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.72,-1.05,2.22,-1.23,3.06,-0.42],["c",0.3,0.33,0.42,0.6,0.6,1.38],["c",0.09,0.45,0.21,0.78,0.33,0.9],["c",0.18,0.18,0.51,0.27,0.72,0.15],["c",0.3,-0.12,0.69,-0.57,1.08,-1.17],["c",0.42,-0.6,0.39,-0.51,1.05,-3.03],["c",0.33,-1.26,0.6,-2.31,0.6,-2.34],["c",0,-0,-0.21,0.03,-0.45,0.12],["c",-0.57,0.18,-1.14,0.33,-1.62,0.42],["c",-0.33,0.06,-0.51,0.06,-0.96,0.06],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.15,0.63,0.21,0.81,0.33,0.96],["c",0.18,0.21,0.54,0.3,0.75,0.18],["c",0.24,-0.12,0.63,-0.66,1.08,-1.56],["c",0.33,-0.66,0.39,-0.72,0.6,-0.72],["c",0.12,0,0.27,0.09,0.33,0.18],["c",0.03,0.06,-0.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-0.03,0.06,-0.12,0.12,-0.24,0.18],["c",-0.21,0.09,-0.24,0.09,-0.48,0.09],["c",-0.24,0,-0.3,0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.06,-0.57,1.05,-4.95],["c",0.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-0.24,0.06,-0.51,0.15],["c",-0.66,0.24,-1.2,0.36,-1.77,0.48],["c",-0.42,0.06,-0.57,0.06,-1.05,0.06],["c",-0.69,0,-0.87,-0.03,-1.35,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.72,-1.05,2.22,-1.23,3.06,-0.42],["c",0.3,0.33,0.42,0.6,0.6,1.38],["c",0.09,0.45,0.21,0.78,0.33,0.9],["c",0.09,0.09,0.27,0.18,0.45,0.21],["c",0.21,0.03,0.39,-0.09,0.72,-0.42],["c",0.45,-0.45,1.02,-1.26,1.17,-1.65],["c",0.03,-0.09,0.27,-1.14,0.54,-2.34],["c",0.27,-1.2,0.48,-2.19,0.51,-2.22],["c",0,-0.03,-0.09,-0.03,-0.48,0.12],["c",-1.17,0.39,-2.22,0.57,-3,0.54],["c",-0.42,-0.03,-0.75,-0.12,-1.11,-0.3],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.15,0.39,0.57,0.57,0.9,0.42],["c",0.36,-0.18,1.2,-1.26,1.47,-1.89],["c",0.03,-0.09,0.3,-1.2,0.57,-2.43],["l",0.51,-2.28],["l",-0.54,0.18],["c",-1.11,0.36,-1.8,0.48,-2.61,0.48],["c",-0.66,0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.15,0.63,0.21,0.81,0.33,0.96],["c",0.21,0.21,0.54,0.3,0.75,0.18],["c",0.36,-0.18,0.93,-0.93,1.29,-1.68],["c",0.12,-0.24,0.18,-0.48,0.63,-2.55],["l",0.51,-2.31],["c",0,-0.03,-0.18,0.03,-0.39,0.12],["c",-1.14,0.36,-2.1,0.54,-2.82,0.51],["c",-0.42,-0.03,-0.75,-0.12,-1.11,-0.3],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",0.66,-0.09,1.23,0.09,1.68,0.51],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.6,0.48],["c",0.21,0,0.33,-0.06,0.54,-0.36],["c",0.15,-0.21,0.54,-0.93,0.78,-1.47],["c",0.15,-0.33,0.18,-0.39,0.3,-0.48],["c",0.18,-0.09,0.45,0,0.51,0.15],["c",0.03,0.09,-7.11,42.75,-7.17,42.84],["c",-0.03,0.03,-0.15,0.09,-0.24,0.15],["c",-0.18,0.06,-0.24,0.06,-0.45,0.06],["c",-0.24,-0,-0.3,-0,-0.48,-0.06],["c",-0.09,-0.06,-0.21,-0.12,-0.21,-0.15],["c",-0.06,-0.03,0.03,-0.57,0.84,-4.98],["c",0.51,-2.7,0.93,-4.92,0.9,-4.92],["c",0,-0,-0.15,0.06,-0.36,0.12],["c",-0.78,0.27,-1.62,0.48,-2.31,0.57],["c",-0.15,0.03,-0.54,0.03,-0.81,0.03],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.63,0.48],["c",0.12,-0,0.18,-0,0.3,-0.09],["c",0.42,-0.21,1.14,-1.11,1.5,-1.83],["c",0.12,-0.27,0.12,-0.27,0.54,-2.52],["c",0.24,-1.23,0.42,-2.25,0.39,-2.25],["c",0,-0,-0.24,0.06,-0.51,0.18],["c",-1.26,0.39,-2.25,0.57,-3.06,0.54],["c",-0.42,-0.03,-0.75,-0.12,-1.11,-0.3],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.15,0.63,0.21,0.81,0.33,0.96],["c",0.18,0.21,0.51,0.3,0.75,0.18],["c",0.36,-0.15,1.05,-0.99,1.41,-1.77],["l",0.15,-0.3],["l",0.42,-2.25],["c",0.21,-1.26,0.42,-2.28,0.39,-2.28],["l",-0.51,0.15],["c",-1.11,0.39,-1.89,0.51,-2.7,0.51],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.15,0.63,0.21,0.81,0.33,0.96],["c",0.18,0.18,0.48,0.27,0.72,0.21],["c",0.33,-0.12,1.14,-1.26,1.41,-1.95],["c",0,-0.09,0.21,-1.11,0.45,-2.34],["c",0.21,-1.2,0.39,-2.22,0.39,-2.28],["c",0.03,-0.03,0,-0.03,-0.45,0.12],["c",-0.57,0.18,-1.2,0.33,-1.71,0.42],["c",-0.3,0.06,-0.51,0.06,-0.93,0.06],["c",-0.66,-0,-0.84,-0.03,-1.32,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.36,-0.54,0.96,-0.87,1.65,-0.93],["c",0.54,-0.03,1.02,0.15,1.41,0.54],["c",0.27,0.3,0.39,0.54,0.57,1.26],["c",0.09,0.33,0.18,0.66,0.21,0.72],["c",0.12,0.27,0.33,0.45,0.6,0.48],["c",0.18,-0,0.36,-0.09,0.57,-0.33],["c",0.33,-0.36,0.78,-1.14,0.93,-1.56],["c",0.03,-0.12,0.24,-1.2,0.45,-2.4],["c",0.24,-1.2,0.42,-2.22,0.42,-2.28],["c",0.03,-0.03,0,-0.03,-0.39,0.09],["c",-1.05,0.36,-1.8,0.48,-2.58,0.48],["c",-0.63,-0,-0.84,-0.03,-1.29,-0.27],["c",-1.32,-0.63,-1.77,-2.16,-1.02,-3.3],["c",0.33,-0.45,0.84,-0.81,1.38,-0.9],["z"]],w:12.992,h:43.883},"scripts.lbrace":{d:[["M",-20,-515],["v",-2],["c",35,-16,53,-48,53,-91],["c",0,-34,-11,-84,-35,-150],["c",-13,-41,-18,-76,-18,-109],["c",0,-69,29,-121,87,-160],["c",-44,35,-63,77,-63,125],["c",0,26,8,56,21,91],["c",27,71,37,130,37,174],["c",0,62,-26,105,-77,121],["c",52,16,77,63,77,126],["c",0,46,-10,102,-37,172],["c",-13,35,-21,68,-21,94],["c",0,48,19,89,63,124],["c",-58,-39,-87,-91,-87,-160],["c",0,-33,5,-68,18,-109],["c",24,-66,35,-116,35,-150],["c",0,-44,-18,-80,-53,-96],["z"]],w:40,h:1027},"scripts.ufermata":{d:[["M",-0.75,-10.77],["c",0.12,0,0.45,-0.03,0.69,-0.03],["c",2.91,-0.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",0.12,0.51,0.12,0.57,0.03,0.69],["c",-0.12,0.21,-0.48,0.27,-0.69,0.12],["c",-0.12,-0.09,-0.18,-0.24,-0.27,-0.69],["c",-0.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-0.78,-0.21,-1.2,-0.24,-2.07,-0.24],["c",-0.63,-0,-0.84,-0,-1.2,0.06],["c",-1.83,0.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-0.09,0.45,-0.15,0.6,-0.27,0.69],["c",-0.21,0.15,-0.57,0.09,-0.69,-0.12],["c",-0.09,-0.12,-0.09,-0.18,0.03,-0.69],["c",0.33,-1.62,0.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",0.33,7.47],["c",1.38,-0.3,2.58,0.9,2.31,2.25],["c",-0.15,0.72,-0.78,1.35,-1.47,1.5],["c",-1.38,0.27,-2.58,-0.93,-2.31,-2.31],["c",0.15,-0.69,0.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-0.42],["c",0.15,-0.09,0.36,-0.06,0.51,0.03],["c",0.12,0.09,0.18,0.24,0.27,0.66],["c",0.78,3.66,3.42,6.57,6.78,7.41],["c",0.78,0.21,1.2,0.24,2.07,0.24],["c",0.63,-0,0.84,-0,1.2,-0.06],["c",1.83,-0.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",0.09,-0.42,0.15,-0.57,0.27,-0.66],["c",0.21,-0.15,0.57,-0.09,0.69,0.12],["c",0.09,0.12,0.09,0.18,-0.03,0.69],["c",-0.33,1.62,-0.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-0.48,-0.96,-0.84,-1.92,-1.14,-2.97],["c",-0.18,-0.69,-0.42,-1.74,-0.42,-1.92],["c",0,-0.12,0.09,-0.27,0.24,-0.33],["z"],["m",9.21,0],["c",1.2,-0.27,2.34,0.63,2.34,1.86],["c",-0,0.9,-0.66,1.68,-1.5,1.89],["c",-1.38,0.27,-2.58,-0.93,-2.31,-2.31],["c",0.15,-0.69,0.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",0.06,-0.03,0.15,-0.06,0.18,-0.06],["c",0.06,0,2.85,0.72,6.24,1.59],["l",6.33,1.65],["c",0.33,0.06,0.45,0.21,0.45,0.51],["c",0,0.3,-0.12,0.45,-0.45,0.51],["l",-6.33,1.65],["c",-3.39,0.87,-6.18,1.59,-6.21,1.59],["c",-0.21,-0,-0.48,-0.24,-0.51,-0.45],["c",0,-0.15,0.06,-0.36,0.18,-0.45],["c",0.09,-0.06,0.87,-0.27,3.84,-1.05],["c",2.04,-0.54,3.84,-0.99,4.02,-1.02],["c",0.15,-0.06,1.14,-0.24,2.22,-0.42],["c",1.05,-0.18,1.92,-0.36,1.92,-0.36],["c",0,-0,-0.87,-0.18,-1.92,-0.36],["c",-1.08,-0.18,-2.07,-0.36,-2.22,-0.42],["c",-0.18,-0.03,-1.98,-0.48,-4.02,-1.02],["c",-2.97,-0.78,-3.75,-0.99,-3.84,-1.05],["c",-0.12,-0.09,-0.18,-0.3,-0.18,-0.45],["c",0.03,-0.15,0.15,-0.3,0.3,-0.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-0.36,-1.47],["c",0.93,-0.21,1.86,0.51,1.86,1.47],["c",-0,0.93,-0.87,1.65,-1.8,1.47],["c",-0.54,-0.12,-1.02,-0.57,-1.14,-1.08],["c",-0.21,-0.81,0.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-0.48],["l",0.12,-0.06],["l",4.08,0],["l",4.08,0],["l",0.12,0.06],["c",0.39,0.21,0.39,0.75,0,0.96],["l",-0.12,0.06],["l",-4.08,0],["l",-4.08,0],["l",-0.12,-0.06],["c",-0.39,-0.21,-0.39,-0.75,0,-0.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-0.15,-8.19],["c",0.15,-0.12,0.36,-0.03,0.45,0.15],["c",0.21,0.42,3.45,7.65,3.45,7.71],["c",-0,0.12,-0.12,0.27,-0.21,0.3],["c",-0.03,0.03,-0.51,0.03,-1.14,0.03],["c",-1.05,0,-1.08,0,-1.17,-0.06],["c",-0.09,-0.06,-0.24,-0.36,-1.17,-2.4],["c",-0.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",-0,-0.03,-0.51,1.02,-1.08,2.34],["c",-0.93,2.07,-1.08,2.34,-1.14,2.4],["c",-0.06,0.03,-0.15,0.06,-0.18,0.06],["c",-0.15,0,-0.33,-0.18,-0.33,-0.33],["c",-0,-0.06,3.24,-7.32,3.45,-7.71],["c",0.03,-0.06,0.09,-0.15,0.15,-0.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,0.03],["c",0.03,0,0.57,-0.03,1.17,-0.03],["c",1.05,0,1.08,0,1.17,0.06],["c",0.09,0.06,0.24,0.36,1.17,2.4],["c",0.57,1.29,1.05,2.34,1.08,2.34],["c",0,0.03,0.51,-1.02,1.08,-2.34],["c",0.93,-2.07,1.08,-2.34,1.14,-2.4],["c",0.06,-0.03,0.15,-0.06,0.18,-0.06],["c",0.15,0,0.33,0.18,0.33,0.33],["c",0,0.09,-3.45,7.74,-3.54,7.83],["c",-0.12,0.12,-0.3,0.12,-0.42,0],["c",-0.09,-0.09,-3.54,-7.74,-3.54,-7.83],["c",0,-0.09,0.12,-0.27,0.18,-0.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-0.27,-4.08],["c",0.18,-0.09,0.36,-0.09,0.54,0],["c",0.18,0.09,0.24,0.15,0.33,0.3],["l",0.06,0.15],["l",-0,1.5],["l",-0,1.47],["l",1.47,0],["l",1.5,0],["l",0.15,0.06],["c",0.15,0.09,0.21,0.15,0.3,0.33],["c",0.09,0.18,0.09,0.36,-0,0.54],["c",-0.09,0.18,-0.15,0.24,-0.33,0.33],["c",-0.12,0.06,-0.18,0.06,-1.62,0.06],["l",-1.47,0],["l",-0,1.47],["l",-0,1.47],["l",-0.06,0.15],["c",-0.09,0.18,-0.15,0.24,-0.33,0.33],["c",-0.18,0.09,-0.36,0.09,-0.54,0],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["l",-0.06,-0.15],["l",-0,-1.47],["l",-0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-0.06],["c",-0.18,-0.09,-0.24,-0.15,-0.33,-0.33],["c",-0.09,-0.18,-0.09,-0.36,-0,-0.54],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["l",0.15,-0.06],["l",1.47,0],["l",1.47,0],["l",-0,-1.47],["c",-0,-1.44,-0,-1.5,0.06,-1.62],["c",0.09,-0.18,0.15,-0.24,0.33,-0.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",0.12,-0.09,0.36,-0.06,0.48,0.03],["c",0.03,0.03,0.09,0.09,0.12,0.15],["c",0.03,0.06,0.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",0.63,2.46],["l",0.63,-2.46],["c",0.63,-2.4,0.66,-2.55,2.01,-6.96],["c",0.75,-2.49,1.38,-4.56,1.41,-4.62],["c",0.06,-0.15,0.18,-0.21,0.36,-0.24],["c",0.15,0,0.3,0.06,0.39,0.18],["c",0.15,0.21,0.24,-0.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,0.12,-0.06,0.27,-0.09,0.3],["c",-0.12,0.21,-0.6,0.21,-0.72,0],["c",-0.03,-0.03,-0.09,-0.18,-0.09,-0.3],["c",-0.03,-0.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",0.03,-0.03,0.09,-0.09,0.15,-0.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",0.09,-0.06],["l",5.46,0],["l",5.46,0],["l",0.09,0.06],["l",0.06,0.09],["l",0,4.77],["c",0,5.28,0,4.89,-0.18,5.01],["c",-0.18,0.12,-0.42,0.06,-0.54,-0.12],["c",-0.06,-0.09,-0.06,-0.18,-0.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-0.06,2.97],["c",-0.15,0.24,-0.51,0.24,-0.66,0],["c",-0.06,-0.09,-0.06,-0.21,-0.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",0.36,-0.06,1.05,-0.06,1.44,0.03],["c",0.78,0.15,1.5,0.51,2.34,1.14],["c",0.6,0.45,1.05,0.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",0.6,0.36,1.32,0.57,1.92,0.57],["c",0.9,-0,1.71,-0.57,1.89,-1.35],["c",0.24,-0.93,-0.39,-1.89,-1.35,-2.1],["l",-0.15,-0.06],["l",-0.09,0.15],["c",-0.03,0.09,-0.15,0.24,-0.24,0.33],["c",-0.72,0.72,-2.04,0.54,-2.49,-0.36],["c",-0.48,-0.93,0.03,-1.86,1.17,-2.19],["c",0.3,-0.09,1.02,-0.09,1.35,-0],["c",0.99,0.27,1.74,0.87,2.25,1.83],["c",0.69,1.41,0.63,3,-0.21,4.26],["c",-0.21,0.3,-0.69,0.81,-0.99,1.02],["c",-0.3,0.21,-0.84,0.45,-1.17,0.54],["c",-1.23,0.36,-2.49,0.15,-3.72,-0.6],["c",-0.75,-0.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-0.6,-0.36,-1.32,-0.57,-1.92,-0.57],["c",-0.9,0,-1.71,0.57,-1.89,1.35],["c",-0.24,0.93,0.39,1.89,1.35,2.1],["l",0.15,0.06],["l",0.09,-0.15],["c",0.03,-0.09,0.15,-0.24,0.24,-0.33],["c",0.72,-0.72,2.04,-0.54,2.49,0.36],["c",0.48,0.93,-0.03,1.86,-1.17,2.19],["c",-0.3,0.09,-1.02,0.09,-1.35,0],["c",-0.99,-0.27,-1.74,-0.87,-2.25,-1.83],["c",-0.69,-1.41,-0.63,-3,0.21,-4.26],["c",0.21,-0.3,0.69,-0.81,0.99,-1.02],["c",0.48,-0.33,1.11,-0.57,1.74,-0.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-0.51,-16.02],["c",0.12,-0.09,0.21,-0.18,0.21,-0.18],["l",-0.81,4.02],["l",-0.81,4.02],["c",0.03,0,0.51,-0.27,1.08,-0.6],["c",0.6,-0.3,1.14,-0.63,1.26,-0.66],["c",1.14,-0.54,2.31,-0.6,3.09,-0.18],["c",0.27,0.15,0.54,0.36,0.6,0.51],["l",0.06,0.12],["l",0.21,-0.21],["c",0.9,-0.81,2.22,-0.99,3.12,-0.42],["c",0.6,0.42,0.9,1.14,0.78,2.07],["c",-0.15,1.29,-1.05,2.31,-1.95,2.25],["c",-0.48,-0.03,-0.78,-0.3,-0.96,-0.81],["c",-0.09,-0.27,-0.09,-0.9,-0.03,-1.2],["c",0.21,-0.75,0.81,-1.23,1.59,-1.32],["l",0.24,-0.03],["l",-0.09,-0.12],["c",-0.51,-0.66,-1.62,-0.63,-2.31,0.03],["c",-0.39,0.42,-0.3,0.09,-1.23,4.77],["l",-0.81,4.14],["c",-0.03,0,-0.12,-0.03,-0.21,-0.09],["c",-0.33,-0.15,-0.54,-0.18,-0.99,-0.18],["c",-0.42,0,-0.66,0.03,-1.05,0.18],["c",-0.12,0.06,-0.21,0.09,-0.21,0.09],["c",0,-0.03,0.36,-1.86,0.81,-4.11],["c",0.9,-4.47,0.87,-4.26,0.69,-4.53],["c",-0.21,-0.36,-0.66,-0.51,-1.17,-0.36],["c",-0.15,0.06,-2.22,1.14,-2.58,1.38],["c",-0.12,0.09,-0.12,0.09,-0.21,0.6],["l",-0.09,0.51],["l",0.21,0.24],["c",0.63,0.75,1.02,1.47,1.2,2.19],["c",0.06,0.27,0.06,0.36,0.06,0.81],["c",0,0.42,0,0.54,-0.06,0.78],["c",-0.15,0.54,-0.33,0.93,-0.63,1.35],["c",-0.18,0.24,-0.57,0.63,-0.81,0.78],["c",-0.24,0.15,-0.63,0.36,-0.84,0.42],["c",-0.27,0.06,-0.66,0.06,-0.87,0.03],["c",-0.81,-0.18,-1.32,-1.05,-1.38,-2.46],["c",-0.03,-0.6,0.03,-0.99,0.33,-2.46],["c",0.21,-1.08,0.24,-1.32,0.21,-1.29],["c",-1.2,0.48,-2.4,0.75,-3.21,0.72],["c",-0.69,-0.06,-1.17,-0.3,-1.41,-0.72],["c",-0.39,-0.75,-0.12,-1.8,0.66,-2.46],["c",0.24,-0.18,0.69,-0.42,1.02,-0.51],["c",0.69,-0.18,1.53,-0.15,2.31,0.09],["c",0.3,0.09,0.75,0.3,0.99,0.45],["c",0.12,0.09,0.15,0.09,0.15,0.03],["c",0.03,-0.03,0.33,-1.59,0.72,-3.45],["c",0.36,-1.86,0.66,-3.42,0.69,-3.45],["c",0,-0.03,0.03,-0.03,0.21,0.03],["c",0.21,0.06,0.27,0.06,0.48,0.06],["c",0.42,-0.03,0.78,-0.18,1.26,-0.48],["c",0.15,-0.12,0.36,-0.27,0.48,-0.39],["z"],["m",-5.73,7.68],["c",-0.27,-0.03,-0.96,-0.06,-1.2,-0.03],["c",-0.81,0.12,-1.35,0.57,-1.5,1.2],["c",-0.18,0.66,0.12,1.14,0.75,1.29],["c",0.66,0.12,1.92,-0.12,3.18,-0.66],["l",0.33,-0.15],["l",0.09,-0.39],["c",0.06,-0.21,0.09,-0.42,0.09,-0.45],["c",0,-0.03,-0.45,-0.3,-0.75,-0.45],["c",-0.27,-0.15,-0.66,-0.27,-0.99,-0.36],["z"],["m",4.29,3.63],["c",-0.24,-0.39,-0.51,-0.75,-0.51,-0.69],["c",-0.06,0.12,-0.39,1.92,-0.45,2.28],["c",-0.09,0.54,-0.12,1.14,-0.06,1.38],["c",0.06,0.42,0.21,0.6,0.51,0.57],["c",0.39,-0.06,0.75,-0.48,0.93,-1.14],["c",0.09,-0.33,0.09,-1.05,-0,-1.38],["c",-0.09,-0.39,-0.24,-0.69,-0.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-1,-11.22],["c",0.78,-0.09,1.59,0.03,2.31,0.42],["c",1.2,0.6,2.01,1.71,2.31,3.09],["c",0.09,0.42,0.09,1.2,0.03,1.5],["c",-0.15,0.45,-0.39,0.81,-0.66,0.93],["c",-0.33,0.18,-0.84,0.21,-1.23,0.15],["c",-0.81,-0.18,-1.32,-0.93,-1.26,-1.89],["c",0.03,-0.36,0.09,-0.57,0.24,-0.9],["c",0.15,-0.33,0.45,-0.6,0.72,-0.75],["c",0.12,-0.06,0.18,-0.09,0.18,-0.12],["c",0,-0.03,-0.03,-0.15,-0.09,-0.24],["c",-0.18,-0.45,-0.54,-0.87,-0.96,-1.08],["c",-1.11,-0.57,-2.34,-0.18,-2.88,0.9],["c",-0.24,0.51,-0.33,1.11,-0.24,1.83],["c",0.27,1.92,1.5,3.54,3.93,5.13],["c",0.48,0.33,1.26,0.78,1.29,0.78],["c",0.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",0.84,0],["l",0.87,0],["l",-0.03,0.06],["c",-0.15,0.21,-6.15,10.41,-6.15,10.44],["c",0,0,0.21,0.15,0.48,0.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,0.51,5.07,-1.44,6.39],["c",-0.66,0.42,-1.32,0.63,-2.13,0.69],["c",-2.01,0.09,-3.81,-1.41,-4.26,-3.54],["c",-0.09,-0.42,-0.09,-1.2,-0.03,-1.5],["c",0.15,-0.45,0.39,-0.81,0.66,-0.93],["c",0.33,-0.18,0.84,-0.21,1.23,-0.15],["c",0.81,0.18,1.32,0.93,1.26,1.89],["c",-0.03,0.36,-0.09,0.57,-0.24,0.9],["c",-0.15,0.33,-0.45,0.6,-0.72,0.75],["c",-0.12,0.06,-0.18,0.09,-0.18,0.12],["c",0,0.03,0.03,0.15,0.09,0.24],["c",0.18,0.45,0.54,0.87,0.96,1.08],["c",1.11,0.57,2.34,0.18,2.88,-0.9],["c",0.24,-0.51,0.33,-1.11,0.24,-1.83],["c",-0.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-0.48,-0.33,-1.26,-0.78,-1.29,-0.78],["c",-0.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-0.87,0],["l",-0.87,0],["l",0.03,-0.06],["c",0.15,-0.21,6.15,-10.41,6.15,-10.44],["c",0,0,-0.21,-0.15,-0.48,-0.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-0.9,-1.89,-0.72,-4.02,0.48,-5.52],["c",0.69,-0.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",0.03,-0.03,0.15,-0.03,0.27,-0.03],["c",0.33,0.03,0.57,0.18,0.72,0.48],["c",0.09,0.18,0.09,0.57,0,0.75],["c",-0.09,0.18,-0.21,0.3,-0.36,0.39],["c",-0.15,0.06,-0.21,0.06,-0.39,0.06],["c",-0.21,0,-0.27,0,-0.39,-0.06],["c",-0.3,-0.15,-0.48,-0.45,-0.48,-0.75],["c",0,-0.39,0.24,-0.72,0.63,-0.84],["z"],["m",-10.53,2.61],["c",0.03,-0.03,0.15,-0.03,0.27,-0.03],["c",0.33,0.03,0.57,0.18,0.72,0.48],["c",0.09,0.18,0.09,0.57,0,0.75],["c",-0.09,0.18,-0.21,0.3,-0.36,0.39],["c",-0.15,0.06,-0.21,0.06,-0.39,0.06],["c",-0.21,0,-0.27,0,-0.39,-0.06],["c",-0.3,-0.15,-0.48,-0.45,-0.48,-0.75],["c",0,-0.39,0.24,-0.72,0.63,-0.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-0.21,-13],["c",0.18,-0.12,0.42,-0.06,0.54,0.12],["c",0.06,0.09,0.06,0.18,0.06,1.5],["l",0,1.38],["l",0.18,0],["c",0.39,0.06,0.96,0.24,1.38,0.48],["c",1.68,0.93,2.82,3.24,3.03,6.12],["c",0.03,0.24,0.03,0.45,0.03,0.45],["c",0,0.03,0.6,0.03,1.35,0.03],["c",1.5,0,1.47,0,1.59,0.18],["c",0.09,0.12,0.09,0.3,-0,0.42],["c",-0.12,0.18,-0.09,0.18,-1.59,0.18],["c",-0.75,0,-1.35,0,-1.35,0.03],["c",-0,0,-0,0.21,-0.03,0.42],["c",-0.24,3.15,-1.53,5.58,-3.45,6.36],["c",-0.27,0.12,-0.72,0.24,-0.96,0.27],["l",-0.18,-0],["l",-0,1.38],["c",-0,1.32,-0,1.41,-0.06,1.5],["c",-0.15,0.24,-0.51,0.24,-0.66,-0],["c",-0.06,-0.09,-0.06,-0.18,-0.06,-1.5],["l",-0,-1.38],["l",-0.18,-0],["c",-0.39,-0.06,-0.96,-0.24,-1.38,-0.48],["c",-1.68,-0.93,-2.82,-3.24,-3.03,-6.15],["c",-0.03,-0.21,-0.03,-0.42,-0.03,-0.42],["c",0,-0.03,-0.6,-0.03,-1.35,-0.03],["c",-1.5,-0,-1.47,-0,-1.59,-0.18],["c",-0.09,-0.12,-0.09,-0.3,0,-0.42],["c",0.12,-0.18,0.09,-0.18,1.59,-0.18],["c",0.75,-0,1.35,-0,1.35,-0.03],["c",0,-0,0,-0.21,0.03,-0.45],["c",0.24,-3.12,1.53,-5.55,3.45,-6.33],["c",0.27,-0.12,0.72,-0.24,0.96,-0.27],["l",0.18,-0],["l",0,-1.38],["c",0,-1.53,0,-1.5,0.18,-1.62],["z"],["m",-0.18,6.93],["c",0,-2.97,0,-3.15,-0.06,-3.15],["c",-0.09,0,-0.51,0.15,-0.66,0.21],["c",-0.87,0.51,-1.38,1.62,-1.56,3.51],["c",-0.06,0.54,-0.12,1.59,-0.12,2.16],["l",0,0.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-0.09,-0.03,-0.21,-0.06,-0.27,-0.09],["l",-0.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-0.81],["c",-0.06,-2.4,-0.33,-3.69,-0.93,-4.59],["c",-0.27,-0.39,-0.66,-0.69,-1.08,-0.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,-0],["l",-1.2,-0],["l",0,0.81],["c",0.03,0.96,0.06,1.47,0.15,2.13],["c",0.24,2.04,0.96,3.12,2.13,3.36],["l",0.12,-0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-0.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",0.12,0],["c",1.17,-0.24,1.89,-1.32,2.13,-3.36],["c",0.09,-0.66,0.12,-1.17,0.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",0.3,-0.12,0.69,-0.03,0.93,0.15],["c",0.12,0.12,0.36,0.45,0.51,0.78],["c",0.9,1.77,0.54,4.05,-1.08,6.75],["c",-0.36,0.63,-0.87,1.38,-0.96,1.44],["c",-0.18,0.12,-0.42,0.06,-0.54,-0.12],["c",-0.09,-0.18,-0.09,-0.3,0.12,-0.6],["c",0.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-0.06,-0.93,-0.3,-1.68,-0.78,-2.46],["c",-0.27,-0.39,-0.33,-0.63,-0.24,-0.96],["c",0.09,-0.27,0.36,-0.54,0.66,-0.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",0.21,-0.09,0.36,-0.09,0.57,0],["c",0.39,0.15,0.63,0.39,1.47,1.35],["c",0.66,0.75,0.78,0.87,1.08,1.05],["c",0.75,0.45,1.65,0.42,2.4,-0.06],["c",0.12,-0.09,0.27,-0.27,0.54,-0.6],["c",0.42,-0.54,0.51,-0.63,0.69,-0.63],["c",0.09,0,0.3,0.12,0.36,0.21],["c",0.09,0.12,0.12,0.3,0.03,0.42],["c",-0.06,0.12,-3.15,3.9,-3.3,4.08],["c",-0.06,0.06,-0.18,0.12,-0.27,0.18],["c",-0.27,0.12,-0.6,0.06,-0.99,-0.27],["c",-0.27,-0.21,-0.42,-0.39,-1.08,-1.14],["c",-0.63,-0.72,-0.81,-0.9,-1.17,-1.08],["c",-0.36,-0.18,-0.57,-0.21,-0.99,-0.21],["c",-0.39,0,-0.63,0.03,-0.93,0.18],["c",-0.36,0.15,-0.51,0.27,-0.9,0.81],["c",-0.24,0.27,-0.45,0.51,-0.48,0.54],["c",-0.12,0.09,-0.27,0.06,-0.39,0],["c",-0.24,-0.15,-0.33,-0.39,-0.21,-0.6],["c",0.09,-0.12,3.18,-3.87,3.33,-4.02],["c",0.06,-0.06,0.18,-0.15,0.24,-0.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",0.06,-0.03,0.18,-0.06,0.24,-0.06],["c",0.3,0,0.27,-0.03,1.89,1.95],["l",1.53,1.83],["c",0.03,-0,0.57,-0.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",0.06,-0.03,0.18,-0.06,0.24,-0.06],["c",0.3,0,0.27,-0.03,1.89,1.95],["l",1.53,1.83],["l",0.48,-0.69],["c",0.51,-0.78,0.54,-0.84,0.69,-0.9],["c",0.42,-0.18,0.87,0.15,0.81,0.6],["c",-0.03,0.12,-0.3,0.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-0.06,0.03,-0.18,0.06,-0.24,0.06],["c",-0.3,0,-0.27,0.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-0.03,0,-0.57,0.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-0.06,0.03,-0.18,0.06,-0.24,0.06],["c",-0.3,0,-0.27,0.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-0.48,0.69],["c",-0.51,0.78,-0.54,0.84,-0.69,0.9],["c",-0.42,0.18,-0.87,-0.15,-0.81,-0.6],["c",0.03,-0.12,0.3,-0.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.mordent":{d:[["M",-0.21,-4.95],["c",0.27,-0.15,0.63,0,0.75,0.27],["c",0.06,0.12,0.06,0.24,0.06,1.44],["l",0,1.29],["l",0.57,-0.84],["c",0.51,-0.75,0.57,-0.84,0.69,-0.9],["c",0.06,-0.03,0.18,-0.06,0.24,-0.06],["c",0.3,0,0.27,-0.03,1.89,1.95],["l",1.53,1.83],["l",0.48,-0.69],["c",0.51,-0.78,0.54,-0.84,0.69,-0.9],["c",0.42,-0.18,0.87,0.15,0.81,0.6],["c",-0.03,0.12,-0.3,0.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-0.06,0.03,-0.18,0.06,-0.24,0.06],["c",-0.3,0,-0.27,0.03,-1.83,-1.89],["c",-0.81,-0.99,-1.5,-1.8,-1.53,-1.86],["c",-0.06,-0.03,-0.06,-0.03,-0.12,0.03],["c",-0.06,0.06,-0.06,0.15,-0.06,2.28],["c",-0,1.95,-0,2.25,-0.06,2.34],["c",-0.18,0.45,-0.81,0.48,-1.05,0.03],["c",-0.03,-0.06,-0.06,-0.24,-0.06,-1.41],["l",-0,-1.35],["l",-0.57,0.84],["c",-0.54,0.78,-0.6,0.87,-0.72,0.93],["c",-0.06,0.03,-0.18,0.06,-0.24,0.06],["c",-0.3,0,-0.27,0.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-0.48,0.69],["c",-0.51,0.78,-0.54,0.84,-0.69,0.9],["c",-0.42,0.18,-0.87,-0.15,-0.81,-0.6],["c",0.03,-0.12,0.3,-0.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",0.06,-0.03,0.18,-0.06,0.24,-0.06],["c",0.3,0,0.27,-0.03,1.89,1.95],["l",1.53,1.83],["c",0.03,-0,0.06,-0.06,0.09,-0.09],["c",0.06,-0.12,0.06,-0.15,0.06,-2.28],["c",-0,-1.92,-0,-2.22,0.06,-2.31],["c",0.06,-0.15,0.15,-0.24,0.3,-0.3],["z"]],w:15.011,h:10.012},"timesig.common":{d:[["M",6.66,-7.826],["c",0.72,-0.06,1.41,-0.03,1.98,0.09],["c",1.2,0.27,2.34,0.96,3.09,1.92],["c",0.63,0.81,1.08,1.86,1.14,2.73],["c",0.06,1.02,-0.51,1.92,-1.44,2.22],["c",-0.24,0.09,-0.3,0.09,-0.63,0.09],["c",-0.33,-0,-0.42,-0,-0.63,-0.06],["c",-0.66,-0.24,-1.14,-0.63,-1.41,-1.2],["c",-0.15,-0.3,-0.21,-0.51,-0.24,-0.9],["c",-0.06,-1.08,0.57,-2.04,1.56,-2.37],["c",0.18,-0.06,0.27,-0.06,0.63,-0.06],["l",0.45,0],["c",0.06,0.03,0.09,0.03,0.09,0],["c",0,0,-0.09,-0.12,-0.24,-0.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,0.15,-2.04,0.69,-2.4,1.74],["c",-0.36,0.93,-0.42,1.89,-0.42,5.37],["c",0,2.97,0.06,3.96,0.24,4.77],["c",0.24,1.08,0.63,1.68,1.41,2.07],["c",0.81,0.39,2.16,0.45,3.18,0.09],["c",1.29,-0.45,2.37,-1.53,3.03,-2.97],["c",0.15,-0.33,0.33,-0.87,0.39,-1.17],["c",0.09,-0.24,0.15,-0.36,0.3,-0.39],["c",0.21,-0.03,0.42,0.15,0.39,0.36],["c",-0.06,0.39,-0.42,1.38,-0.69,1.89],["c",-0.96,1.8,-2.49,2.94,-4.23,3.18],["c",-0.99,0.12,-2.58,-0.06,-3.63,-0.45],["c",-0.96,-0.36,-1.71,-0.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-0.06,-0.6,-0.06,-2.01,0,-2.61],["c",0.24,-1.95,0.9,-3.45,2.01,-4.56],["c",0.69,-0.66,1.44,-1.11,2.37,-1.47],["c",0.63,-0.24,1.47,-0.42,2.22,-0.48],["z"]],w:13.038,h:15.697},"timesig.cut":{d:[["M",6.24,-10.44],["c",0.09,-0.06,0.09,-0.06,0.48,-0.06],["c",0.36,0,0.36,0,0.45,0.06],["l",0.06,0.09],["l",0,1.23],["l",0,1.26],["l",0.27,0],["c",1.26,0,2.49,0.45,3.48,1.29],["c",1.05,0.87,1.8,2.28,1.89,3.48],["c",0.06,1.02,-0.51,1.92,-1.44,2.22],["c",-0.24,0.09,-0.3,0.09,-0.63,0.09],["c",-0.33,-0,-0.42,-0,-0.63,-0.06],["c",-0.66,-0.24,-1.14,-0.63,-1.41,-1.2],["c",-0.15,-0.3,-0.21,-0.51,-0.24,-0.9],["c",-0.06,-1.08,0.57,-2.04,1.56,-2.37],["c",0.18,-0.06,0.27,-0.06,0.63,-0.06],["l",0.45,-0],["c",0.06,0.03,0.09,0.03,0.09,-0],["c",0,-0.03,-0.45,-0.51,-0.66,-0.69],["c",-0.87,-0.69,-1.83,-1.05,-2.94,-1.11],["l",-0.42,0],["l",0,7.17],["l",0,7.14],["l",0.42,0],["c",0.69,-0.03,1.23,-0.18,1.86,-0.51],["c",1.05,-0.51,1.89,-1.47,2.46,-2.7],["c",0.15,-0.33,0.33,-0.87,0.39,-1.17],["c",0.09,-0.24,0.15,-0.36,0.3,-0.39],["c",0.21,-0.03,0.42,0.15,0.39,0.36],["c",-0.03,0.24,-0.21,0.78,-0.39,1.2],["c",-0.96,2.37,-2.94,3.9,-5.13,3.9],["l",-0.3,0],["l",0,1.26],["l",0,1.23],["l",-0.06,0.09],["c",-0.09,0.06,-0.09,0.06,-0.45,0.06],["c",-0.39,0,-0.39,0,-0.48,-0.06],["l",-0.06,-0.09],["l",0,-1.29],["l",0,-1.29],["l",-0.21,-0.03],["c",-1.23,-0.21,-2.31,-0.63,-3.21,-1.29],["c",-0.15,-0.09,-0.45,-0.36,-0.66,-0.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-0.06,-0.6,-0.06,-2.01,0,-2.61],["c",0.24,-1.95,0.93,-3.45,2.04,-4.59],["c",0.42,-0.39,0.78,-0.66,1.26,-0.93],["c",0.75,-0.45,1.65,-0.75,2.61,-0.9],["l",0.21,-0.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-0.06,10.44],["c",0,-5.58,0,-6.99,-0.03,-6.99],["c",-0.15,0,-0.63,0.27,-0.87,0.45],["c",-0.45,0.36,-0.75,0.93,-0.93,1.77],["c",-0.18,0.81,-0.24,1.8,-0.24,4.74],["c",0,2.97,0.06,3.96,0.24,4.77],["c",0.24,1.08,0.66,1.68,1.41,2.07],["c",0.12,0.06,0.3,0.12,0.33,0.15],["l",0.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"it.l":{d:[["M",3.889,-4.778],["c",-0.167,1.167,-1.111,2.833,-0.167,3.5],["c",1,-0.278,1.556,-0.833,2.445,-1.278],["l",-0,0.389],["c",-1.611,1,-2.111,1.945,-3.778,2.445],["c",-0.444,-0.112,-0.778,-0.945,-0.611,-1.612],["l",2.667,-10.111],["c",1.055,-1,2.166,-2.5,4.222,-2],["l",-0.834,1.056],["c",-3.055,-0.778,-2.555,3.111,-3.388,5.389],["c",-0.389,1.111,-0.389,1.166,-0.556,2.222],["z"]],w:6.933,h:13.822},"it.f":{d:[["M",4.333,-6.833],["c",0.722,-3.778,2.222,-7,6.5,-6.667],["l",-0.944,1.111],["c",-3.5,-1.111,-3.167,3.167,-4.112,5.556],["c",0.834,-0,1.723,-0.111,2.445,-0],["c",-0.5,0.611,-1.389,0.722,-2.611,0.611],["c",-1.278,4.056,-1.722,8.945,-5.111,10.889],["c",-0.556,0.333,-1.667,0.333,-2.5,0.167],["c",0.5,-0.667,0.722,-1.5,2,-1.167],["c",3.722,-0.778,2.611,-6.389,4.166,-9.889],["l",-2.666,0],["c",0.666,-0.444,1.666,-0.833,2.833,-0.611],["z"]],w:12.833,h:18.467},"it.F":{d:[["M",14.667,-12.389],["c",-0.167,0.778,-1.056,1.111,-1.444,1.444],["l",-3.223,-0.055],["l",-1.277,5.167],["l",3.166,-0],["c",-0.611,0.777,-2,0.777,-3.389,0.777],["c",-0.777,4,-2.444,7.556,-7.277,7.278],["c",0.444,-0.667,0.555,-1.444,2.055,-1.278],["c",3.333,0.334,2.833,-3.444,3.778,-5.889],["l",-0.5,0],["c",1.333,-1.388,1.333,-4.055,2,-6.055],["c",-3.167,-0.667,-4.833,2.055,-3.611,4.833],["l",-1.667,0.778],["c",-1.111,-3.944,1.778,-6.333,5.945,-6.333],["c",2,-0,4.222,0.333,5.444,-0.667],["z"]],w:13.444,h:14.626},"it.i":{d:[["M",5.444,-12.333],["l",0.722,1.389],["c",-0.444,0.333,-0.944,0.611,-1.333,1.055],["c",-0.167,-0.444,-1.167,-1.277,-0.445,-1.555],["z"],["m",-0.389,4.333],["l",-1.389,6.167],["c",0.334,1.389,1.778,-0.278,2.556,-0.5],["c",-0.056,1.111,-1.278,1,-1.778,1.667],["c",-0.833,0.444,-1.222,0.833,-1.944,0.944],["c",-0.445,-0.055,-0.556,-0.722,-0.445,-1.167],["c",0.167,-1.777,1,-3.333,1.278,-5.333],["c",-0.278,-0.778,-1.167,0.111,-1.722,0.333],["l",0.055,-0.555],["c",1.167,-0.722,2.111,-1.556,3.167,-1.778],["c",0.167,0,0.222,0.111,0.222,0.222],["z"]],w:4.611,h:12.611},"it.n":{d:[["M",6.556,0.333],["c",-0.889,-2.222,1,-4.389,0.944,-6.778],["c",-0.388,-0.611,-1,0.278,-1.555,0.445],["c",-0.5,0.333,-0.556,0.333,-1.5,0.944],["l",-1.167,4.667],["l",-1.5,0.611],["c",0.5,-2.111,1.334,-4.389,1.611,-6.611],["c",-0.333,-0.667,-1.166,0.166,-1.777,0.333],["c",0.5,-1.444,2.166,-1.5,3.277,-2.167],["c",0.667,0.334,-0.222,1.612,-0.222,2.334],["c",1,-0.611,2.667,-1.889,4.222,-2.334],["c",0.334,0,0.445,0.278,0.334,0.5],["c",-0.278,1.612,-1.167,3.945,-1.445,5.834],["c",0.111,1,1,0.222,1.445,-0],["c",0.444,-0.222,0.444,-0.222,1.166,-0.667],["c",-0.555,1.611,-2.722,2.056,-3.833,2.889],["z"]],w:8.778,h:8.556},"it.e":{d:[["M",4.389,-0.889],["c",1.389,0,2.056,-0.889,3.222,-1.833],["l",0,0.555],["c",-1.611,1.611,-3,2.445,-4.222,2.445],["c",-1.111,-0,-1.722,-0.778,-1.667,-1.945],["c",0.167,-3.444,1.389,-6.555,4.556,-6.555],["c",0.667,-0,1.167,0.389,1.111,1.111],["c",-0.222,2.389,-2.722,3,-4.167,4.278],["c",-0.055,1.055,0.223,1.944,1.167,1.944],["z"],["m",1.556,-5.667],["c",0.111,-0.833,-0.667,-1.055,-1.167,-0.555],["c",-0.778,0.833,-1.333,2.111,-1.5,3.555],["c",1.222,-0.889,2.5,-1.222,2.667,-3],["z"]],w:5.892,h:8.5},"it.D":{d:[["M",15.167,-8.056],["c",-0.278,6.778,-5.611,8.667,-13.444,8.056],["l",0.944,-0.945],["c",2.722,-0.055,2.944,-1.833,3.5,-4.111],["l",1.5,-5.944],["c",-2.944,0.222,-4.889,2,-4.167,5.166],["l",-1.666,0.778],["c",-0.778,-3.778,2.333,-6.111,6.166,-6.611],["l",1.445,-0.611],["l",-0.167,0.555],["c",2.945,0.056,6,0.945,5.889,3.667],["z"],["m",-7.833,7.167],["c",4.5,0.222,6.111,-2.778,6.111,-6.778],["c",-0,-2.5,-1.611,-3.5,-4.334,-3.445],["l",-2.166,7.778],["c",-0.611,0.945,-1.222,1.556,-2.167,2.334],["z"]],w:13.456,h:12.386},"it.d":{d:[["M",2.222,0.111],["c",-1.389,-3.444,1.167,-8.611,5.056,-8.222],["c",0.444,-1.5,0.666,-3,1.833,-3.834],["c",1.167,-0.833,1.833,-1.833,3.444,-1.5],["c",-0.333,0.612,-0.611,1.389,-1.611,0.945],["c",-2.666,0.889,-2.111,5.778,-3.222,8.444],["c",-0.056,0.889,-0.778,2.278,-0.167,2.889],["c",0.723,-0.222,1.556,-1,2.389,-1.444],["c",-0.555,1.666,-2.555,2,-3.778,2.889],["c",-0.722,-0.111,-0.444,-1.223,-0.333,-2.056],["c",-1,0.611,-2.278,1.722,-3.333,2.056],["c",-0.111,-0,-0.167,-0.056,-0.278,-0.167],["z"],["m",3.722,-7.389],["c",-1.5,-0.278,-2.778,3.333,-2.778,5.333],["c",0,1.667,1.223,0.5,1.834,0.112],["l",1,-0.723],["l",0.944,-4.166],["c",-0.333,-0.389,-0.5,-0.445,-1,-0.556],["z"]],w:10.716,h:13.788},"it.a":{d:[["M",7.833,-1.444],["c",0.889,-0.167,1.278,-0.833,2,-1.167],["c",-0.5,1.778,-2.444,2.056,-3.667,2.889],["c",-0.722,-0.333,-0.055,-1.333,0,-2.222],["c",-1.222,0.722,-2.222,1.667,-3.611,2.222],["c",-2.166,-3,0.5,-9.5,5.5,-8.444],["c",0.389,0.055,0.834,0.111,1.334,0.222],["c",-1.223,1.389,-1.334,4,-1.778,6.111],["c",-0,0.278,0.055,0.389,0.222,0.389],["z"],["m",-0.444,-5.611],["c",-3.223,-1.222,-3.889,2.167,-4.112,4.778],["c",0.389,2.222,2,-0,3.056,-0.445],["z"]],w:8.037,h:8.559},"it.C":{d:[["M",3.389,-2.556],["c",-0.167,4.167,5,3.389,7.167,1.278],["l",-0.111,0.611],["c",-2.167,2,-8.889,3.889,-8.667,-1.167],["c",0.222,-5.333,3.5,-10,8.555,-10],["c",1.5,0,2.167,0.667,2.389,2],["l",-1.5,1.278],["c",-0.111,-1.389,-0.555,-2.333,-1.944,-2.333],["c",-3.833,-0,-5.722,4.166,-5.889,8.333],["z"]],w:10.95,h:13.236},"it.c":{d:[["M",3.278,-2.389],["c",-0.056,0.889,0.389,1.5,1.167,1.5],["c",0.611,0,1.666,-0.556,3.222,-1.667],["l",-0.056,0.667],["c",-1.389,0.944,-2.722,2,-4.444,2.167],["c",-2.945,-0.778,-0.833,-6.5,0.833,-7.278],["c",0.778,-0.389,1.278,-1.111,2.278,-1.222],["c",0.778,-0.111,1.333,0.889,1.111,1.611],["l",-1.167,0.666],["c",-0.111,-0.666,-0.222,-1.222,-0.833,-1.222],["c",-1.389,0.056,-2.055,3,-2.111,4.778],["z"]],w:5.971,h:8.509},"it.p":{d:[["M",9.667,-6.667],["c",0,3.778,-2,7.111,-6.167,6.722],["l",-0.944,4.278],["l",2.222,0.111],["c",-0.778,0.945,-3.222,0.333,-4.944,0.445],["c",0.333,-0.334,0.611,-0.723,1.333,-0.667],["l",2.333,-10.167],["c",-0.111,-1.166,-1.333,-0.166,-1.833,0],["c",0.5,-1.333,2.278,-1.611,3.389,-2.278],["c",0.667,0.223,-0.111,1.334,-0.111,2.056],["c",1.278,-0.944,4.722,-3.722,4.722,-0.5],["z"],["m",-1.444,0.889],["c",-0,-2.333,-2.612,-0.167,-3.445,0.444],["l",-0.944,4],["c",2.722,1.723,4.389,-1.833,4.389,-4.444],["z"]],w:9.833,h:13.204},"it.o":{d:[["M",1.722,-1.722],["c",0.111,-3.722,2.278,-6.056,5.444,-6.5],["c",1.112,-0.167,1.834,0.722,1.834,1.833],["c",-0.222,3.778,-2.056,6,-5.556,6.667],["c",-1,-0.056,-1.722,-0.833,-1.722,-2],["z"],["m",2.889,1.056],["c",2.222,-0,3.333,-3.834,2.5,-6.112],["c",-0.222,-0.333,-0.556,-0.5,-1,-0.5],["c",-1.945,0,-2.833,2.556,-2.833,4.723],["c",-0,1,0.444,1.889,1.333,1.889],["z"]],w:7.278,h:8.52},"it.S":{d:[["M",9,-3.611],["c",0,4,-6.111,6.722,-9,3.667],["c",0.444,-0.778,0.5,-1.834,1.222,-2.334],["c",0.167,1.778,1.278,2.778,3,2.778],["c",1.778,0,3.222,-1.055,3.222,-2.944],["c",0,-2.611,-3.277,-2.389,-3.277,-5],["c",-0,-2.389,2,-4.278,4.389,-4.278],["c",1.055,-0,1.666,0.555,1.777,1.667],["l",-1.333,0.888],["c",-0.222,-1.111,-0.278,-1.611,-1.333,-1.611],["c",-1.334,0,-2.167,1.056,-2.167,2.445],["c",0,2.5,3.5,2.222,3.5,4.722],["z"]],w:10.333,h:13.089},"it.s":{d:[["M",2.278,0.278],["c",-1,0,-1.556,-0.778,-1.444,-1.944],["l",1.388,-0.889],["c",0,1.111,0.278,2,1.167,2],["c",0.945,-0.167,1.722,-0.723,1.667,-1.889],["c",-0.445,-1.056,-2.222,-1.278,-2.222,-2.722],["c",-0,-2,3.055,-4.056,4.722,-2.389],["l",-0.945,1.055],["c",-0.555,-1.166,-2.555,-0.889,-2.5,0.5],["c",0,1.611,2.334,1.278,2.223,2.945],["c",-0.167,1.944,-1.889,3.333,-4.056,3.333],["z"]],w:6.736,h:8.445},"it.punto":{d:[["M",3.056,0.167],["c",-0.333,-0.611,-1.389,-1.556,-0.333,-1.944],["l",0.889,-0.778],["c",0.388,0.722,1.444,1.611,0.277,2.111],["c",-0.277,0.167,-0.5,0.444,-0.833,0.611],["z"]],w:2.157,h:2.722}};
this.getSymbolPathTxt=function(c){if(!a[c]){return null}return this.stringify(a[c].d)};this.printSymbol=function(c,h,d,g){if(!a[d]){return null}var e=this.pathClone(a[d].d);e[0][1]+=c;e[0][2]+=h;var f=g.path().attr({path:e,stroke:"none",fill:"#000000"});return f};this.getSymbolWidth=function(d){var c=d.replace("graceheads","noteheads").replace("graceflags","flags");if(a[c]){return a[c].w}return 0};this.getSymbolHeight=function(c){if(a[c]){return a[c].h}return 0};this.getSymbolAlign=function(c){if(c.substring(0,7)==="scripts"&&c!=="scripts.roll"){return"center"}return"left"};this.pathClone=function(h){var e=[];for(var d=0,f=h.length;d<f;d++){e[d]=[];for(var c=0,g=h[d].length;c<g;c++){e[d][c]=h[d][c]}}return e};this.stringify=function(f){var d="";for(var c=0,e=f.length;c<e;c++){if(c>0&&(c%3===0)&&!(f[c].length===1&&f[c][0]==="z")){d+="\n"}d+=f[c][0]+f[c].slice(1).join(" ")}return d};this.pathScale=function(k,g,e){for(var d=0,f=k.length;d<f;d++){var l=k[d];var c,h;for(c=1,h=l.length;c<h;c++){l[c]*=(c%2)?g:e}}};this.getYCorr=function(c){switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return -3;case"timesig.common":case"timesig.cut":return -1;case"flags.d32nd":return -1;case"flags.d64th":return -2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return -1;case"rests.8th":return -1;case"rests.quarter":return -2;case"rests.16th":return -1;case"rests.32nd":return -1;case"rests.64th":return -1;default:return 0}}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}}ABCXJS.write.StaffGroupElement=function(){this.voices=[]};ABCXJS.write.StaffGroupElement.prototype.addVoice=function(a){this.voices[this.voices.length]=a};ABCXJS.write.StaffGroupElement.prototype.finished=function(){for(var a=0;a<this.voices.length;a++){if(!this.voices[a].layoutEnded()){return false}}return true};ABCXJS.write.StaffGroupElement.prototype.layout=function(k,f,q){this.spacingunits=0;this.minspace=1000;var m=f.paddingleft;var e=0;for(var s=0;s<this.voices.length;s++){if(this.voices[s].header){e=Math.max(e,this.voices[s].header.length*5+10)}}m+=e+(e?f.paddingleft:0);this.startx=m;var p=0;if(q){waterbug.log("init layout")}for(s=0;s<this.voices.length;s++){this.voices[s].beginLayout(m);for(b=0;b<this.voices[s].beams.length;b++){for(be=0;be<this.voices[s].beams[b].elems.length;be++){var t=this.voices[s].beams[b].elems[be];this.voices[s].stave.highest=Math.max(t.top,this.voices[s].stave.highest);this.voices[s].stave.lowest=Math.min(t.bottom-2,this.voices[s].stave.lowest)}}}var u=0;while(!this.finished()){if(u++>1000){alert("não termina!")}p=null;for(s=0;s<this.voices.length;s++){if(!this.voices[s].layoutEnded()&&(!p||this.voices[s].getDurationIndex()<p)){p=this.voices[s].getDurationIndex()}}if(q){waterbug.log("currentduration: ",p)}var l=[];var g=[];for(s=0;s<this.voices.length;s++){if(this.voices[s].getDurationIndex()!==p){g.push(this.voices[s])}else{l.push(this.voices[s]);if(q){waterbug.log("in: voice ",s)}}}var h=0;var v=0;for(s=0;s<l.length;s++){if(l[s].getNextX()>m){m=l[s].getNextX();var a=l[s].spacingduration;h=l[s].getSpacingUnits();v=Math.abs(a)<0.001?Math.round(a):a}}this.spacingunits+=h;this.minspace=Math.min(this.minspace,h);for(s=0;s<l.length;s++){var d=l[s].layoutOneItem(m,k);var o=d-m;if(o>0){m=d;for(var r=0;r<s;r++){l[r].shiftRight(o)}}}for(s=0;s<g.length;s++){g[s].spacingduration-=v;g[s].updateNextX(m,k)}for(s=0;s<l.length;s++){var w=l[s];w.updateIndices()}}for(s=0;s<this.voices.length;s++){if(this.voices[s].getNextX()>m){m=this.voices[s].getNextX();h=this.voices[s].getSpacingUnits()}}this.spacingunits+=h;this.w=m;for(s=0;s<this.voices.length;s++){this.voices[s].w=this.w}};ABCXJS.write.StaffGroupElement.prototype.calcShiftAbove=function(a){var c=Math.max(a.stave.highest,ABCXJS.write.spacing.TOPNOTE)-ABCXJS.write.spacing.TOPNOTE;return(c+2)*ABCXJS.write.spacing.STEP};ABCXJS.write.StaffGroupElement.prototype.calcHeight=function(a){var c=(2+a.stave.highest-a.stave.lowest)*ABCXJS.write.spacing.STEP;c+=14*a.stave.lyricsRows;return c};ABCXJS.write.StaffGroupElement.prototype.draw=function(t,d){var s=0;var r=0;var m=t.y;var e=t.y;for(var f=0;f<this.voices.length;f++){var g=0;if(this.voices[f].stave.lyricsRows===0){this.voices[f].stave.lowest-=2}r=this.calcShiftAbove(this.voices[f]);if(this.voices[f].duplicate){var k=this.voices[f-1].stave.y-this.voices[f-1].stave.top;var p=this.voices[f-1].stave.bottom-this.voices[f-1].stave.top;this.voices[f].stave.top=this.voices[f-1].stave.top;if(r>k){this.voices[f-1].stave.y+=(r-k)}this.voices[f].stave.y=this.voices[f-1].stave.y;var o=Math.min(this.voices[f].stave.lowest,this.voices[f-1].stave.lowest);this.voices[f].stave.lowest=o;this.voices[f-1].stave.lowest=o;var o=Math.max(this.voices[f].stave.highest,this.voices[f-1].stave.highest);this.voices[f].stave.highest=o;this.voices[f-1].stave.highest=o;g=this.calcHeight(this.voices[f]);if(g>p){s+=(g-p);m+=(g-p)}this.voices[f-1].stave.bottom=m;this.voices[f].stave.bottom=m}else{if(d>0&&f===0&&this.voices[f].stave.subtitle){m+=5}g=this.calcHeight(this.voices[f]);this.voices[f].stave.top=m;this.voices[f].stave.y=m+r;s+=g;m+=g;this.voices[f].stave.bottom=m}}var j=t.y+s+t.staffsep;if(j>=t.estimatedPageLength){t.skipPage()}else{if(d>0){t.y+=t.staffsep}}var q=t.y-e;if(q!==0){for(var f=0;f<this.voices.length;f++){this.voices[f].stave.bottom+=q;this.voices[f].stave.top+=q;this.voices[f].stave.y+=q}}for(f=0;f<this.voices.length;f++){if(this.voices[f].stave.numLines===0||this.voices[f].duplicate){continue}t.y=this.voices[f].stave.y;if(typeof(debug)!=="undefined"&&debug){t.printDebugLine(this.startx,this.w,this.voices[f].stave.y,"#ff0000");t.printDebugMsg(this.startx-5,this.voices[f].stave.y,"y");t.printDebugLine(this.startx,this.w,this.voices[f].stave.top,"#00ff00");t.printDebugMsg(this.startx-5,this.voices[f].stave.top,"top");t.printDebugLine(this.startx,this.w,this.voices[f].stave.bottom,"#00ff00");t.printDebugMsg(this.startx+50,this.voices[f].stave.bottom,"bottom");t.printDebugLine(this.startx,this.w,t.calcY(this.voices[f].stave.highest),"#0000ff");t.printDebugMsg(this.w-50,t.calcY(this.voices[f].stave.highest),"highest");t.printDebugLine(this.startx,this.w,t.calcY(this.voices[f].stave.lowest),"#0000ff");t.printDebugMsg(this.w-50,t.calcY(this.voices[f].stave.lowest),"lowest")}t.printStave(this.startx,this.w-1,this.voices[f].stave)}for(f=0;f<this.voices.length;f++){if(d>0&&f===0&&this.voices[f].stave.subtitle){t.y=this.voices[f].stave.top-18;t.printSubtitleLine(this.voices[f].stave.subtitle)}this.voices[f].draw(t)}if(this.voices.length>0){var l=this.voices[0].stave.y;var c=this.voices[this.voices.length-1].stave.clef.type;var a=t.calcY(c==="accordionTab"?0:2);t.printBar(this.startx,0.6,l,a,false);t.printBar(this.w-1,0.6,l,a,false);if(this.voices.length>1){t.paper.printBrace(this.startx-10,l-10,a+10)}}this.top=e+q+t.totalY;this.height=s;t.y=e+q+s};ABCXJS.write.VoiceElement=function(d,c,a){this.children=[];
this.beams=[];this.otherchildren=[];this.w=0;this.duplicate=false;this.voicenumber=d;this.staffnumber=c;this.voicetotal=a.voices.length;this.stem=a.stem[d];this.stave={y:0,top:0,bottom:0,clef:a.clef,subtitle:a.subtitle,lyricsRows:a.lyricsRows,lowest:(a.clef.type==="accordionTab")?-2:0,highest:(a.clef.type==="accordionTab")?21.5:10,numLines:(a.clef.type==="accordionTab")?4:a.clef.staffLines||5}};ABCXJS.write.VoiceElement.prototype.addChild=function(a){this.children[this.children.length]=a};ABCXJS.write.VoiceElement.prototype.addOther=function(a){if(a instanceof ABCXJS.write.BeamElem){this.beams.push(a)}else{this.otherchildren.push(a)}};ABCXJS.write.VoiceElement.prototype.updateIndices=function(){if(!this.layoutEnded()){this.durationindex+=this.children[this.i].duration;if(this.children[this.i].duration===0){this.durationindex=Math.round(this.durationindex*64)/64}this.i++}};ABCXJS.write.VoiceElement.prototype.layoutEnded=function(){return(this.i>=this.children.length)};ABCXJS.write.VoiceElement.prototype.getDurationIndex=function(){return this.durationindex-(this.children[this.i]&&(this.children[this.i].duration>0)?0:5e-7)};ABCXJS.write.VoiceElement.prototype.getSpacingUnits=function(){return(this.minx<this.nextx)?Math.sqrt(this.spacingduration*8):0};ABCXJS.write.VoiceElement.prototype.getNextX=function(){return Math.max(this.minx,this.nextx)};ABCXJS.write.VoiceElement.prototype.beginLayout=function(a){this.i=0;this.durationindex=0;this.ii=this.children.length;this.startx=a;this.minx=a;this.nextx=a;this.spacingduration=0};ABCXJS.write.VoiceElement.prototype.layoutOneItem=function(a,e){var d=this.children[this.i];if(!d){return 0}var c=a-this.minx;if(c<d.getExtraWidth()){a+=d.getExtraWidth()-c}d.x=a;this.spacingduration=d.duration;this.minx=a+d.getMinWidth();if(this.i!==this.ii-1){this.minx+=d.minspacing}this.updateNextX(a,e);this.stave.highest=Math.max(d.top,this.stave.highest);this.stave.lowest=Math.min(d.bottom,this.stave.lowest);return a};ABCXJS.write.VoiceElement.prototype.updateNextX=function(a,d){var c=a+(d*Math.sqrt(this.spacingduration*8));this.nextx=isNaN(c)?0:c};ABCXJS.write.VoiceElement.prototype.shiftRight=function(a){var c=this.children[this.i];if(!c){return}c.x+=a;this.minx+=a;this.nextx+=a};ABCXJS.write.VoiceElement.prototype.draw=function(g){var c=this;var f=c.w-1;g.y=c.stave.y;if(this.header){var a=(c.stave.clef.type!=="accordionTab"?g.calcY(6):c.stave.y)+3;var d=g.paddingleft;g.printText(d,a,this.header,"abc_voice_header","start")}for(var e=0;e<this.beams.length;e++){this.beams[e].draw(g)}for(var e=0;e<this.children.length;e++){this.children[e].draw(g,c.stave)}for(var e=0;e<this.otherchildren.length;e++){this.otherchildren[e].draw(g,c.startx+10,f,c.stave,c.staffnumber,c.voicenumber)}};ABCXJS.write.AbsoluteElement=function(d,c,a){this.abcelem=d;this.duration=c;this.minspacing=a||0;this.x=0;this.children=[];this.heads=[];this.extra=[];this.extraw=0;this.decs=[];this.w=0;this.right=[];this.invisible=false;this.bottom=7;this.top=7};ABCXJS.write.AbsoluteElement.prototype.getMinWidth=function(){return this.w};ABCXJS.write.AbsoluteElement.prototype.getExtraWidth=function(){return -this.extraw};ABCXJS.write.AbsoluteElement.prototype.addExtra=function(a){if(a.dx<this.extraw){this.extraw=a.dx}this.extra[this.extra.length]=a;this.addChild(a)};ABCXJS.write.AbsoluteElement.prototype.addHead=function(a){if(a.dx<this.extraw){this.extraw=a.dx}this.heads[this.heads.length]=a;this.addRight(a)};ABCXJS.write.AbsoluteElement.prototype.addRight=function(a){if(a.dx+a.w>this.w){this.w=a.dx+a.w}this.right[this.right.length]=a;this.addChild(a)};ABCXJS.write.AbsoluteElement.prototype.addChild=function(a){a.parent=this;this.children[this.children.length]=a;this.pushTop(a.top);this.pushBottom(a.bottom)};ABCXJS.write.AbsoluteElement.prototype.pushTop=function(a){this.top=Math.max(a,this.top)};ABCXJS.write.AbsoluteElement.prototype.pushBottom=function(a){this.bottom=Math.min(a,this.bottom)};ABCXJS.write.AbsoluteElement.prototype.draw=function(d,e){if(this.invisible){return}var a=0;this.elemset={};for(var c=0;c<this.children.length;c++){if(this.children[c].type==="ledger"||this.children[c].type==="part"){this.children[c].draw(d,this.x,e)}else{a++}}if(a>0){d.beginGroup(this)}for(var c=0;c<this.children.length;c++){if(this.children[c].type!=="ledger"&&this.children[c].type!=="part"){this.children[c].draw(d,this.x,e)}}if(a>0){d.endGroup()}this.abcelem.parent=this;this.abcelem.parent.staffGroup=d.staffgroups.length};ABCXJS.write.AbsoluteElement.prototype.setMouse=function(g){var a=this;this.svgElem=document.getElementById(a.gid);if(ABCXJS.write.color.useTransparency){try{var f="http://www.w3.org/2000/svg";var d=this.svgElem.getBBox();var c=document.createElementNS(f,"rect");c.setAttributeNS(null,"x",d.x.toFixed(1)-1);c.setAttributeNS(null,"y",d.y.toFixed(1)-1);c.setAttributeNS(null,"height",d.height.toFixed(1)+2);c.setAttributeNS(null,"width",d.width.toFixed(1)+2);c.setAttributeNS(null,"fill","none");this.svgElem.appendChild(c);this.svgArea=c}catch(h){}}this.svgElem.onmouseover=function(){a.highlight(true)};this.svgElem.onmouseout=function(){a.unhighlight(true)};this.svgElem.onclick=function(){g.notifyClearNSelect(a,true)}};ABCXJS.write.AbsoluteElement.prototype.highlight=function(a){if(!this.svgElem){return}if(a){this.svgElem.prevFill=this.svgElem.style.fill}this.svgElem.style.setProperty("fill",ABCXJS.write.color.highLight);(this.svgArea)&&this.svgArea.style.setProperty("fill",ABCXJS.write.color.highLight);(this.svgArea)&&this.svgArea.style.setProperty("fill-opacity","0.15")};ABCXJS.write.AbsoluteElement.prototype.unhighlight=function(a){if(!this.svgElem){return}var c=(a&&this.svgElem.prevFill)?this.svgElem.prevFill:ABCXJS.write.color.unhighLight;this.svgElem.style.setProperty("fill",c);(this.svgArea)&&this.svgArea.style.setProperty("fill-opacity","0")};ABCXJS.write.RelativeElement=function(g,d,a,f,e){e=e||{};this.x=0;this.c=g;this.dx=d;this.w=a;this.pitch=f;this.type=e.type||"symbol";this.pitch2=e.pitch2;this.linewidth=e.linewidth;this.attributes=e.attributes;this.top=f+((e.extreme==="above")?7:0);this.bottom=f-((e.extreme==="below")?7:0)};ABCXJS.write.RelativeElement.prototype.draw=function(c,a,d){this.x=a+this.dx;switch(this.type){case"symbol":if(this.c===null){return null}this.graphelem=c.printSymbol(this.x,this.pitch,this.c);break;case"debug":this.graphelem=c.printDebugMsg(this.x,d.highest+2,this.c);break;case"fingering":this.graphelem=c.printFingering(this.x,d,this.c);break;case"lyrics":this.graphelem=c.printLyrics(this.x,d,this.c);break;case"barnumber":this.graphelem=c.printText(this.x,this.pitch,this.c,"abc_ending","middle");break;case"part":this.graphelem=c.printText(this.x,this.pitch,this.c,"abc_subtitle");break;case"text":this.graphelem=c.printText(this.x,this.pitch,this.c,"abc_text");break;case"tabText":this.graphelem=c.printTabText(this.x,this.pitch,this.c);break;case"tabText2":this.graphelem=c.printTabText2(this.x,this.pitch,this.c);break;case"tabText3":this.graphelem=c.printTabText3(this.x,this.pitch,this.c);
break;case"bar":this.graphelem=c.printBar(this.x,this.linewidth,c.calcY(this.pitch),c.calcY(this.pitch2),true);break;case"stem":this.drawStem(c);break;case"ledger":this.graphelem=c.printLedger(this.x,this.x+this.w,this.pitch);break}return this.graphelem};ABCXJS.write.RelativeElement.prototype.drawStem=function(l){var k=this.parent.beam;var c=this.parent.abcelem;if(k){if(c.rest){return}var e=this.parent.beamId;var g=k.elems[e].heads[(k.asc)?0:k.elems[e].heads.length-1];var d=(k.isgrace)?1/3:1/5;var a=g.pitch+((k.asc)?d:-d);var h=l.calcY(a);var j=g.x+((k.asc)?g.w:0);var f=k.getBarYAt(j);var m=(k.asc)?-0.6:0.6;l.printStem(j,m,h,f)}else{this.graphelem=l.printStem(this.x,0.6*this.linewidth,l.calcY(this.pitch),l.calcY(this.pitch2))}};ABCXJS.write.TieElem=function(e,c,a,d){this.anchor1=e;this.anchor2=c;this.above=a;this.force=d};ABCXJS.write.TieElem.prototype.draw=function(d,g,a,f){var e;var c;if(this.startlimitelem){g=this.startlimitelem.x+this.startlimitelem.w}if(this.endlimitelem){a=this.endlimitelem.x}if(!this.force&&this.anchor2&&this.anchor2.pitch===this.anchor2.top){this.above=true}if(this.anchor1){g=this.anchor1.x;e=this.above?this.anchor1.highestVert:this.anchor1.pitch;if(!this.anchor2){c=this.above?this.anchor1.highestVert:this.anchor1.pitch}}if(this.anchor2){a=this.anchor2.x;c=this.above?this.anchor2.highestVert:this.anchor2.pitch;if(!this.anchor1){e=this.above?this.anchor2.highestVert:this.anchor2.pitch}}d.printTieArc(g,a,e,c,this.above)};ABCXJS.write.DynamicDecoration=function(a,c){this.anchor=a;this.dec=c};ABCXJS.write.DynamicDecoration.prototype.draw=function(d,g,a,f){var e=f.lowest-1;for(var c=0;c<this.dec.length;c++){d.printSymbol(this.anchor.x+c*10,e,this.dec[c])}};ABCXJS.write.EndingElem=function(d,c,a){this.text=d;this.anchor1=c;this.anchor2=a};ABCXJS.write.EndingElem.prototype.draw=function(e,h,a,g,d,c){if(d>0||c>0){return}var f=e.calcY(g.highest+5);if(this.anchor1){h=this.anchor1.x+this.anchor1.w;e.paper.printLine(h,f,h,f+10);e.paper.text(h+3,f+9,this.text,"abc_ending","start")}if(this.anchor2){a=this.anchor2.x}e.paper.printLine(h,f,a-5,f)};ABCXJS.write.CrescendoElem=function(d,c,a){this.anchor1=d;this.anchor2=c;this.dir=a};ABCXJS.write.CrescendoElem.prototype.draw=function(c,f,a,e){var d=c.calcY(e.lowest-1);if(this.dir==="<"){c.paper.printLine(this.anchor1.x,d,this.anchor2.x,d-4);c.paper.printLine(this.anchor1.x,d,this.anchor2.x,d+4)}else{c.paper.printLine(this.anchor1.x,d-4,this.anchor2.x,d);c.paper.printLine(this.anchor1.x,d+4,this.anchor2.x,d)}};ABCXJS.write.TripletElem=function(e,d,a,c){this.anchor1=d;this.anchor2=a;this.forceUp=c==="up";this.forceDown=c==="down";this.number=e.num;this.qtd_notes=e.notes;this.avgPitch=e.avgPitch;this.minPitch=100;this.maxPitch=-100;this.asc=!((this.forceUp||this.avgPitch<=6)&&(!this.forceDown));this.multiplier=e.num===2?1.5:(e.num-1)/e.num};ABCXJS.write.TripletElem.prototype.draw=function(p,q,c,j){if(this.anchor1&&this.anchor2){var f=(this.qtd_notes?this.qtd_notes:this.number)/2;var g=this.anchor1.parent.abcelem.averagepitch-this.anchor2.parent.abcelem.averagepitch;var k=true;if(k){g=0}else{g=Math.min(g,f);g=Math.max(g,-f)}var d=Math.max(this.forceUp?this.maxPitch+9:(this.maxPitch>=10?this.maxPitch+3:13),13);var a=p.calcY(d+Math.floor(g/2));var e=p.calcY(d+Math.floor(-g/2));if(this.anchor1.parent.beam&&this.anchor1.parent.beam===this.anchor2.parent.beam){var m=this.anchor1.parent.beam;this.asc=m.asc;d=m.pos}else{var l=p.calcY(d);var q=this.anchor1.x-2;var c=this.anchor2.x+this.anchor2.w;p.paper.printLine(q,a+(true?0:-5),q,a+(true?5:0));p.paper.printLine(c,e+(true?0:-5),c,e+(true?5:0));p.paper.printBeam(q,a,(q+c)/2-5,l,(q+c)/2-5,l+1,q,a+1);p.paper.printBeam((q+c)/2+5,l,c,e,c,e+1,(q+c)/2+5,l+1)}var o=d+(m?(this.asc?2:-3.5):-1);var h=(this.anchor1.x+this.anchor2.x+this.anchor1.w+(m&&this.asc?this.anchor2.w:0)-2)/2;p.printText(h,o,this.number,"abc_ending","middle")}else{waterbug.log("Incomplete triplet")}};ABCXJS.write.BeamElem=function(a,c){this.isflat=(c);this.isgrace=(a&&a==="grace");this.forceup=(a&&a==="up");this.forcedown=(a&&a==="down");this.elems=[];this.total=0;this.dy=(this.asc)?ABCXJS.write.spacing.STEP*1.2:-ABCXJS.write.spacing.STEP*1.2;if(this.isgrace){this.dy=this.dy*0.4}this.allrests=true};ABCXJS.write.BeamElem.prototype.add=function(a){var c=a.abcelem.averagepitch;if(c===undefined){return}this.allrests=this.allrests&&a.abcelem.rest;a.beam=this;this.elems.push(a);this.total+=c;if(!this.min||a.abcelem.minpitch<this.min){this.min=a.abcelem.minpitch}if(!this.max||a.abcelem.maxpitch>this.max){this.max=a.abcelem.maxpitch}};ABCXJS.write.BeamElem.prototype.average=function(){try{return this.total/this.elems.length}catch(a){return 0}};ABCXJS.write.BeamElem.prototype.calcDir=function(){var a=this.average();this.asc=(this.forceup||this.isgrace||a<6)&&(!this.forcedown);return this.asc};ABCXJS.write.BeamElem.prototype.getBarYAt=function(a){return this.starty+(this.endy-this.starty)/(this.endx-this.startx)*(a-this.startx)};ABCXJS.write.BeamElem.prototype.draw=function(h){if(this.elems.length===0||this.allrests){return}var g=this.average();var a=(this.isgrace)?5:7;this.calcDir();var d=this.asc?5:8;this.pos=Math.round(this.asc?Math.max(g+a,this.max+d):Math.min(g-a,this.min-d));var j=this.elems.length/2;var f=this.elems[0].abcelem.averagepitch-this.elems[this.elems.length-1].abcelem.averagepitch;if(this.isflat){f=0}else{f=Math.min(f,j);f=Math.max(f,-j)}this.starty=h.calcY(this.pos+Math.floor(f/2));this.endy=h.calcY(this.pos+Math.floor(-f/2));var e=this.elems[0].heads[(this.asc)?0:this.elems[0].heads.length-1];var c=this.elems[this.elems.length-1].heads[(this.asc)?0:this.elems[this.elems.length-1].heads.length-1];this.startx=this.elems[0].x;if(this.asc){this.startx+=e.w-0.6}this.endx=this.elems[this.elems.length-1].x;if(this.asc){this.endx+=c.w}if((this.asc&&this.pos<6)||(!this.asc&&this.pos>6)){this.pos=6;this.starty=h.calcY(this.pos);this.endy=h.calcY(this.pos)}h.paper.printBeam(this.startx,this.starty,this.startx,(this.starty+this.dy),this.endx,(this.endy+this.dy),this.endx,this.endy);this.drawAuxBeams(h)};ABCXJS.write.BeamElem.prototype.drawAuxBeams=function(p){var a=[];for(var e=0,o=this.elems.length;e<o;e++){if(this.elems[e].abcelem.rest){continue}var k=this.elems[e].heads[(this.asc)?0:this.elems[e].heads.length-1];var m=this.elems[e].x+((this.asc)?k.w:0);var h=this.getBarYAt(m);var l=(this.asc)?1.5*ABCXJS.write.spacing.STEP:-1.5*ABCXJS.write.spacing.STEP;if(this.isgrace){l=l*2/3}for(var c=ABCXJS.write.getDurlog(this.elems[e].abcelem.duration);c<-3;c++){if(a[-4-c]){a[-4-c].single=false}else{a[-4-c]={x:m+((this.asc)?-0.6:0),y:h+l*(-4-c+1),durlog:c,single:true}}}for(var d=a.length-1;d>=0;d--){if(e===o-1||ABCXJS.write.getDurlog(this.elems[e+1].abcelem.duration)>(-d-4)){var g=m;var f=h+l*(d+1);if(a[d].single){g=(e===0)?m+5:m-5;f=this.getBarYAt(g)+l*(d+1)}p.paper.printBeam(a[d].x,a[d].y,g,f,g,(f+this.dy),a[d].x,(a[d].y+this.dy));a=a.slice(0,d)}}}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}
}window.ABCXJS.write.chartable={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}};ABCXJS.write.getDuration=function(a){var c=0;if(a.duration){c=a.duration}return c};ABCXJS.write.getDurlog=function(a){if(a===undefined){return 0}return Math.floor(Math.log(a)/Math.log(2))};ABCXJS.write.Layout=function(c,a){this.isBagpipes=a;this.slurs={};this.ties=[];this.slursbyvoice={};this.tiesbyvoice={};this.endingsbyvoice={};this.staffgroup={};this.tune={};this.tuneCurrLine=0;this.tuneCurrStaff=0;this.tuneCurrVoice=0;this.tripletmultiplier=1;this.printer=c;this.accordion=c.accordion;this.glyphs=c.glyphs};ABCXJS.write.Layout.prototype.getCurrentVoiceId=function(){return"s"+this.tuneCurrStaff+"v"+this.tuneCurrVoice};ABCXJS.write.Layout.prototype.pushCrossLineElems=function(){this.slursbyvoice[this.getCurrentVoiceId()]=this.slurs;this.tiesbyvoice[this.getCurrentVoiceId()]=this.ties;this.endingsbyvoice[this.getCurrentVoiceId()]=this.partstartelem};ABCXJS.write.Layout.prototype.popCrossLineElems=function(){this.slurs=this.slursbyvoice[this.getCurrentVoiceId()]||{};this.ties=this.tiesbyvoice[this.getCurrentVoiceId()]||[];this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId()]};ABCXJS.write.Layout.prototype.getElem=function(){if(this.currVoice.length<=this.pos){return null}return this.currVoice[this.pos]};ABCXJS.write.Layout.prototype.getNextElem=function(){if(this.currVoice.length<=this.pos+1){return null}return this.currVoice[this.pos+1]};ABCXJS.write.Layout.prototype.isFirstVoice=function(){return this.currVoice.firstVoice||false};ABCXJS.write.Layout.prototype.isLastVoice=function(){return this.currVoice.lastVoice||false};ABCXJS.write.Layout.prototype.layoutABCLine=function(f,c,d){this.tune=f;this.tuneCurrLine=c;this.staffgroup=new ABCXJS.write.StaffGroupElement();this.width=d;for(this.tuneCurrStaff=0;this.tuneCurrStaff<this.tune.lines[this.tuneCurrLine].staffs.length;this.tuneCurrStaff++){var a=this.tune.lines[this.tuneCurrLine].staffs[this.tuneCurrStaff];var g="";if(!a){continue}if(a.bracket){g+="bracket "+a.bracket+" "}if(a.brace){g+="brace "+a.brace+" "}for(this.tuneCurrVoice=0;this.tuneCurrVoice<a.voices.length;this.tuneCurrVoice++){this.currVoice=a.voices[this.tuneCurrVoice];this.voice=new ABCXJS.write.VoiceElement(this.tuneCurrVoice,this.tuneCurrStaff,a);if(this.tuneCurrVoice===0){this.voice.barfrom=(a.connectBarLines==="start"||a.connectBarLines==="continue");this.voice.barto=(a.connectBarLines==="continue"||a.connectBarLines==="end")}else{this.voice.duplicate=true}if(a.clef.type!=="accordionTab"){this.voice.addChild(this.printClef(a.clef));(a.key)&&this.voice.addChild(this.printKeySignature(a.key));(a.meter)&&this.voice.addChild(this.printTimeSignature(a.meter));this.printABCVoice()}else{var e=new ABCXJS.tablature.Layout(this.tuneCurrVoice,this.tuneCurrStaff,a,this.glyphs,this.tune.formatting.restsInTab);this.voice=e.printTABVoice(this.layoutJumpDecorationItem)}if(a.title&&a.title[this.tuneCurrVoice]){this.voice.header=a.title[this.tuneCurrVoice]}this.staffgroup.addVoice(this.voice)}}this.layoutStaffGroup();return this.staffgroup};ABCXJS.write.Layout.prototype.layoutJumpDecorationItem=function(c,a){switch(c.type){case"coda":return new ABCXJS.write.RelativeElement("scripts.coda",0,0,a+1);case"segno":return new ABCXJS.write.RelativeElement("scripts.segno",0,0,a+1);case"fine":return new ABCXJS.write.RelativeElement("it.Fine",-34,34,a);case"dacapo":return new ABCXJS.write.RelativeElement("it.DC",-30,30,a);case"dacoda":return new ABCXJS.write.RelativeElement("it.DaCoda",-30,30,a);case"dasegno":return new ABCXJS.write.RelativeElement("it.DaSegno",-32,32,a);case"dcalfine":return new ABCXJS.write.RelativeElement("it.DCalFine",25,-25,a);case"dcalcoda":return new ABCXJS.write.RelativeElement("it.DCalCoda",25,-25,a);case"dsalfine":return new ABCXJS.write.RelativeElement("it.DSalFine",25,-25,a);case"dsalcoda":return new ABCXJS.write.RelativeElement("it.DSalCoda",25,-25,a)}return null};ABCXJS.write.Layout.prototype.layoutStaffGroup=function(){var c=ABCXJS.write.spacing.SPACEX;for(var e=0;e<3;e++){this.staffgroup.layout(c,this.printer,false);if(this.tuneCurrLine&&this.tuneCurrLine===this.tune.lines.length-1&&this.staffgroup.w/this.width<0.66&&!this.tune.formatting.stretchlast){break}var a=this.staffgroup.spacingunits*c;var d=this.staffgroup.w-a;if(this.staffgroup.spacingunits>0){c=(this.printer.width-d)/this.staffgroup.spacingunits;if(c*this.staffgroup.minspace>50){c=50/this.staffgroup.minspace}}}};ABCXJS.write.Layout.prototype.printABCVoice=function(){this.popCrossLineElems();this.stemdir=(this.isBagpipes)?"down":this.voice.stem;if(this.partstartelem){this.partstartelem=new ABCXJS.write.EndingElem("",null,null);this.voice.addOther(this.partstartelem)}for(var a in this.slurs){if(this.slurs.hasOwnProperty(a)){this.slurs[a]=new ABCXJS.write.TieElem(null,null,this.slurs[a].above,this.slurs[a].force);this.voice.addOther(this.slurs[a])}}for(var c=0;c<this.ties.length;c++){this.ties[c]=new ABCXJS.write.TieElem(null,null,this.ties[c].above,this.ties[c].force);this.voice.addOther(this.ties[c])}for(this.pos=0;this.pos<this.currVoice.length;this.pos++){var d=this.printABCElement();for(c=0;c<d.length;c++){this.voice.addChild(d[c])}}this.pushCrossLineElems()};ABCXJS.write.Layout.prototype.printABCElement=function(){var e=[];var c=this.getElem();switch(c.el_type){case"note":e=this.printBeam();break;case"bar":e[0]=this.printBarLine(c);if(this.voice.duplicate){e[0].invisible=true}break;case"meter":e[0]=this.printTimeSignature(c);if(this.voice.duplicate){e[0].invisible=true}break;case"clef":e[0]=this.printClef(c);if(this.voice.duplicate){e[0].invisible=true}break;case"key":e[0]=this.printKeySignature(c);if(this.voice.duplicate){e[0].invisible=true}break;case"part":var a=new ABCXJS.write.AbsoluteElement(c,0,0);a.addChild(new ABCXJS.write.RelativeElement(c.title,0,0,18.5,{type:"part"}));e[0]=a;break;default:var d=new ABCXJS.write.AbsoluteElement(c,0,0);d.addChild(new ABCXJS.write.RelativeElement("element type "+c.el_type,0,0,0,{type:"debug"}));e[0]=d}return e};ABCXJS.write.Layout.prototype.printBeam=function(){var g=[];if(this.getElem().startBeam&&!this.getElem().endBeam){var h=new ABCXJS.write.BeamElem(this.stemdir);var c=this.pos;var e;while(this.getElem()){e=this.printNote(this.getElem(),true,true);h.add(e);if(this.getElem().endBeam){break}this.pos++}var a=h.calcDir();this.pos=c;h=new ABCXJS.write.BeamElem(a?"up":"down");var f=this.stemdir;this.stemdir=a?"up":"down";var d=0;while(this.getElem()){e=this.printNote(this.getElem(),true);e.beamId=d++;g.push(e);h.add(e);if(this.getElem().endBeam){break}this.pos++
}this.stemdir=f;this.voice.addOther(h)}else{g[0]=this.printNote(this.getElem())}return g};ABCXJS.write.Layout.prototype.printNote=function(O,f,V){var s=null;var a=null;this.roomtaken=0;this.roomtakenright=0;var G=0;var X="";var E=null;var t=[];var L,R,o;var d,U,T,g;var u=ABCXJS.write.getDuration(O);if(u===0){u=0.25;f=true}var A=Math.floor(Math.log(u)/Math.log(2));var Z=0;for(var h=Math.pow(2,A),S=h/2;h<u;Z++,h+=S,S/=2){}if(O.startTriplet){if(!this.stemdir){this.clearStem=true;this.stemdir=O.startTriplet.avgPitch<6?"up":"down"}this.triplet=new ABCXJS.write.TripletElem(O.startTriplet,null,null,this.stemdir);this.tripletmultiplier=this.triplet.multiplier}var j=new ABCXJS.write.AbsoluteElement(O,u*this.tripletmultiplier,1);if(O.rest){var m=7;if(this.stemdir==="down"){m=3}if(this.stemdir==="up"){m=11}switch(O.rest.type){case"rest":X=ABCXJS.write.chartable.rest[-A];O.averagepitch=m;O.minpitch=m;O.maxpitch=m;break;case"invisible":case"spacer":X=""}if(!V){s=this.printNoteHead(j,X,{verticalPos:m},null,0,-this.roomtaken,null,Z,0,1)}if(s){j.addHead(s)}this.roomtaken+=this.accidentalshiftx;this.roomtakenright=Math.max(this.roomtakenright,this.dotshiftx)}else{ABCXJS.write.sortPitch(O.pitches);var r=0;for(L=0,o=O.pitches.length;L<o;L++){r+=O.pitches[L].verticalPos;if(O.pitches[L].startTie){this.lastTie="up"}if(O.pitches[L].endTie){this.useLastTie=true}}O.averagepitch=r/O.pitches.length;O.minpitch=O.pitches[0].verticalPos;O.maxpitch=O.pitches[O.pitches.length-1].verticalPos;var Y=this.stemdir?this.stemdir:((O.averagepitch>=6)?"down":"up");if(this.useLastTie){Y=this.lastTie?this.lastTie:Y;delete this.useLastTie;delete this.lastTie}if(this.lastTie){this.lastTie=Y}for(L=(Y==="down")?O.pitches.length-2:1;(Y==="down")?L>=0:L<O.pitches.length;L=(Y==="down")?L-1:L+1){var B=O.pitches[(Y==="down")?L+1:L-1];var H=O.pitches[L];var I=(Y==="down")?B.pitch-H.pitch:H.pitch-B.pitch;if(I<=1&&!B.printer_shift){H.printer_shift=(I)?"different":"same";if(H.verticalPos>11||H.verticalPos<1){t.push(H.verticalPos-(H.verticalPos%2))}if(Y==="down"){this.roomtaken=this.glyphs.getSymbolWidth(ABCXJS.write.chartable.note[-A])+2}else{G=this.glyphs.getSymbolWidth(ABCXJS.write.chartable.note[-A])+2}}}this.accidentalSlot=[];for(L=0;L<O.pitches.length;L++){if(f||(Y==="down"&&L!==0)||(Y==="up"&&L!==o-1)){E=null}else{E=ABCXJS.write.chartable[(Y==="down")?"dflags":"uflags"][-A]}X=ABCXJS.write.chartable.note[-A];O.pitches[L].highestVert=O.pitches[L].verticalPos;var l=(this.stemdir==="up"||Y==="up")&&L===0;var M=(this.stemdir==="down"||Y==="down")&&L===o-1;if(!V&&(l||M)){if(O.startSlur||o===1){O.pitches[L].highestVert=O.pitches[o-1].verticalPos;if(this.stemdir==="up"||Y==="up"){O.pitches[L].highestVert+=6}}if(O.startSlur){if(!O.pitches[L].startSlur){O.pitches[L].startSlur=[]}for(R=0;R<O.startSlur.length;R++){O.pitches[L].startSlur.push(O.startSlur[R])}}if(!V&&O.endSlur){O.pitches[L].highestVert=O.pitches[o-1].verticalPos;if(this.stemdir==="up"||Y==="up"){O.pitches[L].highestVert+=6}if(!O.pitches[L].endSlur){O.pitches[L].endSlur=[]}for(R=0;R<O.endSlur.length;R++){O.pitches[L].endSlur.push(O.endSlur[R])}}}if(!V){s=this.printNoteHead(j,X,O.pitches[L],Y,0,-this.roomtaken,E,Z,G,1)}if(s){j.addHead(s)}this.roomtaken+=this.accidentalshiftx;this.roomtakenright=Math.max(this.roomtakenright,this.dotshiftx)}if(A<=-1){U=(Y==="down")?O.minpitch-7:O.minpitch+1/3;if(U>6&&!this.stemdir){U=6}T=(Y==="down")?O.maxpitch-1/3:O.maxpitch+7;if(T<6&&!this.stemdir){T=6}g=(Y==="down"||j.heads.length===0)?0:j.heads[0].w;d=(Y==="down")?1:-1;j.addExtra(new ABCXJS.write.RelativeElement(null,g,0,U,{type:"stem",pitch2:T,linewidth:d}))}}if(O.lyric!==undefined){var N="";var e=0;window.ABCXJS.parse.each(O.lyric,function(c){N+="\n"+c.syllable+c.divider;e=Math.max(e,(c.syllable+c.divider).length)});if(O.fingering===undefined||this.tune.formatting.hideFingering){N=N.substr(1)}j.addRight(new ABCXJS.write.RelativeElement(N,0,e*5,0,{type:"lyrics"}))}if(O.fingering!==undefined&&!this.tune.formatting.hideFingering){var N="";var e=0;window.ABCXJS.parse.each(O.fingering,function(c){N+="\n"+c.syllable+c.divider;e=Math.max(e,(c.syllable+c.divider).length*1.3)});N=N.substr(1);j.addRight(new ABCXJS.write.RelativeElement(N,0,e*5,0,{type:"fingering"}))}if(!V&&O.gracenotes!==undefined){var z=3/5;var k=null;if(O.gracenotes.length>1){k=new ABCXJS.write.BeamElem("grace",this.isBagpipes)}var W=[];for(R=O.gracenotes.length-1;R>=0;R--){this.roomtaken+=10;W[R]=this.roomtaken;if(O.gracenotes[R].accidental){this.roomtaken+=7}}for(R=0;R<O.gracenotes.length;R++){var w=O.gracenotes[R].verticalPos;E=(k)?null:"grace"+ABCXJS.write.chartable.uflags[(this.isBagpipes)?5:3];a=this.printNoteHead(j,"graceheads.quarter",O.gracenotes[R],"up",-W[R],-W[R],E,0,0,z);j.addExtra(a);if(O.gracenotes[R].acciaccatura){var C=O.gracenotes[R].verticalPos+7*z;var Q=k?5:6;j.addRight(new ABCXJS.write.RelativeElement("flags.ugrace",-W[R]+Q,0,C))}if(k){var q={heads:[a],abcelem:{averagepitch:w,minpitch:w,maxpitch:w},duration:(this.isBagpipes)?1/32:1/16};k.add(q)}else{U=w+1/3*z;T=w+7*z;g=a.dx+a.w;d=-0.6;j.addExtra(new ABCXJS.write.RelativeElement(null,g,0,U,{type:"stem",pitch2:T,linewidth:d}))}if(R===0&&!this.isBagpipes&&!(O.rest&&(O.rest.type==="spacer"||O.rest.type==="invisible"))){this.voice.addOther(new ABCXJS.write.TieElem(a,s,false,true))}}if(k){this.voice.addOther(k)}}if(!V&&O.decoration){var v=this.printDecoration(O.decoration,O.maxpitch,(s)?s.w:0,j,this.roomtaken,Y,O.minpitch);if(v){j.klass="mark"}}for(R=O.maxpitch;R>11;R--){if(R%2===0&&!O.rest){j.addChild(new ABCXJS.write.RelativeElement(null,-2,this.glyphs.getSymbolWidth(X)+4,R,{type:"ledger"}))}}for(R=O.minpitch;R<1;R++){if(R%2===0&&!O.rest){j.addChild(new ABCXJS.write.RelativeElement(null,-2,this.glyphs.getSymbolWidth(X)+4,R,{type:"ledger"}))}}for(R=0;R<t.length;R++){var F=this.glyphs.getSymbolWidth(X);if(Y==="down"){F=-F}j.addChild(new ABCXJS.write.RelativeElement(null,F-2,this.glyphs.getSymbolWidth(X)+4,t[R],{type:"ledger"}))}if(O.chord!==undefined){for(R=0;R<O.chord.length;R++){var K=0;var J=16;switch(O.chord[R].position){case"left":this.roomtaken+=7;K=-this.roomtaken;J=O.averagepitch;j.addExtra(new ABCXJS.write.RelativeElement(O.chord[R].name,K,this.glyphs.getSymbolWidth(O.chord[R].name[0])+4,J,{type:"text"}));break;case"right":this.roomtakenright+=4;K=this.roomtakenright;J=O.averagepitch;j.addRight(new ABCXJS.write.RelativeElement(O.chord[R].name,K,this.glyphs.getSymbolWidth(O.chord[R].name[0])+4,J,{type:"text"}));break;case"below":J=O.minpitch-4;if(J>-3){J=-3}var P=O.chord[R].name.split("\n");for(var D=0;D<P.length;D++){j.addChild(new ABCXJS.write.RelativeElement(P[D],K,0,J,{type:"text"}));J-=3}break;default:if(O.chord[R].rel_position){j.addChild(new ABCXJS.write.RelativeElement(O.chord[R].name,K+O.chord[R].rel_position.x,0,O.minpitch+O.chord[R].rel_position.y/ABCXJS.write.spacing.STEP,{type:"text"}))}else{j.addChild(new ABCXJS.write.RelativeElement(O.chord[R].name,K,0,J,{type:"text"}))}}}}if(!V){if(O.startTriplet){this.triplet.anchor1=s;this.voice.addOther(this.triplet)
}if(this.triplet){this.triplet.minPitch=Math.min(this.triplet.minPitch,s.parent.abcelem.minpitch);this.triplet.maxPitch=Math.max(this.triplet.maxPitch,s.parent.abcelem.maxpitch)}if(this.triplet&&O.endTriplet){this.triplet.anchor2=s;this.triplet=null;this.tripletmultiplier=1;if(this.clearStem){this.stemdir=null;delete this.clearStem}}}return j};ABCXJS.write.sortPitch=function(d){var a;do{a=true;for(var e=0;e<d.length-1;e++){if(d[e].pitch>d[e+1].pitch){a=false;var c=d[e];d[e]=d[e+1];d[e+1]=c}}}while(!a)};ABCXJS.write.Layout.prototype.printNoteHead=function(o,B,C,q,k,f,w,r,z,D){var l=C.verticalPos;var e;var x;this.accidentalshiftx=0;this.dotshiftx=0;if(B===undefined){o.addChild(new ABCXJS.write.RelativeElement("pitch is undefined",0,0,0,{type:"debug"}))}else{if(B===""){e=new ABCXJS.write.RelativeElement(null,0,0,l)}else{var p=k;if(C.printer_shift){var t=(C.printer_shift==="same")?1:0;p=(q==="down")?-this.glyphs.getSymbolWidth(B)*D+t:this.glyphs.getSymbolWidth(B)*D-t}e=new ABCXJS.write.RelativeElement(B,p,this.glyphs.getSymbolWidth(B)*D,l,{scalex:D,scaley:D,extreme:((q==="down")?"below":"above")});if(w){var h=l+((q==="down")?-7:7)*D;if(D===1&&(q==="down")?(h>6):(h<6)){h=6}var s=(q==="down")?k:k+e.w-0.6;o.addRight(new ABCXJS.write.RelativeElement(w,s,this.glyphs.getSymbolWidth(w)*D,h,{scalex:D,scaley:D}))}this.dotshiftx=e.w+z-2+5*r;for(;r>0;r--){var a=(1-Math.abs(l)%2);o.addRight(new ABCXJS.write.RelativeElement("dots.dot",e.w+z-2+5*r,this.glyphs.getSymbolWidth("dots.dot"),l+a))}}}if(e){e.highestVert=C.highestVert}if(C.accidental){var d;switch(C.accidental){case"quartersharp":d="accidentals.halfsharp";break;case"dblsharp":d="accidentals.dblsharp";break;case"sharp":d="accidentals.sharp";break;case"quarterflat":d="accidentals.halfflat";break;case"flat":d="accidentals.flat";break;case"dblflat":d="accidentals.dblflat";break;case"natural":d="accidentals.nat"}var m=false;var y=f;for(var u=0;u<this.accidentalSlot.length;u++){if(l-this.accidentalSlot[u][0]>=6){this.accidentalSlot[u][0]=l;y=this.accidentalSlot[u][1];m=true;break}}if(m===false){y-=(this.glyphs.getSymbolWidth(d)*D+2);this.accidentalSlot.push([l,y]);this.accidentalshiftx=(this.glyphs.getSymbolWidth(d)*D+2)}o.addExtra(new ABCXJS.write.RelativeElement(d,y,this.glyphs.getSymbolWidth(d),l))}if(C.endTie){if(this.ties[0]){this.ties[0].anchor2=e;this.ties=this.ties.slice(1,this.ties.length)}}if(C.startTie){var v=new ABCXJS.write.TieElem(e,null,(this.stemdir==="down"||q==="down")&&this.stemdir!=="up",(this.stemdir==="down"||this.stemdir==="up"));this.ties[this.ties.length]=v;this.voice.addOther(v)}if(C.endSlur){for(x=0;x<C.endSlur.length;x++){var A=C.endSlur[x];var g;if(this.slurs[A]){g=this.slurs[A].anchor2=e;delete this.slurs[A]}else{g=new ABCXJS.write.TieElem(null,e,q==="down",(this.stemdir==="up"||q==="down")&&this.stemdir!=="down",this.stemdir);this.voice.addOther(g)}if(this.startlimitelem){g.startlimitelem=this.startlimitelem}}}if(C.startSlur){for(x=0;x<C.startSlur.length;x++){var A=C.startSlur[x].label;var g=new ABCXJS.write.TieElem(e,null,(this.stemdir==="down"||q==="down")&&this.stemdir!=="up",false);this.slurs[A]=g;this.voice.addOther(g)}}return e};ABCXJS.write.Layout.prototype.printDecoration=function(m,l,v,p,a,t,g){var s;var x;var k;var A;var u=[];var B=(l>9)?l+3:12;var j;var q=false;var o=-6;var z;a=a||0;if(l===5){B=14}var h=false;for(z=0;z<m.length;z++){if(m[z]==="staccato"||m[z]==="tenuto"){var w="scripts."+m[z];j=(t==="down")?l+2:g-2;switch(j){case 2:case 4:case 6:case 8:case 10:if(t==="up"){j--}else{j++}break}if(l>9){B++}var d=v/2;if(this.glyphs.getSymbolAlign(w)!=="center"){d-=(this.glyphs.getSymbolWidth(s)/2)}p.addChild(new ABCXJS.write.RelativeElement(w,d,this.glyphs.getSymbolWidth(w),j))}if(m[z]==="slide"&&p.heads[0]){j=p.heads[0].pitch;var e=new ABCXJS.write.RelativeElement("",-a-15,0,j-1);var c=new ABCXJS.write.RelativeElement("",-a-5,0,j+1);p.addChild(e);p.addChild(c);this.voice.addOther(new ABCXJS.write.TieElem(e,c,false))}}for(z=0;z<m.length;z++){q=false;switch(m[z]){case"trill":s="scripts.trill";break;case"roll":s="scripts.roll";break;case"irishroll":s="scripts.roll";break;case"marcato":s="scripts.umarcato";break;case"marcato2":s="scriopts.dmarcato";break;case"turn":s="scripts.turn";break;case"uppermordent":s="scripts.prall";break;case"mordent":case"lowermordent":s="scripts.mordent";break;case"staccato":case"tenuto":case"slide":continue;case"downbow":s="scripts.downbow";break;case"upbow":s="scripts.upbow";break;case"fermata":s="scripts.ufermata";break;case"invertedfermata":q=true;s="scripts.dfermata";break;case"breath":s=",";break;case"accent":s="scripts.sforzato";break;case"umarcato":s="scripts.umarcato";break;case"/":x=["flags.ugrace",1];continue;case"//":x=["flags.ugrace",2];continue;case"///":x=["flags.ugrace",3];continue;case"////":x=["flags.ugrace",4];continue;case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var y=new ABCXJS.write.DynamicDecoration(p,m[z]);this.voice.addOther(y);continue;case"mark":h=true;continue;case"diminuendo(":ABCXJS.write.Layout.prototype.startDiminuendoX=p;k=undefined;continue;case"diminuendo)":k={start:ABCXJS.write.Layout.prototype.startDiminuendoX,stop:p};ABCXJS.write.Layout.prototype.startDiminuendoX=undefined;continue;case"crescendo(":ABCXJS.write.Layout.prototype.startCrescendoX=p;A=undefined;continue;case"crescendo)":A={start:ABCXJS.write.Layout.prototype.startCrescendoX,stop:p};ABCXJS.write.Layout.prototype.startCrescendoX=undefined;continue;default:u[u.length]=m[z];continue}if(q){j=o;o-=4}else{j=B;B+=3}var d=v/2;if(this.glyphs.getSymbolAlign(s)!=="center"){d-=(this.glyphs.getSymbolWidth(s)/2)}p.addChild(new ABCXJS.write.RelativeElement(s,d,this.glyphs.getSymbolWidth(s),j))}if(x){j=(t==="down")?l+1:l+9;d=v/2;d+=(t==="down")?-5:3;for(var f=0;f<x[1];f++){j-=1;p.addChild(new ABCXJS.write.RelativeElement(x[0],d,this.glyphs.getSymbolWidth(x[0]),j))}}if(k){var r=new ABCXJS.write.CrescendoElem(k.start,k.stop,">");this.voice.addOther(r)}if(A){var C=new ABCXJS.write.CrescendoElem(A.start,A.stop,"<");this.voice.addOther(C)}if(u.length>0){p.addChild(new ABCXJS.write.RelativeElement(u.join(","),0,0,19,{type:"text"}))}return h};ABCXJS.write.Layout.prototype.printBarLine=function(e){var f=10;var o=5;var r=new ABCXJS.write.AbsoluteElement(e,0,10);var h=null;var s=0;var c=(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat");var k=(e.type!=="bar_left_repeat"&&e.type!=="bar_thick_thin"&&e.type!=="bar_invisible");var l=(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat"||e.type==="bar_left_repeat"||e.type==="bar_thin_thick"||e.type==="bar_thick_thin");var m=(e.type==="bar_left_repeat"||e.type==="bar_thick_thin"||e.type==="bar_thin_thin"||e.type==="bar_dbl_repeat");var d=(e.type==="bar_left_repeat"||e.type==="bar_dbl_repeat");if(c||d){for(var q in this.slurs){if(this.slurs.hasOwnProperty(q)){this.slurs[q].endlimitelem=r}}this.startlimitelem=r}if(c){r.addRight(new ABCXJS.write.RelativeElement("dots.dot",s,1,o+2));r.addRight(new ABCXJS.write.RelativeElement("dots.dot",s,1,o));
s+=6}if(k){h=new ABCXJS.write.RelativeElement(null,s,1,2,{type:"bar",pitch2:f,linewidth:0.6});r.addRight(h)}if(e.type==="bar_invisible"){h=new ABCXJS.write.RelativeElement(null,s,1,2,{type:"none",pitch2:f,linewidth:0.6});r.addRight(h)}if(e.decoration){this.printDecoration(e.decoration,12,(l)?3:1,r,0,"down",2)}if(l){s+=4;h=new ABCXJS.write.RelativeElement(null,s,4,2,{type:"bar",pitch2:f,linewidth:4});r.addRight(h);s+=5}var p=false;if(e.jumpDecoration){for(var g=0;g<e.jumpDecoration.length;g++){if((e.jumpDecoration[g].upper&&this.isFirstVoice())||(!e.jumpDecoration[g].upper&&this.isLastVoice())){var a=e.jumpDecoration[g].upper?12:-3;p=(p||e.jumpDecoration[g].upper);switch(e.jumpDecoration[g].type){case"coda":case"segno":case"fine":case"dcalfine":case"dcalcoda":case"dsalfine":case"dsalcoda":r.addRight(this.layoutJumpDecorationItem(e.jumpDecoration[g],a));break;case"dacapo":case"dasegno":case"dacoda":r.addExtra(this.layoutJumpDecorationItem(e.jumpDecoration[g],a));break}}}}if(e.barNumber&&e.barNumberVisible&&!p){r.addChild(new ABCXJS.write.RelativeElement(e.barNumber,0,0,12,{type:"barnumber"}))}if(this.partstartelem&&e.endDrawEnding){this.partstartelem.anchor2=h;this.partstartelem=null}if(m){s+=3;h=new ABCXJS.write.RelativeElement(null,s,1,2,{type:"bar",pitch2:f,linewidth:0.6});r.addRight(h)}if(d){s+=3;r.addRight(new ABCXJS.write.RelativeElement("dots.dot",s,1,o+2));r.addRight(new ABCXJS.write.RelativeElement("dots.dot",s,1,o))}if(e.startEnding){this.partstartelem=new ABCXJS.write.EndingElem(e.startEnding,h,null);this.voice.addOther(this.partstartelem)}return r};ABCXJS.write.Layout.prototype.printClef=function(f){var g="clefs.G";var d=0;var e=new ABCXJS.write.AbsoluteElement(f,0,10);switch(f.type){case"treble":break;case"tenor":g="clefs.C";break;case"alto":g="clefs.C";break;case"bass":g="clefs.F";break;case"treble+8":d=1;break;case"tenor+8":g="clefs.C";d=1;break;case"bass+8":g="clefs.F";d=1;break;case"alto+8":g="clefs.C";d=1;break;case"treble-8":d=-1;break;case"tenor-8":g="clefs.C";d=-1;break;case"bass-8":g="clefs.F";d=-1;break;case"alto-8":g="clefs.C";d=-1;break;case"accordionTab":g="clefs.tab";break;case"none":g="";break;case"perc":g="clefs.perc";break;default:e.addChild(new ABCXJS.write.RelativeElement("clef="+f.type,0,0,0,{type:"debug"}))}var c=10;if(g!==""){e.addRight(new ABCXJS.write.RelativeElement(g,c,this.glyphs.getSymbolWidth(g),f.clefPos))}if(d!==0){var h=2/3;var a=(this.glyphs.getSymbolWidth(g)-this.glyphs.getSymbolWidth("8"))/2;e.addRight(new ABCXJS.write.RelativeElement("8",c+a,this.glyphs.getSymbolWidth("8"),(d>0)?16:-2))}return e};ABCXJS.write.Layout.prototype.printKeySignature=function(d){var c=new ABCXJS.write.AbsoluteElement(d,0,10);var a=0;if(d.accidentals){ABCXJS.parse.each(d.accidentals,function(f){var e=(f.acc==="sharp")?"accidentals.sharp":(f.acc==="natural")?"accidentals.nat":"accidentals.flat";c.addRight(new ABCXJS.write.RelativeElement(e,a,this.glyphs.getSymbolWidth(e),f.verticalPos));a+=this.glyphs.getSymbolWidth(e)+2},this)}this.startlimitelem=c;return c};ABCXJS.write.Layout.prototype.printTimeSignature=function(e){var d=new ABCXJS.write.AbsoluteElement(e,0,20);if(e.type==="specified"){for(var c=0;c<e.value.length;c++){if(c!==0){d.addRight(new ABCXJS.write.RelativeElement("+",c*20-9,this.glyphs.getSymbolWidth("+"),7))}var a="n."+e.value[c].num;if(e.value[c].den){var f="n."+e.value[c].den;d.addRight(new ABCXJS.write.RelativeElement(a,c*20,this.glyphs.getSymbolWidth(a)*a.length,6));d.addRight(new ABCXJS.write.RelativeElement(f,c*20,this.glyphs.getSymbolWidth(f)*f.length,2))}else{d.addRight(new ABCXJS.write.RelativeElement(a,c*20,this.glyphs.getSymbolWidth(a)*a.length,4))}}}else{if(e.type==="common_time"){d.addRight(new ABCXJS.write.RelativeElement("timesig.common",0,this.glyphs.getSymbolWidth("timesig.common"),7))}else{if(e.type==="cut_time"){d.addRight(new ABCXJS.write.RelativeElement("timesig.cut",0,this.glyphs.getSymbolWidth("timesig.cut"),7))}}}this.startlimitelem=d;return d};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}}ABCXJS.write.spacing={};ABCXJS.write.spacing.FONTEM=360;ABCXJS.write.spacing.FONTSIZE=30;ABCXJS.write.spacing.STEP=ABCXJS.write.spacing.FONTSIZE*(93)/720;ABCXJS.write.spacing.SPACEX=30;ABCXJS.write.spacing.TOPNOTE=10;ABCXJS.write.color={};ABCXJS.write.color.highLight="#5151ff";ABCXJS.write.color.highLight="#ff0000";ABCXJS.write.color.unhighLight="black";ABCXJS.write.color.useTransparency=true;ABCXJS.write.Printer=function(c,a){a=a||{};this.y=0;this.pageNumber=1;this.estimatedPageLength=0;this.paper=c;this.glyphs=new ABCXJS.write.Glyphs();this.listeners=[];this.selected=[];this.scale=a.scale||1;this.paddingtop=a.paddingtop||15;this.paddingbottom=a.paddingbottom||15;this.paddingleft=a.paddingleft||15;this.paddingright=a.paddingright||30;this.editable=a.editable||false;this.staffgroups=[]};ABCXJS.write.Printer.prototype.printABC=function(a,c){if(a[0]===undefined){a=[a]}this.y=0;this.totalY=0;for(var d=0;d<a.length;d++){this.printTune(a[d],c)}};ABCXJS.write.Printer.prototype.printTune=function(e,f){if(e.lines.length===0){return}this.currentTune=e;f=f||{};f.color=f.color||"black";f.backgroundColor=f.backgroundColor||"none";ABCXJS.write.color.unhighLight=f.color;var d="\n   .abc_link { font-weight: normal;  text-decoration: none; }\n   .abc_link:hover { stroke: blue;  font-weight: normal;  text-decoration: none; }\n   .abc_title {\n        font-size: 18px;\n        font-weight: bold;\n        font-family: Merienda, serif;\n    }\n    \n    .abc_subtitle {\n        font-size: 16px;\n        font-family: Merienda, serif;\n        font-style: italic;\n    }\n    \n    .abc_author {\n        font-size: 14px;\n        font-family: Merienda, serif;\n        font-style: italic;\n        font-weight: bold;\n    }\n    \n    .abc_rhythm {\n        font-size: 12px;\n        font-family: Merienda, serif;\n        font-style: italic;\n    }\n    \n    .abc_voice_header {\n        font-size: 12px;\n        font-family: Merienda, serif;\n        font-style: italic;\n        font-weight: bold;\n    }\n    \n    .abc_tempo {\n        font-size: 12px;\n        font-family: Merienda, serif;\n        font-weight: bold;\n    }\n    \n    .abc_text {\n        font-size: 12px;\n        font-family: arial, serif;\n    }\n    \n    .abc_lyrics {\n        font-size: 13px;\n        font-family: Merienda, serif;\n        font-weight: normal;\n    }\n    \n    .abc_ending {\n        font-size: 10px;\n        font-family: Merienda, serif;\n    }\n    \n    .abc_tabtext\n    ,.abc_tabtext2\n    ,.abc_tabtext3 {\n        font-family: arial;\n        font-weight: bold;\n        text-anchor:middle;\n        font-size: 14px;\n    }\n    .abc_tabtext2 {\n        font-size: 12px;\n    }\n    \n    .abc_tabtext3 {\n        font-size: 10px;\n    }";var g="Partitura "+e.metaText.title+" criada por ABCXJS.";if(e.midi){e.midi.printer=this}this.pageratio=e.formatting.pageratio;this.pagenumbering=e.formatting.pagenumbering;this.staffsep=e.formatting.staffsep||ABCXJS.write.spacing.STEP*8;
this.paddingtop=e.formatting.landscape?15:15;this.scale=e.formatting.scale?e.formatting.scale:this.scale;this.width=Math.min(e.formatting.staffwidth,e.formatting.usablewidth)-this.paddingright;this.maxwidth=this.width;this.y=this.paddingtop;this.totalY=0;this.layouter=new ABCXJS.write.Layout(this,e.formatting.bagpipes);this.calcPageLength();this.paper.initDoc("tune",g,d,f);this.paper.initPage(this.scale);if(e.metaText.title){this.paper.text(this.width/2,this.y+5,e.metaText.title,"abc_title","middle");this.y+=20}if(e.lines[0].staffs[0].subtitle){this.printSubtitleLine(e.lines[0].staffs[0].subtitle)}var C="";if(e.metaText.composer){C+=e.metaText.composer}if(e.metaText.origin){C+=" ("+e.metaText.origin+")"}if(e.metaText.author){C+=(C.length>0?"\n":"")+e.metaText.author}if(C.length>0){var A=C.split("\n").length;var q=(A>1?(A>2?0:5):30);this.paper.text(this.width,q,C,"abc_author","end")}var o;if(e.metaText.tempo&&!e.metaText.tempo.suppress){o=this.printTempo(this.paddingleft*2,e.metaText.tempo)}if(e.metaText.rhythm){this.paper.text(o||this.paddingleft*3+5,this.y,e.metaText.rhythm,"abc_rhythm","start")}this.y+=20;for(var p=0;p<e.lines.length;p++){var h=e.lines[p];if(h.newpage){this.skipPage();continue}if(h.staffs){var t=this.layouter.layoutABCLine(e,p,this.width);t.draw(this,p);this.staffgroups.push(t);this.maxwidth=Math.max(t.w,this.maxwidth);this.calcPageLength()}}var z="",y="",x=0,m=0,k=0;if(e.metaText.unalignedWords){for(var D=0;D<e.metaText.unalignedWords.length;D++){if(typeof e.metaText.unalignedWords[D]==="string"){z+=e.metaText.unalignedWords[D]+"\n";m++}}}if(e.metaText.book){k++;y+="Livro: "+e.metaText.book+"\n"}if(e.metaText.source){k++;y+="Fonte: "+e.metaText.source+"\n"}if(e.metaText.discography){k++;y+="Discografia: "+e.metaText.discography+"\n"}if(e.metaText.notes){k++;y+=e.metaText.notes+"\n"}if(e.metaText.transcription){k++;y+="Transcrito por "+e.metaText.transcription+"\n"}if(e.metaText.history){k++;y+="Histórico: "+e.metaText.history+"\n"}if(m>0){x=ABCXJS.write.spacing.STEP*3+m*1.5*16;if((this.pageNumber-((this.y+x)/this.estimatedPageLength))<0){this.skipPage()}else{this.y+=ABCXJS.write.spacing.STEP*3}this.printExtraText(z,this.paddingleft+50);this.y+=x}if(k>0){x=ABCXJS.write.spacing.STEP*3+k*1.5*16;if((this.pageNumber-((this.y+x)/this.estimatedPageLength))<0){this.skipPage()}else{this.y+=ABCXJS.write.spacing.STEP*3}this.printExtraText(y,this.paddingleft);this.y+=x}this.skipPage(true);this.paper.endDoc(e);this.formatPage();var c=e.lines;for(var B=0;B<c.length;B++){for(var u=0;c[B].staffs&&u<c[B].staffs.length;u++){for(var r=0;r<c[B].staffs[u].voices.length;r++){for(var E=0;E<c[B].staffs[u].voices[r].length;E++){var w=c[B].staffs[u].voices[r][E].parent;if(!w||!w.gid){continue}w.setMouse(this)}}}}this.paper.topDiv.style.width=""+(this.maxwidth+this.paddingright)+"px"};ABCXJS.write.Printer.prototype.printTempo=function(q,k){this.y-=5;var p=5;this.paper.beginGroup();if(k.preString){this.paper.text(q,this.calcY(p-0.8),k.preString,"abc_tempo","start");q+=k.preString.length*5+5}if(k.duration){var r=0.9;var g=k.duration[0];var s=new ABCXJS.write.AbsoluteElement(k,g,1);var e=ABCXJS.write.getDurlog(g);var a=0;for(var l=Math.pow(2,e),f=l/2;l<g;a++,l+=f,f/=2){}var o=ABCXJS.write.chartable.note[-e];var m=ABCXJS.write.chartable.uflags[-e];var j=this.layouter.printNoteHead(s,o,{verticalPos:p},"up",0,0,m,a,0,r);s.addHead(j);if(g<1){var t=9.5;var d=-0.6;s.addExtra(new ABCXJS.write.RelativeElement(null,t,0,p,{type:"stem",pitch2:p+6,linewidth:d}))}s.x=q+4;s.draw(this,null);q+=(s.w+t);var h="= "+k.bpm;this.paper.text(q,this.calcY(p-0.8),h,"abc_tempo","start");q+=h.length*5+5}if(k.postString){this.paper.text(q,this.calcY(p-0.8),k.postString,"abc_tempo","start")}this.paper.endGroup();this.y+=5;return s.x+s.w+4};ABCXJS.write.Printer.prototype.printSymbol=function(a,f,c){if(!c){return null}try{this.paper.printSymbol(a,this.calcY(f+this.glyphs.getYCorr(c)),c)}catch(d){this.paper.text(a,this.calcY(f+this.glyphs.getYCorr(c)),d)}};ABCXJS.write.Printer.prototype.printTieArc=function(e,d,c,h,a){e=e+6;d=d+4;c=c+((a)?1.5:-1.5);h=h+((a)?1.5:-1.5);var g=this.calcY(c);var f=this.calcY(h);this.paper.printTieArc(e,g,d,f,a)};ABCXJS.write.Printer.prototype.printStave=function(c,e,a){if(a.numLines===4){this.printLedger(c+1,e-1,19.5);this.paper.printStaveLine(c,e,this.calcY(15)-0.5);this.paper.printStaveLine(c,e,this.calcY(15));this.printLedger(c+1,e-1,7.5);this.paper.printStaveLine(c,e,this.calcY(0))}else{for(var d=0;d<a.numLines;d++){this.paper.printStaveLine(c,e,this.calcY((d+1)*2))}}};ABCXJS.write.Printer.prototype.printDebugLine=function(c,a,e,d){this.paper.printStaveLine(c,a,e,d)};ABCXJS.write.Printer.prototype.printLedger=function(c,a,d){this.paper.printLedger(c-1,this.calcY(d),a+1,this.calcY(d))};ABCXJS.write.Printer.prototype.printText=function(a,f,e,c,d){d=d||"start";c=c||"abc_text";this.paper.text(a,this.calcY(f),e,c,d)};ABCXJS.write.Printer.prototype.printTabText=function(c,e,d,a){a=a||"abc_tabtext";this.paper.tabText(c,this.calcY(e)+5,d,a,"middle")};ABCXJS.write.Printer.prototype.printTabText2=function(a,d,c){return this.printTabText(a,d,c,"abc_tabtext2")};ABCXJS.write.Printer.prototype.printTabText3=function(a,d,c){return this.printTabText(a,d,c,"abc_tabtext3")};ABCXJS.write.Printer.prototype.printBar=function(a,c,e,d,f){this.paper.printBar(a,c,e,d,f)};ABCXJS.write.Printer.prototype.printStem=function(a,c,e,d){this.paper.printStem(a,c,e,d)};ABCXJS.write.Printer.prototype.printDebugMsg=function(a,d,c){return this.paper.text(a,d,c,"abc_ending","start")};ABCXJS.write.Printer.prototype.printLyrics=function(a,f,d){var e=this.calcY(f.lowest-(f.lyricsRows>1?0:3.7));var c=d.indexOf("\n ");if(c>=0){d=d.substr(0,c)+"\n..."}this.paper.text(a,e,d,"abc_lyrics","start")};ABCXJS.write.Printer.prototype.printFingering=function(a,g,d){var f=this.calcY(g.lowest);try{this.paper.printSymbol(a-3,f,"cn."+d.trim())}catch(c){this.paper.text(a,f+12,d.trim(),"abc_lyrics","start")}};ABCXJS.write.Printer.prototype.addSelectListener=function(a){this.listeners[this.listeners.length]=a};ABCXJS.write.Printer.prototype.notifySelect=function(d,a){this.selected[this.selected.length]=d;d.highlight(a);for(var c=0;c<this.listeners.length;c++){this.listeners[c].highlight&&this.listeners[c].highlight(d.abcelem)}};ABCXJS.write.Printer.prototype.notifyClear=function(c){c.unhighlight();for(var a=0;a<this.listeners.length;a++){this.listeners[a].unhighlight&&this.listeners[a].unhighlight(c.abcelem)}};ABCXJS.write.Printer.prototype.notifyClearNSelect=function(c,a){this.clearSelection();this.notifySelect(c,a)};ABCXJS.write.Printer.prototype.clearSelection=function(){for(var a=0;a<this.selected.length;a++){this.notifyClear(this.selected[a])}this.selected=[]};ABCXJS.write.Printer.prototype.rangeHighlight=function(c){this.clearSelection();if(c.length===1&&c[0].start.row===c[0].end.row&&c[0].start.column===c[0].end.column){return}for(var o=0;o<this.staffgroups.length;o++){var g=this.staffgroups[o].voices;for(var j=0;j<g.length;j++){var a=g[j].children;
for(var d=0;d<a.length;d++){if(!a[d].abcelem.position){continue}var l=a[d].abcelem.position.anchor.line;var k=a[d].abcelem.position.anchor.ch;var f=a[d].abcelem.position.head.ch;for(var m=0;m<c.length;m++){try{if(l>=c[m].start.row&&l<=c[m].end.row){if((l===c[m].start.row&&f<c[m].start.column)||(l===c[m].end.row&&k>c[m].end.column)){continue}else{this.selected.push(a[d]);a[d].highlight();break}}}catch(h){}}}}}return this.selected};ABCXJS.write.Printer.prototype.beginGroup=function(a){a.gid=this.paper.beginGroup(a.abcelem.el_type)};ABCXJS.write.Printer.prototype.endGroup=function(){this.paper.endGroup();return};ABCXJS.write.Printer.prototype.calcY=function(a){return this.y+((ABCXJS.write.spacing.TOPNOTE-a)*ABCXJS.write.spacing.STEP)};ABCXJS.write.Printer.prototype.calcPageLength=function(){if(this.currentTune.formatting.papersize==="screen"){this.estimatedPageLength=1000000}else{this.estimatedPageLength=((this.maxwidth+this.paddingright)*this.pageratio-this.paddingbottom)/this.scale}};ABCXJS.write.Printer.prototype.printPageNumber=function(){this.y=this.estimatedPageLength;if(this.pagenumbering){this.paper.text(this.maxwidth+this.paddingright,this.y,"- "+this.pageNumber+" -","abc_tempo","end")}};ABCXJS.write.Printer.prototype.skipPage=function(a){if(!a||this.pageNumber>1){this.printPageNumber()}this.totalY+=this.y;this.paper.endPage({w:(this.maxwidth+this.paddingright),h:this.y});if(!a){this.y=this.paddingtop;this.pageNumber++;this.paper.initPage(this.scale)}};ABCXJS.write.Printer.prototype.formatPage=function(){var a=this.currentTune.formatting.landscape?"landscape":"portrait";var d=document.getElementById("page_format");var c="   @page {\n        margin: "+this.currentTune.formatting.defaultMargin+"; size: "+this.currentTune.formatting.papersize+" "+a+";\n    }\n";if(!d){d=document.createElement("style");d.setAttribute("id","page_format");document.head.appendChild(d)}d.innerHTML=c};ABCXJS.write.Printer.prototype.printExtraText=function(e,c){var d=this.paper.text(c,this.y,e,"abc_title","start");var a;if(!a){a=25}return a};ABCXJS.write.Printer.prototype.printSubtitleLine=function(a){this.paper.text(this.width/2,this.y+2,a,"abc_subtitle","middle")};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.write){window.ABCXJS.write={}}ABCXJS.write.sprintf=function(){var h=0,g,j=arguments[h++],l=[],e,k,q,d;while(j){if(e=/^[^\x25]+/.exec(j)){l.push(e[0])}else{if(e=/^\x25{2}/.exec(j)){l.push("%")}else{if(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(j)){if(((g=arguments[e[1]||h++])==null)||(g==undefined)){throw ("Too few arguments.")}if(/[^s]/.test(e[7])&&(typeof(g)!="number")){throw ("Expecting number but found "+typeof(g))}switch(e[7]){case"b":g=g.toString(2);break;case"c":g=String.fromCharCode(g);break;case"d":g=parseInt(g);break;case"e":g=e[6]?g.toExponential(e[6]):g.toExponential();break;case"f":g=e[6]?parseFloat(g).toFixed(e[6]):parseFloat(g);break;case"o":g=g.toString(8);break;case"s":g=((g=String(g))&&e[6]?g.substring(0,e[6]):g);break;case"u":g=Math.abs(g);break;case"x":g=g.toString(16);break;case"X":g=g.toString(16).toUpperCase();break}g=(/[def]/.test(e[7])&&e[2]&&g>0?"+"+g:g);q=e[3]?e[3]=="0"?"0":e[3].charAt(1):" ";d=e[5]-String(g).length;k=e[5]?str_repeat(q,d):"";l.push(e[4]?g+k:k+g)}else{throw ("Huh ?!")}}}j=j.substring(e[0].length)}return l.join("")};if(!window.SVG){window.SVG={}}if(!window.SVG.misc){window.SVG.misc={printerId:0}}if(!window.SVG.Printer){window.SVG.Printer={}}SVG.Printer=function(a){this.topDiv=a;this.scale=1;this.gid=0;this.printerId=++SVG.misc.printerId;this.title;this.styles="";this.defines="";this.defined_glyph=[];this.svg_pages=[];this.currentPage=0;this.glyphs=new SVG.Glyphs();this.initDoc();this.svgHead=function(k,e,f){var c=f?f.w*this.scale+"px":"0";var g=f?f.h*this.scale+"px":"0";var j=f?"":"display: none; ";return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="'+j+"width:"+c+"; height: "+g+';" >\n'}};SVG.Printer.prototype.initDoc=function(c,e,d,a){a=a||{};this.docId=c||"dcto";this.title=e||"";this.backgroundColor=a.backgroundColor||"none";this.color=a.color||"black";this.baseColor=a.baseColor||"black";this.scale=1;this.defines="";this.defined_glyph=[];this.svg_pages=[];this.currentPage=-1;this.gid=0;this.styles='<style type="text/css">\n    @media print {\n        div.nobrk {page-break-inside: avoid}\n        div.newpage {page-break-before: always}\n    }\n'+(d||"")+"\n</style>\n"};SVG.Printer.prototype.endDoc=function(){var a='<div style="display:block; margin:0; padding: 0; width: fit-content; background-color:'+this.backgroundColor+'; ">\n'+this.svgHead(this.docId);a+="<title>"+this.title+"</title>\n";a+=this.styles;if(this.defines.length>0){a+="<defs>"+this.defines+"</defs>\n"}a+="</svg>\n";for(var c=0;c<=this.currentPage;c++){a+='<div class="'+(c>0?"newpage":"nobrk")+'">'+this.svg_pages[c]+"</div>\n"}a+="</div>";this.topDiv.innerHTML=a};SVG.Printer.prototype.initPage=function(a){this.scale=a||this.scale;this.currentPage++;this.svg_pages[this.currentPage]="";var c="g"+this.docId+(this.currentPage+1);if(this.scale!==1){this.svg_pages[this.currentPage]+='<g id="'+c+'" transform="scale( '+this.scale+')">'}};SVG.Printer.prototype.endPage=function(a){if(this.scale&&this.scale!==1){this.svg_pages[this.currentPage]+="</g>"}var c=this.docId+(this.currentPage+1);this.svg_pages[this.currentPage]=this.svgHead(c,this.currentPage<1?"nobrk":"newpage",a)+this.svg_pages[this.currentPage]+"</svg>\n"};SVG.Printer.prototype.beginGroup=function(c){var d="p"+this.printerId+"g"+(++this.gid);var a=' style="fill:'+this.color+'; stroke:none;" ';this.svg_pages[this.currentPage]+='<g id="'+d+'"'+a+">\n";return d};SVG.Printer.prototype.endGroup=function(){this.svg_pages[this.currentPage]+="</g>\n"};SVG.Printer.prototype.setDefine=function(a){var c=this.glyphs.getDefinition(a);if(c.length===0){return false}if(!this.defined_glyph[a]){this.defines+=c;this.defined_glyph[a]=true}return true};SVG.Printer.prototype.printLine=function(a,f,e,c){if(a===e){e=ABCXJS.misc.isIE()?1:0.6;c-=f}if(f===c){c=ABCXJS.misc.isIE()?1:0.6;e-=a}var d=ABCXJS.write.sprintf('<rect style="fill:'+this.color+';"  x="%.1f" y="%.1f" width="%.1f" height="%.1f"/>\n',a,f,e,c);this.svg_pages[this.currentPage]+=d};SVG.Printer.prototype.printLedger=function(a,f,e,c){var d=ABCXJS.write.sprintf('<path style="stroke:'+this.baseColor+'; fill: white; stroke-width:0.6; stroke-dasharray: 1 1;" d="M %.1f %.1f h%.1f"/>\n',a,f,e-a);this.svg_pages[this.currentPage]+=d};SVG.Printer.prototype.printBeam=function(g,j,e,h,c,f,a,d){this.svg_pages[this.currentPage]+=ABCXJS.write.sprintf('<path style="stroke:none; fill:'+this.color+';" d="M %.1f %.1f L %.1f %.1f L %.1f %.1f Z L %.1f %.1f L %.1f %.1f Z" />\n',g,j,e,h,c,f,c,f,a,d)};SVG.Printer.prototype.printStaveLine=function(g,f,h,e){var d=e?e:this.baseColor;var a=0.6;var c=ABCXJS.write.sprintf('<rect style="stroke:none; fill: %s;" x="%.1f" y="%.1f" width="%.1f" height="%.1f"/>\n',d,g,h,Math.abs(f-g),a);
this.svg_pages[this.currentPage]+=c};SVG.Printer.prototype.printBar=function(h,k,g,e,f){var a=h+k;var d=f?"":'style="stroke:none; fill:'+this.baseColor+'"';if(ABCXJS.misc.isIE()&&k<1){k=1}var j=Math.abs(e-g);k=Math.abs(k);var c=ABCXJS.write.sprintf("<rect "+d+' x="%.1f" y="%.1f" width="%.1f" height="%.1f"/>\n',Math.min(h,a),Math.min(g,e),k,j);this.svg_pages[this.currentPage]+=c};SVG.Printer.prototype.printStem=function(a,f,h,g){var e=a+f;if(ABCXJS.misc.isIE()&&f<1){f=1}var c=Math.abs(g-h);f=Math.abs(f);var d=ABCXJS.write.sprintf('<rect x="%.1f" y="%.1f" width="%.1f" height="%.1f"/>\n',Math.min(a,e),Math.min(h,g),f,c);this.svg_pages[this.currentPage]+=d};SVG.Printer.prototype.printTieArc=function(r,d,q,c,h){var k=q-r;var j=c-d;var g=Math.sqrt(k*k+j*j);var f=k/g;var e=j/g;var u=g/3.5;var l=(h?-1:1)*Math.min(25,Math.max(4,u));var p=r+u*f-l*e;var t=d+u*e+l*f;var m=q-u*f-l*e;var s=c-u*e+l*f;var a=2;var o=ABCXJS.write.sprintf('<path style="fill:'+this.color+'; stroke-width:0.6px; stroke:none;" d="M %.1f %.1f C %.1f %.1f %.1f %.1f %.1f %.1f C %.1f %.1f %.1f %.1f %.1f %.1f z"/>\n',r,d,p,t,m,s,q,c,m-a*e,s+a*f,p-a*e,t+a*f,r,d);this.svg_pages[this.currentPage]+=o};SVG.Printer.prototype.printBrace=function(a,e,d){var f=Math.abs(e-d);var g=f/1027;this.setDefine("scripts.lbrace");var c=ABCXJS.write.sprintf('<use style="fill:'+this.baseColor+'" x="0" y="0" xlink:href="#scripts.lbrace" transform="translate(%.1f %.1f) scale(0.13 %.5f)" />\n',a,d,g);this.svg_pages[this.currentPage]+=c};SVG.Printer.prototype.printSymbol=function(a,e,d){if(this.setDefine(d)){var c=ABCXJS.write.sprintf('<use x="%.1f" y="%.1f" xlink:href="#%s" />\n',a,e,d);this.svg_pages[this.currentPage]+=c}else{throw"Undefined: "+d}};SVG.Printer.prototype.tabText=function(c,f,e,d,a){if(e==="scripts.rarrow"){this.printSymbol(c,f,e);return}e=""+e;if(e.length===0){return}a=a||"start";c=c.toFixed(2);f=f.toFixed(2);this.svg_pages[this.currentPage]+='<text class="'+d+'" x="'+c+'" y="'+f+'" >'+e+"</text>\n"};SVG.Printer.prototype.text=function(c,j,h,d,a){var g;var f=d==="abc_lyrics"?"":'style="stroke:none; fill: '+this.color+';"';h=""+h;if(h.length===0){return}g=h.split("\n");a=a||"start";c=c.toFixed(2);j=j.toFixed(2);this.svg_pages[this.currentPage]+='<g class="'+d+'" '+f+' transform="translate('+c+" "+j+')">\n';if(g.length<2){this.svg_pages[this.currentPage]+='<text text-anchor="'+a+'" x="0" y="0" >'+g[0]+"</text>\n"}else{this.svg_pages[this.currentPage]+='<text text-anchor="'+a+'" x="0" y="0">\n';for(var e=0;e<g.length;e++){this.svg_pages[this.currentPage]+='<tspan x="0" dy="1.2em" >'+(g[e].length===0?"&nbsp;":g[e])+"</tspan>\n"}this.svg_pages[this.currentPage]+="</text>\n"}this.svg_pages[this.currentPage]+="</g>\n"};SVG.Printer.prototype.printButton=function(j,a,h,d){var g=d.radius/26;var f="p"+this.printerId+j;var e="stroke:"+d.borderColor+"; stroke-width:"+d.borderWidth+"px; fill: none;";var c=ABCXJS.write.sprintf('<g id="%s" transform="translate(%.1f %.1f) scale(%.5f)">\n        <circle cx="28" cy="28" r="26" style="stroke:none; fill: %s;" ></circle>\n        <path id="%s_ac" style="stroke: none; fill: %s;" d="M 2 34 a26 26 0 0 1 52 -12"></path>\n        <path id="%s_ao" style="stroke: none; fill: %s;" d="M 54 22 a26 26 0 0 1 -52 12"></path>\n        <circle style="'+e+'" cx="28" cy="28" r="26"></circle>\n        <path style="'+e+'" d="m 2 34 l 52 -12" ></path>\n        <text id="%s_tc" class="%s" style="stroke:none; fill: black;" x="27" y="22" >...</text>\n        <text id="%s_to" class="%s" style="stroke:none; fill: black;" x="27" y="44" >...</text>\n</g>\n',f,a,h,g,d.fillColor,f,d.closeColor,f,d.openColor,f,d.kls,f,d.kls);this.svg_pages[this.currentPage]+=c;return f};if(!window.SVG){window.SVG={}}if(!window.SVG.Glyphs){window.SVG.Glyphs={}}SVG.Glyphs=function(){var d=new ABCXJS.write.Glyphs();var a="0.06";var c={"cn.1":'<path id="cn.1" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M150.026,80.39h-22.84c-6.91,0-10.933,7.044-10.933,13.158c0,5.936,3.209,13.158,10.933,13.158 h7.259v85.36c0,8.734,6.257,13.605,13.176,13.605s13.185-4.881,13.185-13.605V92.771C160.798,85.789,156.945,80.39,150.026,80.39z"/>',"cn.2":'<path id="cn.2" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.022,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M173.232,180.205h-32.038 c15.661-18.459,40.852-39.753,40.852-63.736c0-21.91-16.564-35.882-39.216-35.882c-22.661,0-43.847,17.977-43.847,39.717 c0,6.731,4.604,12.586,13.445,12.586c17.691,0,8.108-28.498,29.294-28.498c7.554,0,13.266,6.204,13.266,13.284 c0,6.204-3.138,11.558-6.454,16.046c-13.999,18.969-30.581,34.496-45.867,51.579c-1.841,2.065-4.246,5.176-4.246,8.796 c0,7.938,6.266,11.38,14.365,11.38h61.528c6.999,0,13.266-4.568,13.266-12.497C187.58,185.05,181.331,180.205,173.232,180.205z"/>',"cn.23":'<path id="cn.23" transform="scale('+a+')" \nd="M 244.597 167.084 C 244.597 187.457 226.665 204.611 203.513 204.611 C 179.386 204.611 164.386 186.107 164.386 172.689 C 164.386 166.065 171.064 161.309 176.937 161.309 C 188.022 161.309 185.411 181.181 203.835 181.181 C 212.31 181.181 219.166 174.387 219.166 165.385 C 219.166 141.616 191.446 159.101 191.446 139.068 C 191.446 121.235 214.598 133.294 214.598 114.441 C 214.598 107.995 210.2 103.07 202.861 103.07 C 187.378 103.07 189.497 119.706 178.412 119.706 C 171.725 119.706 167.81 113.43 167.81 107.146 C 167.81 93.907 185.259 79.631 203.352 79.631 C 226.827 79.631 238.081 97.474 238.081 110.713 C 238.081 121.413 233.683 130.754 224.717 136.69 C 236.445 142.303 244.598 153.674 244.597 167.084 M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 154.528 189.927 C 154.528 197.856 148.261 202.424 141.262 202.424 L 79.734 202.424 C 71.635 202.424 65.369 198.982 65.369 191.044 C 65.369 187.424 67.774 184.313 69.615 182.248 C 84.901 165.165 101.483 149.638 115.482 130.669 C 118.798 126.181 121.936 120.827 121.936 114.623 C 121.936 107.543 116.224 101.339 108.67 101.339 C 87.484 101.339 97.067 129.837 79.376 129.837 C 70.535 129.837 65.931 123.982 65.931 117.251 C 65.931 95.511 87.117 77.534 109.778 77.534 C 132.43 77.534 148.994 91.506 148.994 113.416 C 148.994 137.399 123.803 158.693 108.142 177.152 L 140.18 177.152 C 148.279 177.152 154.528 181.997 154.528 189.927 Z"/>',"cn.234":'<path id="cn.234" transform="scale('+a+')" \nd="M 259.702 172.031 C 259.702 192.404 241.77 209.558 218.618 209.558 C 194.491 209.558 179.491 191.054 179.491 177.636 C 179.491 171.012 186.169 166.256 192.042 166.256 C 203.127 166.256 200.516 186.128 218.94 186.128 C 227.415 186.128 234.271 179.334 234.271 170.332 C 234.271 146.563 206.551 164.048 206.551 144.015 C 206.551 126.182 229.703 138.241 229.703 119.388 C 229.703 112.942 225.305 108.017 217.966 108.017 C 202.483 108.017 204.602 124.653 193.517 124.653 C 186.83 124.653 182.915 118.377 182.915 112.093 C 182.915 98.854 200.364 84.578 218.457 84.578 C 241.932 84.578 253.186 102.421 253.186 115.66 C 253.186 126.36 248.788 135.701 239.822 141.637 C 251.55 147.25 259.703 158.621 259.702 172.031 M 168.58 194.874 C 168.58 202.803 162.313 207.371 155.314 207.371 L 93.786 207.371 C 85.687 207.371 79.421 203.929 79.421 195.991 C 79.421 192.371 81.826 189.26 83.667 187.195 C 98.953 170.112 115.535 154.585 129.534 135.616 C 132.85 131.128 135.988 125.774 135.988 119.57 C 135.988 112.49 130.276 106.286 122.722 106.286 C 101.536 106.286 111.119 134.784 93.428 134.784 C 84.587 134.784 79.983 128.929 79.983 122.198 C 79.983 100.458 101.169 82.481 123.83 82.481 C 146.482 82.481 163.046 96.453 163.046 118.363 C 163.046 142.346 137.855 163.64 122.194 182.099 L 154.232 182.099 C 162.331 182.099 168.58 186.944 168.58 194.874 M 143.027 288.948 C 64.04 288.948 0 224.917 0 145.921 C 0 66.934 64.04 2.894 143.027 2.894 C 169.792 2.894 194.84 10.246 216.261 23.04 C 238.668 8.467 265.412 0 294.132 0 C 373.119 0 437.159 64.04 437.159 143.027 C 437.159 222.023 373.119 286.054 294.132 286.054 C 267.369 286.054 242.322 278.703 220.9 265.909 C 198.492 280.482 171.748 288.948 143.027 288.948 Z M 216.017 55.488 C 196.068 39.366 170.675 29.712 143.027 29.712 C 78.844 29.712 26.818 81.738 26.818 145.921 C 26.818 210.104 78.844 262.13 143.027 262.13 C 171.975 262.13 198.449 251.547 218.793 234.039 C 219.116 234.43 219.441 234.82 219.768 235.208 C 220.231 234.629 220.689 234.047 221.143 233.462 C 241.093 249.582 266.484 259.236 294.132 259.236 C 358.315 259.236 410.341 207.21 410.341 143.027 C 410.341 78.844 358.315 26.818 294.132 26.818 C 265.184 26.818 238.71 37.401 218.366 54.909 C 218.043 54.518 217.719 54.129 217.392 53.742 C 216.929 54.321 216.471 54.902 216.017 55.488 M 354.44 159.87 L 349.398 159.87 L 349.398 107.263 C 349.398 91.673 341.004 85.326 330.465 85.326 C 321.016 85.326 315.93 88.419 311.934 95.266 L 271.234 164.831 C 270.143 166.538 268.686 168.603 268.686 172.376 C 268.686 176.828 272.503 182.486 281.406 182.486 L 325.199 182.486 L 325.199 197.048 C 325.199 206.139 327.049 210.412 336.319 210.412 C 345.589 210.412 349.397 206.13 349.397 197.048 L 349.397 182.486 L 354.439 182.486 C 361.528 182.486 367.159 178.034 367.159 171.169 C 367.16 164.321 361.529 159.87 354.44 159.87 Z M 325.754 159.87 L 300.858 159.87 L 325.387 112.054 L 325.754 112.054 L 325.754 159.87 Z"/>',"cn.2345":'<path id="cn.2345" transform="scale('+a+')" \nd="M 208.702 167.302 C 208.702 187.675 190.77 204.829 167.618 204.829 C 143.491 204.829 128.491 186.325 128.491 172.907 C 128.491 166.283 135.169 161.527 141.042 161.527 C 152.127 161.527 149.516 181.399 167.94 181.399 C 176.415 181.399 183.271 174.605 183.271 165.603 C 183.271 141.834 155.551 159.319 155.551 139.286 C 155.551 121.453 178.703 133.512 178.703 114.659 C 178.703 108.213 174.305 103.288 166.966 103.288 C 151.483 103.288 153.602 119.924 142.517 119.924 C 135.83 119.924 131.915 113.648 131.915 107.364 C 131.915 94.125 149.364 79.849 167.457 79.849 C 190.932 79.849 202.186 97.692 202.186 110.931 C 202.186 121.631 197.788 130.972 188.822 136.908 C 200.55 142.521 208.703 153.892 208.702 167.302 M 444.58 144.08 C 444.58 223.076 375.277 286.054 296.29 286.054 C 269.744 286.054 244.886 278.821 223.58 266.219 C 201.27 280.602 174.701 288.948 146.185 288.948 C 67.198 288.948 0 224.917 0 145.921 C 0 66.934 67.198 2.894 146.185 2.894 C 172.733 2.894 197.592 10.127 218.897 22.73 C 241.207 8.347 267.775 0 296.29 0 C 375.277 0 444.58 65.093 444.58 144.08 Z M 223.301 233.462 C 243.251 249.582 268.642 259.236 296.29 259.236 C 360.473 259.236 417.762 208.263 417.762 144.08 C 417.762 79.897 360.473 26.818 296.29 26.818 C 267.342 26.818 240.868 37.401 220.524 54.909 C 220.371 54.724 220.217 54.539 220.063 54.354 C 219.765 54.73 219.469 55.108 219.175 55.488 C 199.226 39.366 173.833 29.712 146.185 29.712 C 82.002 29.712 26.818 81.738 26.818 145.921 C 26.818 210.104 82.002 262.13 146.185 262.13 C 175.133 262.13 201.607 251.547 221.951 234.039 C 222.105 234.225 222.259 234.411 222.413 234.596 C 222.711 234.219 223.007 233.841 223.301 233.462 M 296.44 153.141 L 291.398 153.141 L 291.398 100.534 C 291.398 84.944 283.004 78.597 272.465 78.597 C 263.016 78.597 257.93 81.69 253.934 88.537 L 213.234 158.102 C 212.143 159.809 210.686 161.874 210.686 165.647 C 210.686 170.099 214.503 175.757 223.406 175.757 L 267.199 175.757 L 267.199 190.319 C 267.199 199.41 269.049 203.683 278.319 203.683 C 287.589 203.683 291.397 199.401 291.397 190.319 L 291.397 175.757 L 296.439 175.757 C 303.528 175.757 309.159 171.305 309.159 164.44 C 309.16 157.592 303.529 153.141 296.44 153.141 Z M 267.754 153.141 L 242.858 153.141 L 267.387 105.325 L 267.754 105.325 L 267.754 153.141 M 395.591 156.989 C 395.591 185.862 378.633 204.885 346.774 204.885 C 333.696 204.885 306.253 196.929 306.253 181.715 C 306.253 175.324 311.956 169.96 318.768 169.96 C 326.134 169.96 334.984 181.018 347.329 181.018 C 360.219 181.018 366.852 169.272 366.852 158.375 C 366.852 147.997 360.585 140.917 349.161 140.917 C 338.47 140.917 336.816 146.62 327.421 146.62 C 320.243 146.62 316.56 141.435 316.56 138.494 C 316.56 136.25 316.926 134.516 317.114 132.621 L 321.718 96.14 C 323.371 82.651 327.251 79.71 336.083 79.71 L 380.484 79.71 C 388.95 79.71 393.929 84.376 393.929 90.598 C 393.929 102.532 384.355 103.569 381.039 103.569 L 346.409 103.569 L 343.647 121.894 C 348.063 121.045 352.845 120.178 357.458 120.178 C 379.752 120.178 395.592 136.769 395.591 156.989 M 130.344 188.824 C 130.344 196.753 124.077 201.321 117.078 201.321 L 55.55 201.321 C 47.451 201.321 41.185 197.879 41.185 189.941 C 41.185 186.321 43.59 183.21 45.431 181.145 C 60.717 164.062 77.299 148.535 91.298 129.566 C 94.614 125.078 97.752 119.724 97.752 113.52 C 97.752 106.44 92.04 100.236 84.486 100.236 C 63.3 100.236 72.883 128.734 55.192 128.734 C 46.351 128.734 41.747 122.879 41.747 116.148 C 41.747 94.408 62.933 76.431 85.594 76.431 C 108.246 76.431 124.81 90.403 124.81 112.313 C 124.81 136.296 99.619 157.59 83.958 176.049 L 115.996 176.049 C 124.095 176.049 130.344 180.894 130.344 188.824 Z"/>',"cn.24":'<path id="cn.24" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 156.87 187.139 C 156.87 195.068 150.603 199.636 143.604 199.636 L 82.076 199.636 C 73.977 199.636 67.711 196.194 67.711 188.256 C 67.711 184.636 70.116 181.525 71.957 179.46 C 87.243 162.377 103.825 146.85 117.824 127.881 C 121.14 123.393 124.278 118.039 124.278 111.835 C 124.278 104.755 118.566 98.551 111.012 98.551 C 89.826 98.551 99.409 127.049 81.718 127.049 C 72.877 127.049 68.273 121.194 68.273 114.463 C 68.273 92.723 89.459 74.746 112.12 74.746 C 134.772 74.746 151.336 88.718 151.336 110.628 C 151.336 134.611 126.145 155.905 110.484 174.364 L 142.522 174.364 C 150.621 174.364 156.87 179.209 156.87 187.139 M 242.361 149.977 L 237.319 149.977 L 237.319 97.37 C 237.319 81.78 228.925 75.433 218.386 75.433 C 208.937 75.433 203.851 78.526 199.855 85.373 L 159.155 154.938 C 158.064 156.645 156.607 158.71 156.607 162.483 C 156.607 166.935 160.424 172.593 169.327 172.593 L 213.12 172.593 L 213.12 187.155 C 213.12 196.246 214.97 200.519 224.24 200.519 C 233.51 200.519 237.318 196.237 237.318 187.155 L 237.318 172.593 L 242.36 172.593 C 249.449 172.593 255.08 168.141 255.08 161.276 C 255.081 154.428 249.45 149.977 242.361 149.977 Z M 213.675 149.977 L 188.779 149.977 L 213.308 102.161 L 213.675 102.161 L 213.675 149.977 Z"/>',"cn.25":'<path id="cn.25" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 154.049 186.195 C 154.049 194.124 147.782 198.692 140.783 198.692 L 79.255 198.692 C 71.156 198.692 64.89 195.25 64.89 187.312 C 64.89 183.692 67.295 180.581 69.136 178.516 C 84.422 161.433 101.004 145.906 115.003 126.937 C 118.319 122.449 121.457 117.095 121.457 110.891 C 121.457 103.811 115.745 97.607 108.191 97.607 C 87.005 97.607 96.588 126.105 78.897 126.105 C 70.056 126.105 65.452 120.25 65.452 113.519 C 65.452 91.779 86.638 73.802 109.299 73.802 C 131.951 73.802 148.515 87.774 148.515 109.684 C 148.515 133.667 123.324 154.961 107.663 173.42 L 139.701 173.42 C 147.8 173.42 154.049 178.265 154.049 186.195 M 253.691 159.249 C 253.691 188.122 236.733 207.145 204.874 207.145 C 191.796 207.145 164.353 199.189 164.353 183.975 C 164.353 177.584 170.056 172.22 176.868 172.22 C 184.234 172.22 193.084 183.278 205.429 183.278 C 218.319 183.278 224.952 171.532 224.952 160.635 C 224.952 150.257 218.685 143.177 207.261 143.177 C 196.57 143.177 194.916 148.88 185.521 148.88 C 178.343 148.88 174.66 143.695 174.66 140.754 C 174.66 138.51 175.026 136.776 175.214 134.881 L 179.818 98.4 C 181.471 84.911 185.351 81.97 194.183 81.97 L 238.584 81.97 C 247.05 81.97 252.029 86.636 252.029 92.858 C 252.029 104.792 242.455 105.829 239.139 105.829 L 204.509 105.829 L 201.747 124.154 C 206.163 123.305 210.945 122.438 215.558 122.438 C 237.852 122.438 253.692 139.029 253.691 159.249 Z"/>',"cn.3":'<path id="cn.3" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M167.717,137.637 c8.966-5.936,13.364-15.277,13.364-25.977c0-13.239-11.254-31.082-34.729-31.082c-18.093,0-35.542,14.276-35.542,27.515 c0,6.284,3.915,12.56,10.602,12.56c11.085,0,8.966-16.636,24.449-16.636c7.339,0,11.737,4.925,11.737,11.371 c0,18.853-23.152,6.794-23.152,24.627c0,20.033,27.72,2.548,27.72,26.317c0,9.002-6.856,15.796-15.331,15.796 c-18.424,0-15.813-19.872-26.898-19.872c-5.873,0-12.551,4.756-12.551,11.38c0,13.418,15,31.922,39.127,31.922 c23.152,0,41.084-17.154,41.084-37.527C187.598,154.621,179.445,143.25,167.717,137.637z"/>',"cn.34":'<path id="cn.34" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 146.304 166.911 C 146.304 187.284 128.372 204.438 105.22 204.438 C 81.093 204.438 66.093 185.934 66.093 172.516 C 66.093 165.892 72.771 161.136 78.644 161.136 C 89.729 161.136 87.118 181.008 105.542 181.008 C 114.017 181.008 120.873 174.214 120.873 165.212 C 120.873 141.443 93.153 158.928 93.153 138.895 C 93.153 121.062 116.305 133.121 116.305 114.268 C 116.305 107.822 111.907 102.897 104.568 102.897 C 89.085 102.897 91.204 119.533 80.119 119.533 C 73.432 119.533 69.517 113.257 69.517 106.973 C 69.517 93.734 86.966 79.458 105.059 79.458 C 128.534 79.458 139.788 97.301 139.788 110.54 C 139.788 121.24 135.39 130.581 126.424 136.517 C 138.152 142.13 146.305 153.501 146.304 166.911 M 244.084 155.896 L 239.042 155.896 L 239.042 103.289 C 239.042 87.699 230.648 81.352 220.109 81.352 C 210.66 81.352 205.574 84.445 201.578 91.292 L 160.878 160.857 C 159.787 162.564 158.33 164.629 158.33 168.402 C 158.33 172.854 162.147 178.512 171.05 178.512 L 214.843 178.512 L 214.843 193.074 C 214.843 202.165 216.693 206.438 225.963 206.438 C 235.233 206.438 239.041 202.156 239.041 193.074 L 239.041 178.512 L 244.083 178.512 C 251.172 178.512 256.803 174.06 256.803 167.195 C 256.804 160.347 251.173 155.896 244.084 155.896 Z M 215.398 155.896 L 190.502 155.896 L 215.031 108.08 L 215.398 108.08 L 215.398 155.896 Z"/>',"cn.345":'<path id="cn.345" transform="scale('+a+')" \nd="M 158.702 167.031 C 158.702 187.404 140.77 204.558 117.618 204.558 C 93.491 204.558 78.491 186.054 78.491 172.636 C 78.491 166.012 85.169 161.256 91.042 161.256 C 102.127 161.256 99.516 181.128 117.94 181.128 C 126.415 181.128 133.271 174.334 133.271 165.332 C 133.271 141.563 105.551 159.048 105.551 139.015 C 105.551 121.182 128.703 133.241 128.703 114.388 C 128.703 107.942 124.305 103.017 116.966 103.017 C 101.483 103.017 103.602 119.653 92.517 119.653 C 85.83 119.653 81.915 113.377 81.915 107.093 C 81.915 93.854 99.364 79.578 117.457 79.578 C 140.932 79.578 152.186 97.421 152.186 110.66 C 152.186 121.36 147.788 130.701 138.822 136.637 C 150.55 142.25 158.703 153.621 158.702 167.031 M 436.159 143.027 C 436.159 222.023 372.119 286.054 293.132 286.054 C 266.586 286.054 241.728 278.821 220.422 266.219 C 198.112 280.602 171.543 288.948 143.027 288.948 C 64.04 288.948 0 224.917 0 145.921 C 0 66.934 64.04 2.894 143.027 2.894 C 169.575 2.894 194.434 10.127 215.739 22.73 C 238.049 8.347 264.617 0 293.132 0 C 372.119 0 436.159 64.04 436.159 143.027 Z M 220.143 233.462 C 240.093 249.582 265.484 259.236 293.132 259.236 C 357.315 259.236 409.341 207.21 409.341 143.027 C 409.341 78.844 357.315 26.818 293.132 26.818 C 264.184 26.818 237.71 37.401 217.366 54.909 C 217.213 54.724 217.059 54.539 216.905 54.354 C 216.607 54.73 216.311 55.108 216.017 55.488 C 196.068 39.366 170.675 29.712 143.027 29.712 C 78.844 29.712 26.818 81.738 26.818 145.921 C 26.818 210.104 78.844 262.13 143.027 262.13 C 171.975 262.13 198.449 251.547 218.793 234.039 C 218.947 234.225 219.101 234.411 219.255 234.596 C 219.553 234.219 219.849 233.841 220.143 233.462 M 250.44 152.87 L 245.398 152.87 L 245.398 100.263 C 245.398 84.673 237.004 78.326 226.465 78.326 C 217.016 78.326 211.93 81.419 207.934 88.266 L 167.234 157.831 C 166.143 159.538 164.686 161.603 164.686 165.376 C 164.686 169.828 168.503 175.486 177.406 175.486 L 221.199 175.486 L 221.199 190.048 C 221.199 199.139 223.049 203.412 232.319 203.412 C 241.589 203.412 245.397 199.13 245.397 190.048 L 245.397 175.486 L 250.439 175.486 C 257.528 175.486 263.159 171.034 263.159 164.169 C 263.16 157.321 257.529 152.87 250.44 152.87 Z M 221.754 152.87 L 196.858 152.87 L 221.387 105.054 L 221.754 105.054 L 221.754 152.87 M 362.591 156.718 C 362.591 185.591 345.633 204.614 313.774 204.614 C 300.696 204.614 273.253 196.658 273.253 181.444 C 273.253 175.053 278.956 169.689 285.768 169.689 C 293.134 169.689 301.984 180.747 314.329 180.747 C 327.219 180.747 333.852 169.001 333.852 158.104 C 333.852 147.726 327.585 140.646 316.161 140.646 C 305.47 140.646 303.816 146.349 294.421 146.349 C 287.243 146.349 283.56 141.164 283.56 138.223 C 283.56 135.979 283.926 134.245 284.114 132.35 L 288.718 95.869 C 290.371 82.38 294.251 79.439 303.083 79.439 L 347.484 79.439 C 355.95 79.439 360.929 84.105 360.929 90.327 C 360.929 102.261 351.355 103.298 348.039 103.298 L 313.409 103.298 L 310.647 121.623 C 315.063 120.774 319.845 119.907 324.458 119.907 C 346.752 119.907 362.592 136.498 362.591 156.718 Z"/>',"cn.35":'<path id="cn.35" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 250.888 154.38 C 250.888 183.253 233.93 202.276 202.071 202.276 C 188.993 202.276 161.55 194.32 161.55 179.106 C 161.55 172.715 167.253 167.351 174.065 167.351 C 181.431 167.351 190.281 178.409 202.626 178.409 C 215.516 178.409 222.149 166.663 222.149 155.766 C 222.149 145.388 215.882 138.308 204.458 138.308 C 193.767 138.308 192.113 144.011 182.718 144.011 C 175.54 144.011 171.857 138.826 171.857 135.885 C 171.857 133.641 172.223 131.907 172.411 130.012 L 177.015 93.531 C 178.668 80.042 182.548 77.101 191.38 77.101 L 235.781 77.101 C 244.247 77.101 249.226 81.767 249.226 87.989 C 249.226 99.923 239.652 100.96 236.336 100.96 L 201.706 100.96 L 198.944 119.285 C 203.36 118.436 208.142 117.569 212.755 117.569 C 235.049 117.569 250.889 134.16 250.888 154.38 M 149.904 161.495 C 149.904 181.868 131.972 199.022 108.82 199.022 C 84.693 199.022 69.693 180.518 69.693 167.1 C 69.693 160.476 76.371 155.72 82.244 155.72 C 93.329 155.72 90.718 175.592 109.142 175.592 C 117.617 175.592 124.473 168.798 124.473 159.796 C 124.473 136.027 96.753 153.512 96.753 133.479 C 96.753 115.646 119.905 127.705 119.905 108.852 C 119.905 102.406 115.507 97.481 108.168 97.481 C 92.685 97.481 94.804 114.117 83.719 114.117 C 77.032 114.117 73.117 107.841 73.117 101.557 C 73.117 88.318 90.566 74.042 108.659 74.042 C 132.134 74.042 143.388 91.885 143.388 105.124 C 143.388 115.824 138.99 125.165 130.024 131.101 C 141.752 136.714 149.905 148.085 149.904 161.495 Z"/>',"cn.4":'<path id="cn.4" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M175.065,155.122h-5.042v-52.607 c0-15.59-8.394-21.937-18.933-21.937c-9.449,0-14.535,3.093-18.531,9.94l-40.7,69.565c-1.091,1.707-2.548,3.772-2.548,7.545 c0,4.452,3.817,10.11,12.72,10.11h43.793V192.3c0,9.091,1.85,13.364,11.12,13.364s13.078-4.282,13.078-13.364v-14.562h5.042 c7.089,0,12.72-4.452,12.72-11.317C187.785,159.573,182.154,155.122,175.065,155.122z M146.379,155.122h-24.896l24.529-47.816 h0.367V155.122z"/>',"cn.45":'<path id="cn.45" transform="scale('+a+')" \nd="M 320.896 143.027 C 320.896 222.023 273.867 286.054 215.862 286.054 C 196.449 286.054 178.266 278.882 162.664 266.379 C 146.219 280.664 126.658 288.948 105.668 288.948 C 47.313 288.948 0 224.917 0 145.921 C 0 66.934 47.313 2.894 105.668 2.894 C 125.204 2.894 143.5 10.069 159.199 22.579 C 175.547 8.288 194.994 0 215.862 0 C 273.867 0 320.896 64.04 320.896 143.027 Z M 162.261 233.462 C 176.911 249.582 195.558 259.236 215.862 259.236 C 262.996 259.236 301.202 207.21 301.202 143.027 C 301.202 78.844 262.996 26.818 215.862 26.818 C 194.603 26.818 175.161 37.401 160.221 54.909 C 160.171 54.826 160.121 54.744 160.07 54.661 C 159.91 54.936 159.751 55.212 159.593 55.488 C 144.855 39.366 126.095 29.712 105.668 29.712 C 58.25 29.712 19.813 81.738 19.813 145.921 C 19.813 210.104 58.25 262.13 105.668 262.13 C 127.055 262.13 146.614 251.547 161.644 234.039 C 161.693 234.12 161.742 234.2 161.792 234.28 C 161.949 234.008 162.105 233.736 162.261 233.462 M 147.276 152.9 L 142.234 152.9 L 142.234 100.293 C 142.234 84.703 133.84 78.356 123.301 78.356 C 113.852 78.356 108.766 81.449 104.77 88.296 L 64.07 157.861 C 62.979 159.568 61.522 161.633 61.522 165.406 C 61.522 169.858 65.339 175.516 74.242 175.516 L 118.035 175.516 L 118.035 190.078 C 118.035 199.169 119.885 203.442 129.155 203.442 C 138.425 203.442 142.233 199.16 142.233 190.078 L 142.233 175.516 L 147.275 175.516 C 154.364 175.516 159.995 171.064 159.995 164.199 C 159.996 157.351 154.365 152.9 147.276 152.9 Z M 118.59 152.9 L 93.694 152.9 L 118.223 105.084 L 118.59 105.084 L 118.59 152.9 M 256.743 156.906 C 256.743 185.779 239.785 204.802 207.926 204.802 C 194.848 204.802 167.405 196.846 167.405 181.632 C 167.405 175.241 173.108 169.877 179.92 169.877 C 187.286 169.877 196.136 180.935 208.481 180.935 C 221.371 180.935 228.004 169.189 228.004 158.292 C 228.004 147.914 221.737 140.834 210.313 140.834 C 199.622 140.834 197.968 146.537 188.573 146.537 C 181.395 146.537 177.712 141.352 177.712 138.411 C 177.712 136.167 178.078 134.433 178.266 132.538 L 182.87 96.057 C 184.523 82.568 188.403 79.627 197.235 79.627 L 241.636 79.627 C 250.102 79.627 255.081 84.293 255.081 90.515 C 255.081 102.449 245.507 103.486 242.191 103.486 L 207.561 103.486 L 204.799 121.811 C 209.215 120.962 213.997 120.095 218.61 120.095 C 240.904 120.095 256.744 136.686 256.743 156.906 Z"/>',"cn.5":'<path id="cn.5" transform="scale('+a+')" \nd="M143.027,0C64.04,0,0,64.04,0,143.027c0,78.996,64.04,143.027,143.027,143.027 s143.027-64.031,143.027-143.027C286.054,64.04,222.014,0,143.027,0z M143.027,259.236c-64.183,0-116.209-52.026-116.209-116.209 S78.844,26.818,143.027,26.818s116.209,52.026,116.209,116.209S207.21,259.236,143.027,259.236z M149.678,120.849 c-4.613,0-9.395,0.867-13.811,1.716l2.762-18.325h34.63c3.316,0,12.89-1.037,12.89-12.971c0-6.222-4.979-10.888-13.445-10.888 h-44.401c-8.832,0-12.712,2.941-14.365,16.43l-4.604,36.481c-0.188,1.895-0.554,3.629-0.554,5.873 c0,2.941,3.683,8.126,10.861,8.126c9.395,0,11.049-5.703,21.74-5.703c11.424,0,17.691,7.08,17.691,17.458 c0,10.897-6.633,22.643-19.523,22.643c-12.345,0-21.195-11.058-28.561-11.058c-6.812,0-12.515,5.364-12.515,11.755 c0,15.214,27.443,23.17,40.521,23.17c31.859,0,48.817-19.023,48.817-47.896C187.812,137.44,171.972,120.849,149.678,120.849z"/>',"n.0":'<path id="n.0" transform="scale(0.95)" \nd="@@"/>',"n.1":'<path id="n.1" transform="scale(0.95)" \nd="@@"/>',"n.2":'<path id="n.2" transform="scale(0.95)" \nd="@@"/>',"n.3":'<path id="n.3" transform="scale(0.95)" \nd="@@"/>',"n.4":'<path id="n.4" transform="scale(0.95)" \nd="@@"/>',"n.5":'<path id="n.5" transform="scale(0.95)" \nd="@@"/>',"n.6":'<path id="n.6" transform="scale(0.95)" \nd="@@"/>',"n.7":'<path id="n.7" transform="scale(0.95)" \nd="@@"/>',"n.8":'<path id="n.8" transform="scale(0.95)" \nd="@@"/>',"n.9":'<path id="n.9" transform="scale(0.95)" \nd="@@"/>',f:'<path id="n.f" transform="scale(0.95)" \nd="@@"/>',m:'<path id="n.m" transform="scale(0.95)" \nd="@@"/>',p:'<path id="n.p" transform="scale(0.95)" \nd="@@"/>',r:'<path id="n.r" transform="scale(0.95)" \nd="@@"/>',s:'<path id="n.s" transform="scale(0.95)" \nd="@@"/>',z:'<path id="n.z" transform="scale(0.95)" \nd="@@"/>',"+":'<path id="+" transform="scale(0.95)" \nd="@@"/>',",":'<path id="," transform="scale(0.95)" \nd="@@"/>',"-":'<path id="-" transform="scale(0.95)" \nd="@@"/>',".":'<path id="." transform="scale(0.95)" \nd="@@"/>',"accidentals.nat":'<path id="accidentals.nat" transform="scale(0.8)" \nd="@@"/>',"accidentals.sharp":'<path id="accidentals.sharp" transform="scale(0.8)" \nd="@@"/>',"accidentals.flat":'<path id="accidentals.flat" transform="scale(0.8)" \nd="@@"/>',"accidentals.halfsharp":'<path id="accidentals.halfsharp" transform="scale(0.8)" \nd="@@"/>',"accidentals.dblsharp":'<path id="accidentals.dblsharp" transform="scale(0.8)" \nd="@@"/>',"accidentals.halfflat":'<path id="accidentals.halfflat" transform="scale(0.8)" \nd="@@"/>',"accidentals.dblflat":'<path id="accidentals.dblflat" transform="scale(0.8)" \nd="@@"/>',"clefs.C":'<path id="clefs.C" \nd="@@"/>',"clefs.F":'<path id="clefs.F" \nd="@@"/>',"clefs.G":'<path id="clefs.G" \nd="@@"/>',"clefs.perc":'<path id="clefs.perc" \nd="@@"/>',"clefs.tab":'<path id="clefs.tab" transform="scale(0.9)" \nd="@@"/>',"dots.dot":'<path id="dots.dot" \nd="@@"/>',"flags.d8th":'<path id="flags.d8th" \nd="@@"/>',"flags.d16th":'<path id="flags.d16th" \nd="@@"/>',"flags.d32nd":'<path id="flags.d32nd" \nd="@@"/>',"flags.d64th":'<path id="flags.d64th" \nd="@@"/>',"flags.dgrace":'<path id="flags.dgrace" \nd="@@"/>',"flags.u8th":'<path id="flags.u8th" \nd="@@"/>',"flags.u16th":'<path id="flags.u16th" \nd="@@"/>',"flags.u32nd":'<path id="flags.u32nd" \nd="@@"/>',"flags.u64th":'<path id="flags.u64th" \nd="@@"/>',"flags.ugrace":'<path id="flags.ugrace" \nd="@@"/>',"graceheads.quarter":'<g id="graceheads.quarter" transform="scale(0.6)" ><use xlink:href="#noteheads.quarter" /></g>',"graceflags.d8th":'<g id="graceflags.d8th" transform="scale(0.6)" ><use xlink:href="#flags.d8th" /></g>',"graceflags.u8th":'<g id="graceflags.u8th" transform="scale(0.6)" ><use xlink:href="#flags.u8th" /></g>',"noteheads.quarter":'<path id="noteheads.quarter" \nd="@@"/>',"noteheads.whole":'<path id="noteheads.whole" \nd="@@"/>',"notehesad.dbl":'<path id="noteheads.dbl" \nd="@@"/>',"noteheads.half":'<path id="noteheads.half" \nd="@@"/>',"rests.whole":'<path id="rests.whole" \nd="@@"/>',"rests.half":'<path id="rests.half" \nd="@@"/>',"rests.quarter":'<path id="rests.quarter" \nd="@@"/>',"rests.8th":'<path id="rests.8th" \nd="@@"/>',"rests.16th":'<path id="rests.16th" \nd="@@"/>',"rests.32nd":'<path id="rests.32nd" \nd="@@"/>',"rests.64th":'<path id="rests.64th" \nd="@@"/>',"rests.128th":'<path id="rests.128th" \nd="@@"/>',"scripts.rarrow":'<path id="scripts.rarrow" \nd="M -6 -5 h 8 v -3 l 4 4 l -4 4 v -3 h -8 z"/>',"scripts.tabrest":'<path id="scripts.tabrest" \nd="M -5 5 h 10 v 2 h -10 z"/>',"scripts.lbrace":'<path id="scripts.lbrace" \nd="@@"/>',"scripts.ufermata":'<path id="scripts.ufermata" \nd="@@"/>',"scripts.dfermata":'<path id="scripts.dfermata" \nd="@@"/>',"scripts.sforzato":'<path id="scripts.sforzato" \nd="@@"/>',"scripts.staccato":'<path id="scripts.staccato" \nd="@@"/>',"scripts.tenuto":'<path id="scripts.tenuto" \nd="@@"/>',"scripts.umarcato":'<path id="scripts.umarcato" \nd="@@"/>',"scripts.dmarcato":'<path id="scripts.dmarcato" \nd="@@"/>',"scripts.stopped":'<path id="scripts.stopped" \nd="@@"/>',"scripts.upbow":'<path id="scripts.upbow" \nd="@@"/>',"scripts.downbow":'<path id="scripts.downbow" \nd="@@"/>',"scripts.turn":'<path id="scripts.turn" \nd="@@"/>',"scripts.trill":'<path id="scripts.trill" \nd="@@"/>',"scripts.segno":'<path id="scripts.segno" transform="scale(0.8)" \nd="@@"/>',"scripts.coda":'<path id="scripts.coda" transform="scale(0.8)" \nd="@@"/>',"scripts.comma":'<path id="scripts.comma" \nd="@@"/>',"scripts.roll":'<path id="scripts.roll" \nd="@@"/>',"scripts.prall":'<path id="scripts.prall" \nd="@@"/>',"scripts.mordent":'<path id="scripts.mordent" \nd="@@"/>',"timesig.common":'<path id="timesig.common" \nd="@@"/>',"timesig.cut":'<path id="timesig.cut" \nd="@@"/>',"it.punto":'<path id="it.punto" \nd="@@"/>',"it.l":'<path id="it.l" \nd="@@"/>',"it.f":'<path id="it.f" \nd="@@"/>',"it.F":'<path id="it.F" \nd="@@"/>',"it.i":'<path id="it.i" \nd="@@"/>',"it.n":'<path id="it.n" \nd="@@"/>',"it.e":'<path id="it.e" \nd="@@"/>',"it.D":'<path id="it.D" \nd="@@"/>',"it.d":'<path id="it.d" \nd="@@"/>',"it.a":'<path id="it.a" \nd="@@"/>',"it.C":'<path id="it.C" \nd="@@"/>',"it.c":'<path id="it.c" \nd="@@"/>',"it.p":'<path id="it.p" \nd="@@"/>',"it.o":'<path id="it.o" \nd="@@"/>',"it.S":'<path id="it.S" \nd="@@"/>',"it.s":'<path id="it.s" \nd="@@"/>',"it.Fine":'<g id="it.Fine" ><use xlink:href="#it.F" x="0" y="3" /><use xlink:href="#it.i" x="12" y="3" /><use xlink:href="#it.n" x="17.5" y="3" /><use xlink:href="#it.e" x="27" y="3" /></g>',"it.Coda":'<g id="it.Coda" ><use xlink:href="#it.C" x="0" y="3" /><use xlink:href="#it.o" x="12" y="3" /><use xlink:href="#it.d" x="20" y="3" /><use xlink:href="#it.a" x="30" y="3" /></g>',"it.Da":'<g id="it.Da"><use xlink:href="#it.D" x="0" y="3" /><use xlink:href="#it.a" x="14" y="3" /></g>',"it.DaCoda":'<g id="it.DaCoda"><use xlink:href="#it.Da" x="0" y="0" /><use xlink:href="#scripts.coda" x="32" y="0" /></g>',"it.DaSegno":'<g id="it.DaSegno"><use xlink:href="#it.Da" x="0" y="0" /><use xlink:href="#scripts.segno" x="32" y="-3" /></g>',"it.DC":'<g id="it.DC"><use xlink:href="#it.D" x="0" y="1" /><use xlink:href="#it.punto" x="12" y="2" /><use xlink:href="#it.C" x="18" y="1" /><use xlink:href="#it.punto" x="29" y="2" /></g>',"it.DS":'<g id="it.DS"><use xlink:href="#it.D" x="0" y="1" /><use xlink:href="#it.punto" x="12" y="2" /><use xlink:href="#it.S" x="18" y="1" /><use xlink:href="#it.punto" x="29" y="2" /></g>',"it.al":'<g id="it.al"><use xlink:href="#it.a" x="0" y="2" /><use xlink:href="#it.l" x="10" y="2" /></g>',"it.DCalFine":'<g id="it.DCalFine"><use xlink:href="#it.DC" x="-14" y="1" /><use xlink:href="#it.al" x="25" y="1" /><use xlink:href="#it.Fine" x="46" y="-1" /></g>',"it.DCalCoda":'<g id="it.DCalCoda"><use xlink:href="#it.DC" x="-14" y="1" /><use xlink:href="#it.al" x="25" y="1" /><use xlink:href="#it.Coda" x="46" y="-1" /></g>',"it.DSalFine":'<g id="it.DSalFine"><use xlink:href="#it.DS" x="-14" y="1" /><use xlink:href="#it.al" x="25" y="1" /><use xlink:href="#it.Fine" x="46" y="-1" /></g>',"it.DSalCoda":'<g id="it.DSalCoda"><use xlink:href="#it.DS" x="-14" y="1" /><use xlink:href="#it.al" x="25" y="1" /><use xlink:href="#it.Coda" x="46" y="-1" /></g>'};
this.getDefinition=function(k){var h=c[k];if(!h){return""}h=h.replace("@@",d.getSymbolPathTxt(k));var f=0,e=0;while(f>=0){f=h.indexOf('xlink:href="#',e);if(f<0){continue}f+=13;e=h.indexOf('"',f);h+=this.getDefinition(h.slice(f,e))}return"\n"+h}};if(!window.ABCXJS){window.ABCXJS={}}if(!ABCXJS.edit){ABCXJS.edit={}}ABCXJS.edit.AccordionSelector=function(e,a,d,c){this.extraItems=c||[];this.ddmId=e;if(a instanceof DRAGGABLE.ui.DropdownMenu){this.menu=a}else{this.menu=new DRAGGABLE.ui.DropdownMenu(a,d,[{title:"Acordeons",ddmId:this.ddmId,itens:[]}])}if(d&&d.listener&&d.listener.accordion){this.accordion=d.listener.accordion}};ABCXJS.edit.AccordionSelector.prototype.populate=function(f,e){var a,c,g;this.menu.emptySubMenu(this.ddmId);for(var d=0;d<this.accordion.accordions.length;d++){a=this.menu.addItemSubMenu(this.ddmId,this.accordion.accordions[d].getFullName()+"|"+this.accordion.accordions[d].getId());if(typeof e==="undefined"){if(this.accordion.getId()===this.accordion.accordions[d].getId()){c=a;g=this.accordion.getFullName()}}else{if(e===this.accordion.accordions[d].getId()){c=a;g=this.accordion.accordions[d].getFullName()}}}for(var d=0;d<this.extraItems.length;d++){var a=this.menu.addItemSubMenu(this.ddmId,this.extraItems[d])}if(f&&g){this.menu.setSubMenuTitle(this.ddmId,g)}if(c){this.menu.selectItem(this.ddmId,c)}};ABCXJS.edit.KeySelector=function(d,a,c){this.ddmId=d;if(a instanceof DRAGGABLE.ui.DropdownMenu){this.menu=a}else{this.menu=new DRAGGABLE.ui.DropdownMenu(a,c,[{title:"Keys",ddmId:this.ddmId,itens:[]}])}};ABCXJS.edit.KeySelector.prototype.setVisible=function(a){this.menu.setVisible(a)};ABCXJS.edit.KeySelector.prototype.populate=function(f){var a=12;this.menu.emptySubMenu(this.ddmId);for(var d=+(a+f-1);d>-(a-f);d--){var c;if(d>f){c=ABCXJS.parse.number2keysharp[(d+a)%a]}else{c=ABCXJS.parse.number2keyflat[(d+a)%a]}var g=this.menu.addItemSubMenu(this.ddmId,c+"|"+(d-f));if(d===f){this.menu.setSubMenuTitle(this.ddmId,c);this.menu.selectItem(this.ddmId,g)}}};if(!window.ABCXJS){window.ABCXJS={}}if(!ABCXJS.edit){ABCXJS.edit={}}ABCXJS.edit.EditArea=function(f,g,e){var d=this;e=e?e:{};this.parentCallback=g;this.callback={listener:this,method:"editareaCallback"};this.container={};var a=["gutter","download","undoall","undo","redo","redoall","refresh","findNreplace","fontSize","DROPDOWN|selKey","octavedown","octaveup","lighton","readonly"];e.draggable=typeof(e.draggable)==="undefined"?true:e.draggable;this.draggagle=e.draggable;this.compileOnChange=typeof(e.compileOnChange)==="undefined"?false:e.compileOnChange;this.maximized=typeof(e.maximized)==="undefined"?false:e.maximized;this.translator=e.translator?e.translator:null;var c;if(typeof f==="string"){c=document.getElementById(f)}else{c=f}if(!c){alert('this.container: elemento "'+f+'" não encontrado.')}this.container=new DRAGGABLE.ui.Window(c,["move","popin","popout","restore","maximize"],e,this.callback,a);this.keySelector=new ABCXJS.edit.KeySelector("selKey",this.container.menu.selKey,this.callback);this.setFloating(this.draggable);this.currrentFontSize="15px";this.aceEditor=ace.edit(this.container.dataDiv);this.aceEditor.setOptions({highlightActiveLine:true,selectionStyle:"text",cursorStyle:"smooth"});this.aceEditor.setOptions({fontFamily:"'DejaVuSansMono','Monospace'",fontSize:this.currrentFontSize,fontWeight:"normal"});this.aceEditor.setOptions({tabSize:4,useSoftTabs:false,showInvisibles:false});this.aceEditor.renderer.setOptions({highlightGutterLine:true,showPrintMargin:false,showFoldWidgets:false});this.aceEditor.session.setNewLineMode("unix");this.aceEditor.$blockScrolling=Infinity;this.Range=require("ace/range").Range;this.gutterVisible=true;this.readOnly=false;this.showHiddenChar=false;this.syntaxHighLightVisible=true;this.selectionEnabled=true;this.restartUndoManager();this.createStyleSheet();this.aceEditor.on("focus",function(){d.aceEditor.focus();d.container.focus()});this.aceEditor.on("blur",function(){d.aceEditor.blur();d.container.blur()});if(g.listener){this.addChangeListener(g.listener)}};ABCXJS.edit.EditArea.prototype.setCompileOnChange=function(a){this.compileOnChange=a};ABCXJS.edit.EditArea.prototype.setMaximized=function(a){this.maximized=a;this.container.draggable=!a;this.container.setButtonVisible("maximize",this.draggable&&!this.maximized);this.container.setButtonVisible("restore",this.draggable&&this.maximized)};ABCXJS.edit.EditArea.prototype.setFloating=function(a){this.draggable=a;this.container.setButtonVisible("popout",!this.draggable);this.container.setButtonVisible("popin",this.draggable);this.container.setButtonVisible("maximize",this.draggable&&!this.maximized);this.container.setButtonVisible("restore",this.draggable&&this.maximized);this.container.setButtonVisible("move",this.draggable);this.container.setFloating(a)};ABCXJS.edit.EditArea.prototype.editareaCallback=function(h,f,a,g,j,e){this.container.setStatusMessage("");switch(h){case"UNDO":this.undoManager.hasUndo()&&this.undoManager.undo(false);break;case"REDO":this.undoManager.hasRedo()&&this.undoManager.redo(false);break;case"UNDOALL":while(this.undoManager.hasUndo()){this.undoManager.undo(false)}break;case"REDOALL":while(this.undoManager.hasRedo()){this.undoManager.redo(false)}break;case"FONTSIZE":switch(this.currrentFontSize){case"15px":this.currrentFontSize="18px";break;case"18px":this.currrentFontSize="22px";break;case"22px":this.currrentFontSize="15px";break}this.aceEditor.setOptions({fontSize:this.currrentFontSize});break;case"FINDNREPLACE":this.alert=new DRAGGABLE.ui.ReplaceDialog(this.container,{translator:this.translator});break;case"DO-SEARCH":if(a===""){this.container.setStatusMessage(this.translator.getResource("search_field_empty"));break}this.searchRange=this.aceEditor.find(a,{wrap:true,caseSensitive:j,wholeWord:e,regExp:false,preventScroll:true});if(this.searchRange){this.aceEditor.selection.setRange(this.searchRange)}else{this.container.setStatusMessage(this.translator.getResource("not_found"))}break;case"DO-REPLACE":if(a===""){this.container.setStatusMessage(this.translator.getResource("search_field_empty"));break}if(!this.searchRange){this.searchRange=this.aceEditor.find(a,{wrap:true,caseSensitive:j,wholeWord:e,regExp:false,preventScroll:true});if(this.searchRange){this.aceEditor.selection.setRange(this.searchRange)}else{this.container.setStatusMessage(this.translator.getResource("not_found"));break}}this.aceEditor.session.replace(this.searchRange,g);this.searchRange=this.aceEditor.find(a,{wrap:true,caseSensitive:j,wholeWord:e,regExp:false,preventScroll:true});if(this.searchRange){this.aceEditor.selection.setRange(this.searchRange)}break;case"DO-REPLACEALL":if(a===""){this.container.setStatusMessage(this.translator.getResource("search_field_empty"));break}this.searchRange=true;var k=0;while(this.searchRange){this.searchRange=this.aceEditor.find(a,{wrap:true,caseSensitive:j,wholeWord:e,regExp:false,preventScroll:true});if(this.searchRange){this.aceEditor.session.replace(this.searchRange,g);k++}else{if(k===0){this.container.setStatusMessage(this.translator.getResource("not_found"))
}else{this.container.setStatusMessage(k+" "+this.translator.getResource("occurrence_replaced"))}}}break;case"GUTTER":this.setGutter();break;case"READONLY":this.setReadOnly();var d=f.getElementsByTagName("i")[0];d.className=(this.readOnly?"ico-lock ico-black ico-large":"ico-lock-open ico-black ico-large");break;case"LIGHTON":this.setSyntaxHighLight();var d=f.getElementsByTagName("i")[0];d.className=(this.syntaxHighLightVisible?"ico-lightbulb-on ico-black ico-large":"ico-lightbulb-off ico-black ico-large");break;case"HIDDENCHAR":this.showHiddenChars();break;case"RESIZE":this.resize();this.parentCallback.listener[this.parentCallback.method](h,f);break;default:this.parentCallback.listener[this.parentCallback.method](h,f)}this.aceEditor.focus()};ABCXJS.edit.EditArea.prototype.createStyleSheet=function(){this.style=document.createElement("style");this.style.type="text/css";document.getElementsByTagName("head")[0].appendChild(this.style)};ABCXJS.edit.EditArea.prototype.setEditorHighLightStyle=function(){this.style.innerHTML=".ABCXHighLight { background-color: "+ABCXJS.write.color.highLight+" !important; opacity: 0.15; }"};ABCXJS.edit.EditArea.prototype.clearEditorHighLightStyle=function(){this.style.innerHTML=".ABCXHighLight { }"};ABCXJS.edit.EditArea.prototype.showHiddenChars=function(a){if(typeof a==="boolean"){this.showHiddenChar=a}else{this.showHiddenChar=!this.showHiddenChar}this.aceEditor.setOption("showInvisibles",this.showHiddenChar)};ABCXJS.edit.EditArea.prototype.setGutter=function(a){if(typeof a==="boolean"){this.gutterVisible=a}else{this.gutterVisible=!this.gutterVisible}this.aceEditor.renderer.setShowGutter(this.gutterVisible)};ABCXJS.edit.EditArea.prototype.setReadOnly=function(a){if(typeof a==="boolean"){this.readOnly=a}else{this.readOnly=!this.readOnly}this.aceEditor.setOptions({readOnly:this.readOnly,highlightActiveLine:!this.readOnly,highlightGutterLine:!this.readOnly});this.aceEditor.textInput.getElement().disabled=this.readOnly};ABCXJS.edit.EditArea.prototype.setSyntaxHighLight=function(a){if(typeof a==="boolean"){this.syntaxHighLightVisible=a}else{this.syntaxHighLightVisible=!this.syntaxHighLightVisible}this.aceEditor.getSession().setMode(this.syntaxHighLightVisible?"ace/mode/abcx":"ace/mode/text")};ABCXJS.edit.EditArea.prototype.setStatusBarVisible=function(a){this.container.setStatusBarVisible(a);this.resize()};ABCXJS.edit.EditArea.prototype.setToolBarVisible=function(a){this.container.setToolBarVisible(a);this.resize()};ABCXJS.edit.EditArea.prototype.setVisible=function(a){this.container.setVisible(a)};ABCXJS.edit.EditArea.prototype.resize=function(){this.container.resize();this.aceEditor.resize()};ABCXJS.edit.EditArea.prototype.setOptions=function(c,a){if(c){this.aceEditor.setOptions(c)}if(a){this.aceEditor.renderer.setOptions(a)}};ABCXJS.edit.EditArea.prototype.addChangeListener=function(c){var a=this;a.aceEditor.textInput.getElement().addEventListener("keyup",function(){if(a.timerId1){clearTimeout(a.timerId1)}a.timerId1=setTimeout(function(){c.updateSelection()},100)});a.aceEditor.on("dblclick",function(){if(a.timerId2){clearTimeout(a.timerId2)}a.timerId2=setTimeout(function(){c.updateSelection()},100)});a.aceEditor.on("mousedown",function(){a.aceEditor.on("mouseup",function(){if(a.timerId3){clearTimeout(a.timerId3)}a.timerId3=setTimeout(function(){c.updateSelection()},100)})});a.aceEditor.on("change",function(){var d=a.aceEditor.getValue();if(a.compileOnChange&&d!==a.initialText){a.initialText=d;if(a.timerId4){clearTimeout(a.timerId4)}a.timerId4=setTimeout(function(){c.fireChanged(0,{force:false,showProgress:false})},300)}})};ABCXJS.edit.EditArea.prototype.getString=function(){return this.aceEditor.getValue()};ABCXJS.edit.EditArea.prototype.setString=function(c){if(c===this.aceEditor.getValue()){return}var a=this.aceEditor.getCursorPosition();this.aceEditor.setValue(c);this.aceEditor.clearSelection();this.initialText=this.getString();this.aceEditor.moveCursorToPosition(a)};ABCXJS.edit.EditArea.prototype.restartUndoManager=function(){this.aceEditor.getSession().setUndoManager(new ace.UndoManager());this.undoManager=this.aceEditor.getSession().getUndoManager()};ABCXJS.edit.EditArea.prototype.getSelection=function(){return this.aceEditor.selection.getAllRanges()};ABCXJS.edit.EditArea.prototype.setSelection=function(c){if(c&&c.position){this.searchRange=null;var a=new this.Range(c.position.anchor.line,c.position.anchor.ch,c.position.head.line,c.position.head.ch);this.aceEditor.selection.addRange(a);if(c.position.selectable||!this.selectionEnabled){this.aceEditor.renderer.scrollCursorIntoView(a.end,1)}}};ABCXJS.edit.EditArea.prototype.clearSelection=function(c){if(c&&c.position){var a=new this.Range(c.position.anchor.line,c.position.anchor.ch,c.position.head.line,c.position.head.ch);this.aceEditor.selection.clearRange(a)}};ABCXJS.edit.EditArea.prototype.clearSelection=function(c){if(c&&c.position){var a=new this.Range(c.position.anchor.line,c.position.anchor.ch,c.position.head.line,c.position.head.ch);this.aceEditor.selection.clearRange(a)}};ABCXJS.edit.EditArea.prototype.maximizeWindow=function(d,c){this.setMaximized(d);c.maximized=d;if(d){this.container.move(0,0);this.container.setSize("100%","calc( 100% - 7px)")}else{var a=this.container.topDiv.style;a.left=c.left;a.top=c.top;a.width=c.width;a.height=c.height}this.resize()};ABCXJS.edit.EditArea.prototype.dockWindow=function(f,e,a,g,c,d){e.floating=!f;this.setFloating(e.floating);this.setToolBarVisible(e.floating);this.setStatusBarVisible(e.floating);if(e.floating){this.maximizeWindow(e.maximized,e)}else{this.container.move(a,g);this.container.setSize(c,d);this.resize()}};ABCXJS.edit.EditArea.prototype.retrieveProps=function(c){if(c.floating&&!c.maximized){var a=this.container.topDiv.style;c.left=a.left;c.top=a.top;c.width=a.width;c.height=a.height}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.midi){window.ABCXJS.midi={}}window.ABCXJS.midi.keyToNote={};window.ABCXJS.midi.minNote=21;window.ABCXJS.midi.maxNote=108;for(var n=window.ABCXJS.midi.minNote;n<=window.ABCXJS.midi.maxNote;n++){var octave=(n-12)/12>>0;var name=ABCXJS.parse.number2keysharp[n%12]+octave;ABCXJS.midi.keyToNote[name]=n;name=ABCXJS.parse.number2keyflat[n%12]+octave;ABCXJS.midi.keyToNote[name]=n}if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.midi){window.ABCXJS.midi={}}ABCXJS.midi.Parse=function(a){a=a||{};this.vars={warnings:[]};this.scale=[0,2,4,5,7,9,11];this.wholeNote=32;this.minNote=1/this.wholeNote;this.oneMinute=60000;this.reset();this.addWarning=function(c){this.vars.warnings.push(c)};this.getWarnings=function(){return this.vars.warnings}};ABCXJS.midi.Parse.prototype.reset=function(){this.vars={warnings:[]};this.globalJumps=[];this.addingBarNumbers=-1;this.channel=-1;this.timecount=0;this.playlistpos=0;this.maxPass=2;this.countBar=0;this.next=null;this.restart={line:0,staff:0,voice:0,pos:0};this.multiplier=1;this.alertedMin=false;this.startTieInterval=[];this.lastTabElem=[];this.baraccidentals=[];this.parsedElements=[];
this.pass=[];this.midiTune={tempo:this.oneMinute/640,playlist:[],measures:[]}};ABCXJS.midi.Parse.prototype.parse=function(f,a){var c=this;var d=0;this.reset();this.abctune=f;this.transposeTab=0;if(f.hasTablature){this.transposeTab=f.lines[0].staffs[f.tabStaffPos].clef.transpose||0}this.midiTune.keyboard=a;if(f.metaText&&f.metaText.tempo){var h=f.metaText.tempo.bpm||80;var g=f.metaText.tempo.duration[0]||0.25;this.midiTune.tempo=this.oneMinute/(h*g*this.wholeNote)}this.staffcount=1;for(this.staff=0;this.staff<this.staffcount;this.staff++){this.voicecount=1;for(this.voice=0;this.voice<this.voicecount;this.voice++){this.startTrack();for(this.line=0;!this.endTrack&&this.line<this.abctune.lines.length;this.line++){if(this.getStaff()){this.pos=0;if(!this.capo){this.capo=this.restart=this.getMark()}this.next=null;this.staffcount=this.getLine().staffs.length;this.voicecount=this.getStaff().voices.length;this.setKeySignature(this.getStaff().key);while(!this.endTrack&&this.pos<this.getVoice().length){var e=this.getElem();switch(e.el_type){case"note":if(this.skipping){break}if(this.getStaff().clef.type!=="accordionTab"){this.writeNote(e)}else{this.selectButtons(e)}break;case"key":if(this.skipping){break}this.setKeySignature(e);break;case"bar":if(!this.handleBar(e)){return null}break;case"meter":case"clef":break;default:}if(this.next){this.line=this.next.line;this.staff=this.next.staff;this.voice=this.next.voice;this.pos=this.next.pos;this.next=null}else{this.pos++}}}}}}if(this.lookingForCoda){this.addWarning('Simbolo não encontrado: "Coda"!')}this.parsedElements.forEach(function(k,l){if(k.end.pitches.length+k.end.abcelems.length){c.midiTune.playlist.push({item:k.end,time:l,start:false})}if(k.start.pitches.length+k.start.abcelems.length+k.start.buttons.length>0){var j={item:null,time:l,start:true};if(k.start.barNumber){this.lastBar=null;if(k.start.barNumber>d){d=this.lastBar=k.start.barNumber;c.midiTune.measures[d]=c.midiTune.playlist.length}j.barNumber=k.start.barNumber}delete k.start.barNumber;c.handleButtons(k.start.pitches,k.start.buttons);delete k.start.buttons;j.item=k.start;c.midiTune.playlist.push(j)}});f.midi=this.midiTune;return this.midiTune};ABCXJS.midi.Parse.prototype.handleButtons=function(f,e){var d,h,c,g;var a=this;e.forEach(function(m){if(!m.button.button){return}if(m.button.closing){d=ABCXJS.parse.clone(m.button.button.closeNote)}else{d=ABCXJS.parse.clone(m.button.button.openNote)}if(d.isBass){if(d.isChord){c=d.key.toUpperCase()}else{c=d.key}}else{if(a.transposeTab){switch(a.transposeTab){case 8:d.octave--;break;case -8:d.octave++;break;default:this.addWarning("Possível transpor a tablatura uma oitava acima ou abaixo +/-8. Ignorando transpose.")}}h=12+12*d.octave+ABCXJS.parse.key2number[d.key]}var o=false,l=false;for(var k=0;k<f.length;k++){if(d.isBass&&f[k].midipitch.clef==="bass"){g=f[k].midipitch.midipitch%12;o=true;if(g===ABCXJS.parse.key2number[c]&&!f[k].button){f[k].button=m.button;m.button=null;return}}else{if(!d.isBass&&f[k].midipitch.clef!=="bass"){l=true;if(f[k].midipitch.midipitch===h){f[k].button=m.button;m.button=null;return}}}}if(this.lastBar&&((d.isBass&&o)||(!d.isBass&&l))){var j=m.button.button;a.addWarning("Compasso "+this.lastBar+": Botao "+j.tabButton+" ("+j.closeNote.key+"/"+j.openNote.key+") não corresponde a nenhuma nota em execução.")}})};ABCXJS.midi.Parse.prototype.writeNote=function(f){if(f.startTriplet){this.multiplier=(f.startTriplet.num===2)?3/2:(f.startTriplet.num-1)/f.startTriplet.num}var a=this.checkMinNote(f.duration*this.wholeNote*this.multiplier);if(f.pitches){var h;for(var c=0;c<f.pitches.length;c++){var d=f.pitches[c];var g=d.pitch;if(d.accidental){this.baraccidentals[g]=this.getAccOffset(d.accidental)}h=60+12*this.extractOctave(g)+this.scale[this.extractNote(g)];if(this.baraccidentals[g]!==undefined){h+=this.baraccidentals[g]}else{h+=this.accidentals[this.extractNote(g)]}if(d.tie){this.handleTie(f,d,h,a)}else{if(this.startTieInterval[h]&&this.startTieInterval[h][0]){this.addWarning("Linha "+(f.line+1)+": Nota sendo ignorada porque já está contida na ligadura!");this.addStart(this.timecount,null,f,null);this.addEnd(this.timecount+a,null,f)}else{var e={channel:this.channel,midipitch:h,mididuration:a};this.addStart(this.timecount,e,f,null);this.addEnd(this.timecount+a,e,f)}}}}else{this.addStart(this.timecount,null,f,null);this.addEnd(this.timecount+a,null,f)}this.setTimeCount(a);if(f.endTriplet){this.multiplier=1}};ABCXJS.midi.Parse.prototype.handleTie=function(f,d,j,a){if(d.tie&&d.tie.id_end){var g=this.startTieInterval[j];if(d.tie.id_start){this.addStart(this.timecount,null,f,null);g.otrElems.push(f)}else{this.addStart(this.timecount,null,f,null);this.addEnd(this.timecount+a,null,f);if(!g){this.addWarning("Verifique as ligaduras: possivel ligacao de notas com alturas diferentes");return}for(var c=0;c<g.otrElems.length;c++){this.addEnd(this.timecount+a,null,g.otrElems[c])}var h=this.timecount-g.startTime+a;g.midipitch.mididuration=h;this.addEnd(this.timecount+a,g.midipitch,g.elem);this.startTieInterval[j]=null}}else{if(d.tie&&d.tie.id_start){var e={channel:this.channel,midipitch:j,mididuration:a};this.addStart(this.timecount,e,f,null);this.startTieInterval[j]={elem:f,startTime:this.timecount,midipitch:e,otrElems:[]}}}};ABCXJS.midi.Parse.prototype.clearTies=function(){var a=this;a.startTieInterval.forEach(function(d,c){if(!d){return}a.addEnd(a.timecount,d.midipitch,d.elem);a.startTieInterval[c]=null})};ABCXJS.midi.Parse.prototype.setTimeCount=function(a){this.timecount+=a;if(this.timecount%1>0.9999){this.timecount=Math.round(this.timecount)}};ABCXJS.midi.Parse.prototype.checkMinNote=function(a){if(a<0.99){a=1;if(!this.alertedMin){this.addWarning("Nota(s) com duração menor que o mínimo suportado: 1/"+this.wholeNote+".");this.alertedMin=true}}return a};ABCXJS.midi.Parse.prototype.selectButtons=function(f){if(f.startTriplet){this.multiplier=(f.startTriplet.num===2)?3/2:(f.startTriplet.num-1)/f.startTriplet.num}var a=f.duration*this.wholeNote*this.multiplier;if(f.pitches){var d;var e=0;for(var c=0;c<f.pitches.length;c++){var g=false;if(f.pitches[c].bass){e++}if(f.pitches[c].type==="rest"){continue}if(f.pitches[c].bass){if(f.pitches[c].c==="scripts.rarrow"){d=this.lastTabElem[c];f.pitches[c].lastButton=(d?d.tabButton:"x");g=true}else{d=this.getBassButton(f.bellows,f.pitches[c].c);this.lastTabElem[c]=d}}else{if(f.pitches[c].c==="scripts.rarrow"){d=this.lastTabElem[10+c-e];f.pitches[c].lastButton=(d?d.tabButton:"x");g=true}else{d=this.getButton(f.pitches[c].c);this.lastTabElem[10+c-e]=d}}if(!g){this.addStart(this.timecount,null,null,{button:d,closing:(f.bellows==="+"),duration:f.duration})}}}this.addStart(this.timecount,null,f,null);this.addEnd(this.timecount+a,null,f);this.setTimeCount(a);if(f.endTriplet){this.multiplier=1}};ABCXJS.midi.Parse.prototype.handleBar=function(e){this.countBar++;if(this.countBar>10000){this.addWarning("Impossível gerar o MIDI para esta partitura após 10.000 ciclos.");return false}if(e.barNumber){this.addBarNumber=e.barNumber
}this.baraccidentals=[];if(this.lookingForCoda){if(!e.jumpInfo||e.jumpInfo.type!=="coda"){return true}else{this.codaPoint=this.getMark();this.lookingForCoda=false;this.skipping=false}}var d=this.setPass();if(e.type==="bar_left_repeat"){this.restart=this.getMark()}if(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat"){if(d<this.maxPass){delete this.currEnding;this.clearTies();this.next=this.restart;return true}else{if(e.type==="bar_dbl_repeat"){this.restart=this.getMark()}}}if(e.endEnding){delete this.currEnding}if(e.startEnding){var c=e.startEnding.split("-");this.currEnding={};this.currEnding.min=parseInt(c[0]);this.currEnding.max=c.length>1?parseInt(c[1]):this.currEnding.min;this.currEnding.measuresInEnding=[];this.maxPass=Math.max(this.currEnding.max,2);if(this.currEnding.min>1){delete this.currEnding}}if(this.currEnding){this.currEnding.measuresInEnding.push(this.getMark())}this.skipping=(this.currEnding&&(d<this.currEnding.min||d>this.currEnding.max))||false;if(e.jumpPoint){switch(e.jumpPoint.type){case"coda":this.codaPoint=this.getMark();break;case"segno":this.segnoPoint=this.getMark();break;case"fine":if(this.fineFlagged){this.endTrack=true;return true}break}}if(e.jumpInfo){switch(e.jumpInfo.type){case"dacapo":if(!this.daCapoFlagged){this.next=this.capo;this.daCapoFlagged=true;this.resetPass()}break;case"dasegno":if(this.segnoPoint){if(!this.daSegnoFlagged){this.next=this.segnoPoint;this.daSegnoFlagged=true;this.resetPass()}}else{this.addWarning("Ignorando Da segno!")}break;case"dcalfine":if(!this.daCapoFlagged){this.next=this.capo;this.daCapoFlagged=true;this.fineFlagged=true;this.resetPass()}break;case"dsalfine":if(this.segnoPoint){if(!this.daSegnoFlagged){this.next=this.segnoPoint;this.fineFlagged=true;this.daSegnoFlagged=true;this.resetPass()}}else{this.addWarning("Ignorando Da segno al fine!")}break;case"dacoda":if(this.codaPoint){if(d>=this.maxPass||this.daCodaFlagged){this.next=this.codaPoint;this.daCodaFlagged=false;this.resetPass()}}else{if(this.daCodaFlagged){this.lookingForCoda=true;this.skipping=true}}break;case"dsalcoda":if(this.segnoPoint){if(!this.daSegnoFlagged){this.next=this.segnoPoint;this.daSegnoFlagged=true;this.daCodaFlagged=true;this.resetPass()}}else{this.addWarning('Ignorando "D.S. al coda"!')}break;case"dcalcoda":if(!this.daCapoFlagged){this.next=this.capo;this.daCapoFlagged=true;this.daCodaFlagged=true;this.resetPass()}break}}return true};ABCXJS.midi.Parse.prototype.getParsedElement=function(a){if(!this.parsedElements[a]){this.parsedElements[a]={start:{pitches:[],abcelems:[],buttons:[],barNumber:null},end:{pitches:[],abcelems:[]}}}return this.parsedElements[a]};ABCXJS.midi.Parse.prototype.addStart=function(g,f,e,d){var c=(g%1);g-=c;var a=this.getParsedElement(g);if(e){a.start.abcelems.push({abcelem:e,channel:this.channel,delay:c});if(this.addBarNumber&&((this.addBarNumber===1&&this.addingBarNumbers<0)||this.addingBarNumbers===((this.staff+1)*10+this.voice))){a.start.barNumber=this.addBarNumber;this.addingBarNumbers=((this.staff+1)*10+this.voice);delete this.addBarNumber}}if(f){f.clef=this.getStaff().clef.type;a.start.pitches.push({midipitch:f,delay:c})}if(d){a.start.buttons.push({button:d,abcelem:e,delay:c})}};ABCXJS.midi.Parse.prototype.addEnd=function(f,e,d){var c=(f%1);f-=c;var a=this.getParsedElement(f);if(d){a.end.abcelems.push({abcelem:d,delay:c})}if(e){a.end.pitches.push({midipitch:e,delay:c})}};ABCXJS.midi.Parse.prototype.getMark=function(){return{line:this.line,staff:this.staff,voice:this.voice,pos:this.pos}};ABCXJS.midi.Parse.prototype.getMarkString=function(a){a=a||this;return"line"+a.line+"staff"+a.staff+"voice"+a.voice+"pos"+a.pos};ABCXJS.midi.Parse.prototype.getMarkValue=function(a){a=a||this;return(a.line+1)*1000000+a.staff*10000+a.voice*100+a.pos};ABCXJS.midi.Parse.prototype.setPass=function(c){var a=this.getMarkValue(c);if(this.pass[a]){this.pass[a]=this.pass[a]+1}else{this.pass[a]=1}return this.pass[a]};ABCXJS.midi.Parse.prototype.resetPass=function(){this.pass=[];var a=this;if(this.currEnding){this.currEnding.measuresInEnding.forEach(function(d,c){a.setPass(d)})}};ABCXJS.midi.Parse.prototype.hasTablature=function(){return this.abctune.hasTablature};ABCXJS.midi.Parse.prototype.getLine=function(){return this.abctune.lines[this.line]};ABCXJS.midi.Parse.prototype.getStaff=function(){var a=this.getLine();if(!a.staffs){return undefined}return a.staffs[this.staff]};ABCXJS.midi.Parse.prototype.getVoice=function(){return this.getStaff().voices[this.voice]};ABCXJS.midi.Parse.prototype.getElem=function(){return this.getVoice()[this.pos]};ABCXJS.midi.Parse.prototype.startTrack=function(){this.channel++;this.timecount=0;this.playlistpos=0;this.maxPass=2;this.countBar=0;this.next=null;this.pass=[];this.endTrack=false;delete this.codaFlagged;delete this.fineFlagged;delete this.daSegnoFlagged;delete this.daCapoFlagged;delete this.capo;delete this.daCodaFlagged;delete this.lookingForCoda;delete this.segnoPoint;delete this.codaPoint};ABCXJS.midi.Parse.prototype.getAccOffset=function(c){var a=0;switch(c){case"accidentals.dblsharp":case"dblsharp":a=2;break;case"accidentals.sharp":case"sharp":a=1;break;case"accidentals.nat":case"nat":case"natural":a=0;break;case"accidentals.flat":case"flat":a=-1;break;case"accidentals.dblflat":case"dblflat":a=-2;break}return a};ABCXJS.midi.Parse.prototype.setKeySignature=function(a){this.accidentals=[0,0,0,0,0,0,0];if(this.abctune.formatting.bagpipes){a.accidentals=[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}if(!a.accidentals){return}window.ABCXJS.parse.each(a.accidentals,function(f){var g=(f.acc==="sharp")?1:(f.acc==="natural")?0:-1;var e=f.note.toLowerCase();var c=this.extractNote(e.charCodeAt(0)-"c".charCodeAt(0));this.accidentals[c]+=g},this)};ABCXJS.midi.Parse.prototype.extractNote=function(a){a=a%7;return(a<0)?a+7:a};ABCXJS.midi.Parse.prototype.extractOctave=function(a){return Math.floor(a/7)};ABCXJS.midi.Parse.prototype.setSelection=function(f){if(!f.bellows){return}for(var d=0;d<f.pitches.length;d++){var c=f.pitches[d];if(c.type==="rest"){continue}var a;var e=c.c==="scripts.rarrow"?c.lastButton:c.c;if(c.bass&&c.c!=="scripts.rarrow"){a=this.getBassButton(f.bellows,e)}else{a=this.getButton(e)}if(a){if(f.bellows==="-"){a.setOpen()}else{a.setClose()}}}};ABCXJS.midi.Parse.prototype.getBassButton=function(d,a){if(a==="x"||!this.midiTune.keyboard){return null}var g=this.midiTune.keyboard;var h=g.parseNote(a.replace("m",":m"),true);for(var c=g.keyMap.length;c>g.keyMap.length-2;c--){for(var e=0;e<g.keyMap[c-1].length;e++){var f=g.keyMap[c-1][e];if(d==="+"){if(f.closeNote.key===h.key&&h.isMinor===f.closeNote.isMinor){return f}}else{if(f.openNote.key===h.key&&h.isMinor===f.openNote.isMinor){return f}}}}return null};ABCXJS.midi.Parse.prototype.getButton=function(a){if(a==="x"||!this.midiTune.keyboard){return null}var d=this.midiTune.keyboard;var e=parseInt(isNaN(a.substr(0,2))||a.length===1?1:2);var c=a.substr(0,e)-1;var f=a.length-e;if(d.keyMap[f][c]){return d.keyMap[f][c]}return null
};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.midi){window.ABCXJS.midi={}}ABCXJS.midi.Player=function(a){this.reset(a);this.playableClefs="TB";this.ticksPerInterval=1;this.callbackOnStart=null;this.callbackOnEnd=null;this.callbackOnPlay=null;this.callbackOnScroll=null;this.callbackOnChangeBar=null};ABCXJS.midi.Player.prototype.setPlayableClefs=function(a){this.playableClefs=a};ABCXJS.midi.Player.prototype.playClef=function(a){return this.playableClefs.indexOf(a.toUpperCase())>=0};ABCXJS.midi.Player.prototype.reset=function(a){a=a||{};this.i=0;this.tempo=250;this.playing=false;this.playlist=[];this.playInterval=null;this.currentAndamento=1;this.onError=null;this.warnings=[];this.printer={};this.currentTime=0;this.currentMeasure=1;this.currAbsElem=null};ABCXJS.midi.Player.prototype.addWarning=function(a){this.warnings.push(a)};ABCXJS.midi.Player.prototype.getWarnings=function(){return this.warnings.length>0?this.warnings:null};ABCXJS.midi.Player.prototype.defineCallbackOnStart=function(a){this.callbackOnStart=a};ABCXJS.midi.Player.prototype.defineCallbackOnEnd=function(a){this.callbackOnEnd=a};ABCXJS.midi.Player.prototype.defineCallbackOnPlay=function(a){this.callbackOnPlay=a};ABCXJS.midi.Player.prototype.defineCallbackOnScroll=function(a){this.callbackOnScroll=a};ABCXJS.midi.Player.prototype.defineCallbackOnChangeBar=function(a){this.callbackOnChangeBar=a};ABCXJS.midi.Player.prototype.setAndamento=function(c){var a=this;if(c<10){c=10}if(c>200){c=200}if(this.playing){this.newAndamento=c/100}else{try{a.currentAndamento=c/100;a.currentTime=a.playlist[a.i].time*(1/a.currentAndamento)}catch(d){}}};ABCXJS.midi.Player.prototype.stopPlay=function(){this.i=0;this.currentTime=0;this.pausePlay();if(this.callbackOnEnd){this.callbackOnEnd(this)}return this.getWarnings()};ABCXJS.midi.Player.prototype.pausePlay=function(a){if(!(false||a)){MIDI.stopAllNotes()}window.clearInterval(this.playInterval);this.playing=false};ABCXJS.midi.Player.prototype.doResume=function(a){MIDI.stopAllNotes();MIDI.resume();MIDI.noteOn(0,40,1,0);MIDI.noteOff(0,40,0.01);MIDI.noteOn(1,40,1,0);MIDI.noteOff(1,40,0.01);MIDI.noteOn(2,40,1,0);MIDI.noteOff(2,40,0.01)};ABCXJS.midi.Player.prototype.startPlay=function(c){if(this.playing||!c){return false}if(this.currentTime===0){this.doResume()}this.playlist=c.playlist;this.tempo=c.tempo;this.printer=c.printer;this.type=null;this.playing=true;this.onError=null;var a=this;this.playInterval=window.setInterval(function(){a.doPlay()},this.tempo);return true};ABCXJS.midi.Player.prototype.clearDidacticPlay=function(){this.i=0;this.currentTime=0;this.currentMeasure=1;this.pausePlay(true)};ABCXJS.midi.Player.prototype.startDidacticPlay=function(f,c,e,a){if(this.playing){return false}if(this.currentTime===0){this.doResume()}this.playlist=f.playlist;this.tempo=f.tempo;this.printer=f.printer;this.measures=f.measures;this.type=c;this.playing=true;this.onError=null;var g=null;var d=this;switch(c){case"note":f.printer.clearSelection();f.keyboard.clear(true);if(!d.playlist[d.i]){return false}d.initTime=d.playlist[d.i].time;g=function(){return d.initTime===d.playlist[d.i].time};break;case"goto":case"repeat":d.currentMeasure=parseInt(e)?parseInt(e):d.currentMeasure;d.endMeasure=parseInt(a)?parseInt(a):d.currentMeasure;d.initMeasure=d.currentMeasure;if(d.measures[d.currentMeasure]!==undefined){d.i=d.measures[d.currentMeasure];d.currentTime=d.playlist[d.i].time*(1/d.currentAndamento);g=function(){return(d.initMeasure<=d.currentMeasure)&&(d.currentMeasure<=d.endMeasure)}}else{waterbug.log("goto-measure or repeat-measure:  measure '"+e+"' not found!");this.pausePlay(true);return}break;case"measure":d.currentMeasure=parseInt(e)?parseInt(e):d.currentMeasure;d.initMeasure=d.currentMeasure;if(d.measures[d.currentMeasure]!==undefined){d.i=d.measures[d.currentMeasure];d.currentTime=d.playlist[d.i].time*(1/d.currentAndamento);g=function(){return d.initMeasure===d.currentMeasure}}else{waterbug.log("play-measure: measure '"+e+"' not found!");this.pausePlay(true);return false}break}this.playInterval=window.setInterval(function(){d.doDidacticPlay(g)},this.tempo);return true};ABCXJS.midi.Player.prototype.handleBar=function(){if(this.playlist[this.i]&&this.playlist[this.i].barNumber){this.currentMeasure=this.playlist[this.i].barNumber;if(this.callbackOnChangeBar){this.callbackOnChangeBar(this)}}};ABCXJS.midi.Player.prototype.doPlay=function(){if(this.callbackOnPlay){this.callbackOnPlay(this)}while(!this.onError&&this.playlist[this.i]&&(this.playlist[this.i].time*(1/this.currentAndamento))<=this.currentTime){this.executa(this.playlist[this.i]);this.i++;this.handleBar()}if(!this.onError&&this.playlist[this.i]){this.currentTime+=this.ticksPerInterval}else{this.stopPlay()}};ABCXJS.midi.Player.prototype.doDidacticPlay=function(c){var a=this;if(this.callbackOnPlay){this.callbackOnPlay(this)}while(!this.onError&&this.playlist[this.i]&&c()&&(this.playlist[this.i].time*(1/this.currentAndamento))<this.currentTime){this.executa(this.playlist[this.i]);this.i++;this.handleBar();if(this.type=="repeat"){if(!this.onError&&!(this.playlist[this.i]&&c())){this.currentMeasure=this.initMeasure;this.i=this.measures[this.currentMeasure];this.currentTime=this.playlist[this.i].time*(1/this.currentAndamento);this.currentTime+=this.ticksPerInterval}}}if(this.onError){this.stopPlay()}else{if(this.playlist[this.i]&&c()){this.currentTime+=this.ticksPerInterval}else{this.pausePlay(true)}}};ABCXJS.midi.Player.prototype.executa=function(g){var c=this;var j=128;var d=0;var a;try{if(this.newAndamento){try{this.currentAndamento=this.newAndamento;this.currentTime=this.playlist[this.i].time*(1/this.currentAndamento);delete this.newAndamento}catch(k){}}if(g.start){g.item.pitches.forEach(function(o){d=c.calcTempo(o.delay);if(c.playClef(o.midipitch.clef.charAt(0))){MIDI.noteOn(o.midipitch.channel,o.midipitch.midipitch,j,d);var l=2.38,m=l,p=c.calcTempo(o.midipitch.mididuration)-l;while(p>0){MIDI.noteOff(o.midipitch.channel,o.midipitch.midipitch,m+d);MIDI.noteOn(o.midipitch.channel,o.midipitch.midipitch,j,m+d);m+=l;p-=l}}if(!debug&&o.button&&o.button.button&&o.button.button.SVG&&o.button.button.SVG.button!==null){a=1;if(o.button.closing){o.button.button.setClose(d)}else{o.button.button.setOpen(d)}a=2;if(c.type!=="note"){var e=(1/c.currentAndamento);var q=Math.max(o.midipitch.mididuration*0.1,0.5);o.button.button.clear(c.calcTempo((o.midipitch.mididuration-q)*e)+d)}a=3}});var f=".";g.item.abcelems.forEach(function(e){d=c.calcTempo(e.delay);a=4;c.currAbsElem=e.abcelem.parent;if(c.callbackOnScroll){c.callbackOnScroll(c)}a=5;if(f.indexOf("."+c.currAbsElem.gid+".")<0){f+=c.currAbsElem.gid+".";c.highlight(c.currAbsElem,true,d)}})}else{g.item.pitches.forEach(function(e){d=c.calcTempo(e.delay);MIDI.noteOff(e.midipitch.channel,e.midipitch.midipitch,d)});var f=".";g.item.abcelems.forEach(function(e){d=c.calcTempo(e.delay);if(f.indexOf("."+e.abcelem.parent+".")<0){f+=e.abcelem.parent.gid+".";c.highlight(e.abcelem.parent,false,d)}})}}catch(h){this.onError={erro:h.message,idx:this.i,item:g};
this.addWarning("PlayList["+this.onError.idx+"] - Erro: "+this.onError.erro+". DebugPoint: "+a)}};ABCXJS.midi.Player.prototype.calcTempo=function(a){return a*this.tempo/1000};ABCXJS.midi.Player.prototype.highlight=function(d,a,c){if(debug||!this.printer){return}var e=this;if(c){window.setTimeout(function(){e.highlight(d,a)},c*1000);return}if(a){e.printer.notifySelect(d)}else{e.printer.notifyClear(d)}};ABCXJS.midi.Player.prototype.getTime=function(){var g=function(k,h,j){j=j||"0";k=k+"";return k.length>=h?k:new Array(h-k.length+1).join(j)+k};var f=0;if(this.playlist&&this.playlist[this.i]){f=this.playlist[this.i].time*this.tempo*(1/this.currentAndamento)}else{this.addWarning("PlayList["+this.i+"] não existe. DebugPoint: midi.Player.getTime")}var c=Math.floor(f/1000);var a=Math.floor((f-c*1000)/10);var e=Math.floor(c/60);var c=c-e*60;var d=g(e,2)+":"+g(c,2)+"."+g(a,2);return{cTime:d,time:f}};
/*!
 * perfect-scrollbar v1.3.0
 * (c) 2017 Hyunje Jun
 * @license MIT
 */
(function(c,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(c.PerfectScrollbar=a())}(this,(function(){function O(T){return getComputedStyle(T)}function E(U,V){for(var T in V){var W=V[T];if(typeof W==="number"){W=W+"px"}U.style[T]=W}return U}function P(T){var U=document.createElement("div");U.className=T;return U}var y=typeof Element!=="undefined"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector);function a(T,U){if(!y){throw new Error("No element matching method supported")}return y.call(T,U)}function F(T){if(T.remove){T.remove()}else{if(T.parentNode){T.parentNode.removeChild(T)}}}function A(U,T){return Array.prototype.filter.call(U.children,function(V){return a(V,T)})}var g={main:"ps",element:{thumb:function(T){return("ps__thumb-"+T)},rail:function(T){return("ps__rail-"+T)},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(T){return("ps--active-"+T)},scrolling:function(T){return("ps--scrolling-"+T)}}};var z={x:null,y:null};function H(U,T){var W=U.element.classList;var V=g.state.scrolling(T);if(W.contains(V)){clearTimeout(z[T])}else{W.add(V)}}function R(U,T){z[T]=setTimeout(function(){return U.isAlive&&U.element.classList.remove(g.state.scrolling(T))},U.settings.scrollingThreshold)}function t(U,T){H(U,T);R(U,T)}var L=function L(T){this.element=T;this.handlers={}};var m={isEmpty:{configurable:true}};L.prototype.bind=function j(T,U){if(typeof this.handlers[T]==="undefined"){this.handlers[T]=[]}this.handlers[T].push(U);this.element.addEventListener(T,U,false)};L.prototype.unbind=function x(T,U){var V=this;this.handlers[T]=this.handlers[T].filter(function(W){if(U&&W!==U){return true}V.element.removeEventListener(T,W,false);return false})};L.prototype.unbindAll=function Q(){var U=this;for(var T in U.handlers){U.unbind(T)}};m.isEmpty.get=function(){var T=this;return Object.keys(this.handlers).every(function(U){return T.handlers[U].length===0})};Object.defineProperties(L.prototype,m);var D=function D(){this.eventElements=[]};D.prototype.eventElement=function e(U){var T=this.eventElements.filter(function(V){return V.element===U})[0];if(!T){T=new L(U);this.eventElements.push(T)}return T};D.prototype.bind=function j(U,T,V){this.eventElement(U).bind(T,V)};D.prototype.unbind=function x(V,U,W){var T=this.eventElement(V);T.unbind(U,W);if(T.isEmpty){this.eventElements.splice(this.eventElements.indexOf(T),1)}};D.prototype.unbindAll=function Q(){this.eventElements.forEach(function(T){return T.unbindAll()});this.eventElements=[]};D.prototype.once=function B(W,U,X){var T=this.eventElement(W);var V=function(Y){T.unbind(U,V);X(Y)};T.bind(U,V)};function I(U){if(typeof window.CustomEvent==="function"){return new CustomEvent(U)}else{var T=document.createEvent("CustomEvent");T.initCustomEvent(U,false,false,undefined);return T}}var h=function(V,W,Y,U,X){if(U===void 0){U=true}if(X===void 0){X=false}var T;if(W==="top"){T=["contentHeight","containerHeight","scrollTop","y","up","down"]}else{if(W==="left"){T=["contentWidth","containerWidth","scrollLeft","x","left","right"]}else{throw new Error("A proper axis should be provided")}}q(V,Y,T,U,X)};function q(Z,ab,V,W,T){var ac=V[0];var ae=V[1];var U=V[2];var aa=V[3];var Y=V[4];var ad=V[5];if(W===void 0){W=true}if(T===void 0){T=false}var X=Z.element;Z.reach[aa]=null;if(X[U]<1){Z.reach[aa]="start"}if(X[U]>Z[ac]-Z[ae]-1){Z.reach[aa]="end"}if(ab){X.dispatchEvent(I(("ps-scroll-"+aa)));if(ab<0){X.dispatchEvent(I(("ps-scroll-"+Y)))}else{if(ab>0){X.dispatchEvent(I(("ps-scroll-"+ad)))}}if(W){t(Z,aa)}}if(Z.reach[aa]&&(ab||T)){X.dispatchEvent(I(("ps-"+aa+"-reach-"+(Z.reach[aa]))))}}function o(T){return parseInt(T,10)||0}function f(T){return(a(T,"input,[contenteditable]")||a(T,"select,[contenteditable]")||a(T,"textarea,[contenteditable]")||a(T,"button,[contenteditable]"))}function M(T){var U=O(T);return(o(U.width)+o(U.paddingLeft)+o(U.paddingRight)+o(U.borderLeftWidth)+o(U.borderRightWidth))}var l={isWebKit:typeof document!=="undefined"&&"WebkitAppearance" in document.documentElement.style,supportsTouch:typeof window!=="undefined"&&("ontouchstart" in window||(window.DocumentTouch&&document instanceof window.DocumentTouch)),supportsIePointer:typeof navigator!=="undefined"&&navigator.msMaxTouchPoints,isChrome:typeof navigator!=="undefined"&&/Chrome/i.test(navigator&&navigator.userAgent)};var d=function(U){var T=U.element;U.containerWidth=T.clientWidth;U.containerHeight=T.clientHeight;U.contentWidth=T.scrollWidth;U.contentHeight=T.scrollHeight;if(!T.contains(U.scrollbarXRail)){A(T,g.element.rail("x")).forEach(function(V){return F(V)});T.appendChild(U.scrollbarXRail)}if(!T.contains(U.scrollbarYRail)){A(T,g.element.rail("y")).forEach(function(V){return F(V)});T.appendChild(U.scrollbarYRail)}if(!U.settings.suppressScrollX&&U.containerWidth+U.settings.scrollXMarginOffset<U.contentWidth){U.scrollbarXActive=true;U.railXWidth=U.containerWidth-U.railXMarginWidth;U.railXRatio=U.containerWidth/U.railXWidth;U.scrollbarXWidth=w(U,o(U.railXWidth*U.containerWidth/U.contentWidth));U.scrollbarXLeft=o((U.negativeScrollAdjustment+T.scrollLeft)*(U.railXWidth-U.scrollbarXWidth)/(U.contentWidth-U.containerWidth))}else{U.scrollbarXActive=false}if(!U.settings.suppressScrollY&&U.containerHeight+U.settings.scrollYMarginOffset<U.contentHeight){U.scrollbarYActive=true;U.railYHeight=U.containerHeight-U.railYMarginHeight;U.railYRatio=U.containerHeight/U.railYHeight;U.scrollbarYHeight=w(U,o(U.railYHeight*U.containerHeight/U.contentHeight));U.scrollbarYTop=o(T.scrollTop*(U.railYHeight-U.scrollbarYHeight)/(U.contentHeight-U.containerHeight))}else{U.scrollbarYActive=false}if(U.scrollbarXLeft>=U.railXWidth-U.scrollbarXWidth){U.scrollbarXLeft=U.railXWidth-U.scrollbarXWidth}if(U.scrollbarYTop>=U.railYHeight-U.scrollbarYHeight){U.scrollbarYTop=U.railYHeight-U.scrollbarYHeight}k(T,U);if(U.scrollbarXActive){T.classList.add(g.state.active("x"))}else{T.classList.remove(g.state.active("x"));U.scrollbarXWidth=0;
U.scrollbarXLeft=0;T.scrollLeft=0}if(U.scrollbarYActive){T.classList.add(g.state.active("y"))}else{T.classList.remove(g.state.active("y"));U.scrollbarYHeight=0;U.scrollbarYTop=0;T.scrollTop=0}};function w(U,T){if(U.settings.minScrollbarLength){T=Math.max(T,U.settings.minScrollbarLength)}if(U.settings.maxScrollbarLength){T=Math.min(T,U.settings.maxScrollbarLength)}return T}function k(V,U){var T={width:U.railXWidth};if(U.isRtl){T.left=U.negativeScrollAdjustment+V.scrollLeft+U.containerWidth-U.contentWidth}else{T.left=V.scrollLeft}if(U.isScrollbarXUsingBottom){T.bottom=U.scrollbarXBottom-V.scrollTop}else{T.top=U.scrollbarXTop+V.scrollTop}E(U.scrollbarXRail,T);var W={top:V.scrollTop,height:U.railYHeight};if(U.isScrollbarYUsingRight){if(U.isRtl){W.right=U.contentWidth-(U.negativeScrollAdjustment+V.scrollLeft)-U.scrollbarYRight-U.scrollbarYOuterWidth}else{W.right=U.scrollbarYRight-V.scrollLeft}}else{if(U.isRtl){W.left=U.negativeScrollAdjustment+V.scrollLeft+U.containerWidth*2-U.contentWidth-U.scrollbarYLeft-U.scrollbarYOuterWidth}else{W.left=U.scrollbarYLeft+V.scrollLeft}}E(U.scrollbarYRail,W);E(U.scrollbarX,{left:U.scrollbarXLeft,width:U.scrollbarXWidth-U.railBorderXWidth});E(U.scrollbarY,{top:U.scrollbarYTop,height:U.scrollbarYHeight-U.railBorderYWidth})}var J=function(T){T.event.bind(T.scrollbarY,"click",function(U){U.preventDefault();return U.stopPropagation()});T.event.bind(T.scrollbarYRail,"click",function(U){U.preventDefault();return U.stopPropagation()});T.event.bind(T.scrollbarY,"mousedown",function(U){U.preventDefault();return U.stopPropagation()});T.event.bind(T.scrollbarYRail,"mousedown",function(W){var U=W.pageY-window.pageYOffset-T.scrollbarYRail.getBoundingClientRect().top;var V=U>T.scrollbarYTop?1:-1;T.element.scrollTop+=V*T.containerHeight;d(T);W.preventDefault();W.stopPropagation()});T.event.bind(T.scrollbarX,"mousedown",function(U){U.preventDefault();return U.stopPropagation()});T.event.bind(T.scrollbarXRail,"mousedown",function(W){var U=W.pageX-window.pageXOffset-T.scrollbarXRail.getBoundingClientRect().left;var V=U>T.scrollbarXLeft?1:-1;T.element.scrollLeft+=V*T.containerWidth;d(T);W.preventDefault();W.stopPropagation()})};var C=function(T){G(T,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x"]);G(T,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y"])};function G(aa,V){var ai=V[0];var af=V[1];var X=V[2];var W=V[3];var ac=V[4];var ag=V[5];var U=V[6];var ad=V[7];var Z=aa.element;var ae=null;var T=null;var Y=null;function ab(aj){Z[U]=ae+Y*(aj[X]-T);H(aa,ad);d(aa);aj.stopPropagation();aj.preventDefault()}function ah(aj){R(aa,ad);aj.stopPropagation();aj.preventDefault();aa.event.unbind(aa.ownerDocument,"mousemove",ab)}aa.event.bind(aa[ac],"mousedown",function(aj){ae=Z[U];T=aj[X];Y=(aa[af]-aa[ai])/(aa[W]-aa[ag]);aa.event.bind(aa.ownerDocument,"mousemove",ab);aa.event.once(aa.ownerDocument,"mouseup",ah);aj.stopPropagation();aj.preventDefault()})}var v=function(W){var V=W.element;var U=function(){return a(V,":hover")};var T=function(){return a(W.scrollbarX,":focus")||a(W.scrollbarY,":focus")};function X(Z,Y){var aa=V.scrollTop;if(Z===0){if(!W.scrollbarYActive){return false}if((aa===0&&Y>0)||(aa>=W.contentHeight-W.containerHeight&&Y<0)){return !W.settings.wheelPropagation}}var ab=V.scrollLeft;if(Y===0){if(!W.scrollbarXActive){return false}if((ab===0&&Z<0)||(ab>=W.contentWidth-W.containerWidth&&Z>0)){return !W.settings.wheelPropagation}}return true}W.event.bind(W.ownerDocument,"keydown",function(ab){if((ab.isDefaultPrevented&&ab.isDefaultPrevented())||ab.defaultPrevented){return}if(!U()&&!T()){return}var aa=document.activeElement?document.activeElement:W.ownerDocument.activeElement;if(aa){if(aa.tagName==="IFRAME"){aa=aa.contentDocument.activeElement}else{while(aa.shadowRoot){aa=aa.shadowRoot.activeElement}}if(f(aa)){return}}var Z=0;var Y=0;switch(ab.which){case 37:if(ab.metaKey){Z=-W.contentWidth}else{if(ab.altKey){Z=-W.containerWidth}else{Z=-30}}break;case 38:if(ab.metaKey){Y=W.contentHeight}else{if(ab.altKey){Y=W.containerHeight}else{Y=30}}break;case 39:if(ab.metaKey){Z=W.contentWidth}else{if(ab.altKey){Z=W.containerWidth}else{Z=30}}break;case 40:if(ab.metaKey){Y=-W.contentHeight}else{if(ab.altKey){Y=-W.containerHeight}else{Y=-30}}break;case 32:if(ab.shiftKey){Y=W.containerHeight}else{Y=-W.containerHeight}break;case 33:Y=W.containerHeight;break;case 34:Y=-W.containerHeight;break;case 36:Y=W.contentHeight;break;case 35:Y=-W.contentHeight;break;default:return}if(W.settings.suppressScrollX&&Z!==0){return}if(W.settings.suppressScrollY&&Y!==0){return}V.scrollTop-=Y;V.scrollLeft+=Z;d(W);if(X(Z,Y)){ab.preventDefault()}})};var u=function(V){var U=V.element;function Y(aa,Z){var ab=U.scrollTop===0;var af=U.scrollTop+U.offsetHeight===U.scrollHeight;var ae=U.scrollLeft===0;var ad=U.scrollLeft+U.offsetWidth===U.offsetWidth;var ac;if(Math.abs(Z)>Math.abs(aa)){ac=ab||af}else{ac=ae||ad}return ac?!V.settings.wheelPropagation:true}function W(ab){var aa=ab.deltaX;var Z=-1*ab.deltaY;if(typeof aa==="undefined"||typeof Z==="undefined"){aa=-1*ab.wheelDeltaX/6;Z=ab.wheelDeltaY/6}if(ab.deltaMode&&ab.deltaMode===1){aa*=10;Z*=10}if(aa!==aa&&Z!==Z){aa=0;Z=ab.wheelDelta}if(ab.shiftKey){return[-Z,-aa]}return[aa,Z]}function X(ae,aa,Z){if(!l.isWebKit&&U.querySelector("select:focus")){return true}if(!U.contains(ae)){return false}var af=ae;while(af&&af!==U){if(af.classList.contains(g.element.consuming)){return true}var ab=O(af);var ag=[ab.overflow,ab.overflowX,ab.overflowY].join("");if(ag.match(/(scroll|auto)/)){var ad=af.scrollHeight-af.clientHeight;if(ad>0){if(!(af.scrollTop===0&&Z>0)&&!(af.scrollTop===ad&&Z<0)){return true}}var ac=af.scrollLeft-af.clientWidth;if(ac>0){if(!(af.scrollLeft===0&&aa<0)&&!(af.scrollLeft===ac&&aa>0)){return true}}}af=af.parentNode}return false}function T(ad){var ac=W(ad);var aa=ac[0];var Z=ac[1];if(X(ad.target,aa,Z)){return}var ab=false;if(!V.settings.useBothWheelAxes){U.scrollTop-=Z*V.settings.wheelSpeed;U.scrollLeft+=aa*V.settings.wheelSpeed}else{if(V.scrollbarYActive&&!V.scrollbarXActive){if(Z){U.scrollTop-=Z*V.settings.wheelSpeed}else{U.scrollTop+=aa*V.settings.wheelSpeed}ab=true}else{if(V.scrollbarXActive&&!V.scrollbarYActive){if(aa){U.scrollLeft+=aa*V.settings.wheelSpeed}else{U.scrollLeft-=Z*V.settings.wheelSpeed}ab=true}}}d(V);ab=ab||Y(aa,Z);if(ab&&!ad.ctrlKey){ad.stopPropagation();ad.preventDefault()}}if(typeof window.onwheel!=="undefined"){V.event.bind(U,"wheel",T)}else{if(typeof window.onmousewheel!=="undefined"){V.event.bind(U,"mousewheel",T)}}};var N=function(Z){if(!l.supportsTouch&&!l.supportsIePointer){return}var aa=Z.element;function T(ai,ah){var al=aa.scrollTop;var am=aa.scrollLeft;var ak=Math.abs(ai);var aj=Math.abs(ah);if(aj>ak){if((ah<0&&al===Z.contentHeight-Z.containerHeight)||(ah>0&&al===0)){return window.scrollY===0&&ah>0&&l.isChrome}}else{if(ak>aj){if((ai<0&&am===Z.contentWidth-Z.containerWidth)||(ai>0&&am===0)){return true}}}return true}function ag(ai,ah){aa.scrollTop-=ah;
aa.scrollLeft-=ai;d(Z)}var ac={};var U=0;var W={};var Y=null;function af(ah){if(ah.targetTouches){return ah.targetTouches[0]}else{return ah}}function X(ah){if(ah.pointerType&&ah.pointerType==="pen"&&ah.buttons===0){return false}if(ah.targetTouches&&ah.targetTouches.length===1){return true}if(ah.pointerType&&ah.pointerType!=="mouse"&&ah.pointerType!==ah.MSPOINTER_TYPE_MOUSE){return true}return false}function V(ah){if(!X(ah)){return}var ai=af(ah);ac.pageX=ai.pageX;ac.pageY=ai.pageY;U=new Date().getTime();if(Y!==null){clearInterval(Y)}}function ab(am,ai,ah){if(!aa.contains(am)){return false}var an=am;while(an&&an!==aa){if(an.classList.contains(g.element.consuming)){return true}var aj=O(an);var ao=[aj.overflow,aj.overflowX,aj.overflowY].join("");if(ao.match(/(scroll|auto)/)){var al=an.scrollHeight-an.clientHeight;if(al>0){if(!(an.scrollTop===0&&ah>0)&&!(an.scrollTop===al&&ah<0)){return true}}var ak=an.scrollLeft-an.clientWidth;if(ak>0){if(!(an.scrollLeft===0&&ai<0)&&!(an.scrollLeft===ak&&ai>0)){return true}}}an=an.parentNode}return false}function ad(al){if(X(al)){var an=af(al);var ak={pageX:an.pageX,pageY:an.pageY};var ai=ak.pageX-ac.pageX;var ah=ak.pageY-ac.pageY;if(ab(al.target,ai,ah)){return}ag(ai,ah);ac=ak;var aj=new Date().getTime();var am=aj-U;if(am>0){W.x=ai/am;W.y=ah/am;U=aj}if(T(ai,ah)){al.preventDefault()}}}function ae(){if(Z.settings.swipeEasing){clearInterval(Y);Y=setInterval(function(){if(Z.isInitialized){clearInterval(Y);return}if(!W.x&&!W.y){clearInterval(Y);return}if(Math.abs(W.x)<0.01&&Math.abs(W.y)<0.01){clearInterval(Y);return}ag(W.x*30,W.y*30);W.x*=0.8;W.y*=0.8},10)}}if(l.supportsTouch){Z.event.bind(aa,"touchstart",V);Z.event.bind(aa,"touchmove",ad);Z.event.bind(aa,"touchend",ae)}else{if(l.supportsIePointer){if(window.PointerEvent){Z.event.bind(aa,"pointerdown",V);Z.event.bind(aa,"pointermove",ad);Z.event.bind(aa,"pointerup",ae)}else{if(window.MSPointerEvent){Z.event.bind(aa,"MSPointerDown",V);Z.event.bind(aa,"MSPointerMove",ad);Z.event.bind(aa,"MSPointerUp",ae)}}}}};var S=function(){return({handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1000,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:false,suppressScrollY:false,swipeEasing:true,useBothWheelAxes:false,wheelPropagation:false,wheelSpeed:1})};var c={"click-rail":J,"drag-thumb":C,keyboard:v,wheel:u,touch:N};var s=function s(V,Y){var aa=this;if(Y===void 0){Y={}}if(typeof V==="string"){V=document.querySelector(V)}if(!V||!V.nodeName){throw new Error("no element is specified to initialize PerfectScrollbar")}this.element=V;V.classList.add(g.main);this.settings=S();for(var U in Y){aa.settings[U]=Y[U]}this.containerWidth=null;this.containerHeight=null;this.contentWidth=null;this.contentHeight=null;var T=function(){return V.classList.add(g.state.focus)};var Z=function(){return V.classList.remove(g.state.focus)};this.isRtl=O(V).direction==="rtl";this.isNegativeScroll=(function(){var ac=V.scrollLeft;var ab=null;V.scrollLeft=-1;ab=V.scrollLeft<0;V.scrollLeft=ac;return ab})();this.negativeScrollAdjustment=this.isNegativeScroll?V.scrollWidth-V.clientWidth:0;this.event=new D();this.ownerDocument=V.ownerDocument||document;this.scrollbarXRail=P(g.element.rail("x"));V.appendChild(this.scrollbarXRail);if(this.settings.margin){this.scrollbarXRail.style.margin=this.settings.margin}this.scrollbarX=P(g.element.thumb("x"));this.scrollbarXRail.appendChild(this.scrollbarX);this.scrollbarX.setAttribute("tabindex",0);this.event.bind(this.scrollbarX,"focus",T);this.event.bind(this.scrollbarX,"blur",Z);this.scrollbarXActive=null;this.scrollbarXWidth=null;this.scrollbarXLeft=null;var X=O(this.scrollbarXRail);this.scrollbarXBottom=parseInt(X.bottom,10);if(isNaN(this.scrollbarXBottom)){this.isScrollbarXUsingBottom=false;this.scrollbarXTop=o(X.top)}else{this.isScrollbarXUsingBottom=true}this.railBorderXWidth=o(X.borderLeftWidth)+o(X.borderRightWidth);E(this.scrollbarXRail,{display:"block"});this.railXMarginWidth=o(X.marginLeft)+o(X.marginRight);E(this.scrollbarXRail,{display:""});this.railXWidth=null;this.railXRatio=null;this.scrollbarYRail=P(g.element.rail("y"));V.appendChild(this.scrollbarYRail);if(this.settings.margin){this.scrollbarYRail.style.margin=this.settings.margin}this.scrollbarY=P(g.element.thumb("y"));this.scrollbarYRail.appendChild(this.scrollbarY);this.scrollbarY.setAttribute("tabindex",0);this.event.bind(this.scrollbarY,"focus",T);this.event.bind(this.scrollbarY,"blur",Z);this.scrollbarYActive=null;this.scrollbarYHeight=null;this.scrollbarYTop=null;var W=O(this.scrollbarYRail);this.scrollbarYRight=parseInt(W.right,10);if(isNaN(this.scrollbarYRight)){this.isScrollbarYUsingRight=false;this.scrollbarYLeft=o(W.left)}else{this.isScrollbarYUsingRight=true}this.scrollbarYOuterWidth=this.isRtl?M(this.scrollbarY):null;this.railBorderYWidth=o(W.borderTopWidth)+o(W.borderBottomWidth);E(this.scrollbarYRail,{display:"block"});this.railYMarginHeight=o(W.marginTop)+o(W.marginBottom);E(this.scrollbarYRail,{display:""});this.railYHeight=null;this.railYRatio=null;this.reach={x:V.scrollLeft<=0?"start":V.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:V.scrollTop<=0?"start":V.scrollTop>=this.contentHeight-this.containerHeight?"end":null};this.isAlive=true;this.settings.handlers.forEach(function(ab){return c[ab](aa)});this.lastScrollTop=V.scrollTop;this.lastScrollLeft=V.scrollLeft;this.event.bind(this.element,"scroll",function(ab){return aa.onScroll(ab)});d(this)};s.prototype.hideX=function(){this.element.classList.remove(g.state.active("x"))};s.prototype.showX=function(){this.element.classList.add(g.state.active("x"))};s.prototype.hideY=function(){this.element.classList.remove(g.state.active("y"))};s.prototype.showY=function(){this.element.classList.add(g.state.active("y"))};s.prototype.update=function(){if(!this.isAlive){return}this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0;E(this.scrollbarXRail,{display:"block"});E(this.scrollbarYRail,{display:"block"});this.railXMarginWidth=o(O(this.scrollbarXRail).marginLeft)+o(O(this.scrollbarXRail).marginRight);this.railYMarginHeight=o(O(this.scrollbarYRail).marginTop)+o(O(this.scrollbarYRail).marginBottom);E(this.scrollbarXRail,{display:"none"});E(this.scrollbarYRail,{display:"none"});d(this);h(this,"top",0,false,true);h(this,"left",0,false,true);E(this.scrollbarXRail,{display:""});E(this.scrollbarYRail,{display:""})};s.prototype.onScroll=function p(T){if(!this.isAlive){return}d(this);h(this,"top",this.element.scrollTop-this.lastScrollTop);h(this,"left",this.element.scrollLeft-this.lastScrollLeft);this.lastScrollTop=this.element.scrollTop;this.lastScrollLeft=this.element.scrollLeft};s.prototype.destroy=function K(){if(!this.isAlive){return}this.event.unbindAll();F(this.scrollbarX);F(this.scrollbarY);F(this.scrollbarXRail);F(this.scrollbarYRail);this.removePsClasses();this.element=null;this.scrollbarX=null;this.scrollbarY=null;this.scrollbarXRail=null;
this.scrollbarYRail=null;this.isAlive=false};s.prototype.removePsClasses=function r(){this.element.className=this.element.className.split(" ").filter(function(T){return !T.match(/^ps([-_].+|)$/)}).join(" ")};return s})));if(!window.DRAGGABLE){window.DRAGGABLE={}}if(!window.DRAGGABLE.ui){window.DRAGGABLE.ui={windowId:0,menuId:0,slideId:0,oneTimeCloseFunction:null,lastOpen:null}}DRAGGABLE.ui.Window=function(e,j,d,h,a){var c=this;var f=d||{};this.id=++DRAGGABLE.ui.windowId;this.title=f.title||"";this.top=f.top||0;this.left=f.left||0;this.width=f.width||"";this.height=f.height||"";this.minWidth=f.minWidth||160;this.minHeight=f.minHeight||(24+(a?76:0));this.hasStatusBar=f.statusbar||false;this.alternativeResize=f.alternativeResize||false;this.translator=f.translator||null;this.zIndex=f.zIndex?f.zIndex:100;this.draggable=typeof f.draggable!=="undefined"?f.draggable:true;var g=document.createElement("DIV");g.setAttribute("id","draggableWindow"+this.id);g.setAttribute("class","draggableWindow"+(this.draggable?"":" noShadow"));this.topDiv=g;this.topDiv.style.zIndex=this.zIndex;if(!e){document.body.appendChild(this.topDiv)}else{if(typeof e==="string"){this.parent=document.getElementById(e)}else{this.parent=e}this.parent.appendChild(this.topDiv)}if(!this.draggable){this.topDiv.style.position="relative";this.topDiv.style.margin="1px"}else{if(this.parent){this.topDiv.style.position="absolute"}this.minTop=1;this.minLeft=1}if(h){this.defineCallback(h)}if(this.topDiv.style.top===""){this.topDiv.style.top=this.top}if(this.topDiv.style.left===""){this.topDiv.style.left=this.left}if(this.topDiv.style.height===""){this.topDiv.style.height=this.height}if(this.topDiv.style.width===""){this.topDiv.style.width=this.width}var g=document.createElement("DIV");g.setAttribute("id","dMenu"+this.id);g.setAttribute("class","draggableMenu gradiente");this.topDiv.appendChild(g);this.menuDiv=g;if(a){var g=document.createElement("DIV");g.setAttribute("id","dToolBar"+this.id);g.setAttribute("class","draggableToolBar");this.topDiv.appendChild(g);this.toolBar=g}g=document.createElement("DIV");g.setAttribute("id","draggableData"+this.id);g.setAttribute("class","draggableData");this.topDiv.appendChild(g);this.dataDiv=g;if(this.alternativeResize){this.hasStatusBar=false;this.topDiv.style.overflow="visible";g=document.createElement("DIV");g.setAttribute("id","draggableStatusResize"+this.id);g.setAttribute("class","draggableAlternativeResize");this.topDiv.appendChild(g);this.resizeCorner=g;this.resizeCorner.innerHTML='<img src="images/corner_resize.gif">'}else{if(this.hasStatusBar){this.dataDiv.setAttribute("class","draggableData withStatusBar");g=document.createElement("DIV");g.setAttribute("id","draggableStatus"+this.id);g.setAttribute("class","draggableStatus");this.topDiv.appendChild(g);this.bottomBar=g;g=document.createElement("DIV");g.setAttribute("id","draggableStatusMsgLine"+this.id);g.setAttribute("class","draggableStatusMsgLine");this.bottomBar.appendChild(g);this.messageLine=g;g=document.createElement("DIV");g.setAttribute("id","draggableStatusResize"+this.id);g.setAttribute("class","draggableStatusResize");this.bottomBar.appendChild(g);this.resizeCorner=g;this.resizeCorner.innerHTML='<img src="images/statusbar_resize.gif">'}}this.calcMinHeight=function(){this.minHeight=(this.menuDiv?this.menuDiv.clientHeight:0)+(this.toolBar&&this.toolBar.style.display!=="none"?this.toolBar.clientHeight:0)+(this.bottomBar&&this.bottomBar.style.display!=="none"?this.bottomBar.clientHeight+3:0)};if(this.alternativeResize||this.hasStatusBar){this.divResize=function(s){s.stopPropagation();s.preventDefault();var r=s.changedTouches;var q={x:s.clientX,y:s.clientY};if(r){var m=r.length-1;q.x=r[m].clientX;q.y=r[m].clientY}s.preventDefault();c.calcMinHeight();var k=(c.topDiv.clientWidth+q.x-c.x);var o=(c.topDiv.clientHeight+q.y-c.y);c.topDiv.style.width=(k<c.minWidth?c.minWidth:k)+"px";c.topDiv.style.height=(o<c.minHeight?c.minHeight:o)+"px";c.x=q.x;c.y=q.y;c.eventsCentral("RESIZE")};this.mouseEndResize=function(k){k.stopPropagation();k.preventDefault();window.removeEventListener("mouseup",c.mouseEndResize,false);window.removeEventListener("touchend",c.mouseEndResize,false);window.removeEventListener("touchmove",c.divResize,false);window.removeEventListener("touchleave",c.divResize,false);window.removeEventListener("mousemove",c.divResize,false);window.removeEventListener("mouseout",c.divResize,false);c.dataDiv.style.pointerEvents="auto";c.eventsCentral("RESIZE")};this.mouseResize=function(k){k.stopPropagation();k.preventDefault();c.dataDiv.style.pointerEvents="none";window.addEventListener("mouseup",c.mouseEndResize,false);window.addEventListener("touchend",c.mouseEndResize,false);window.addEventListener("touchmove",c.divResize,false);window.addEventListener("touchleave",c.divResize,false);window.addEventListener("mousemove",c.divResize,false);window.addEventListener("mouseout",c.divResize,false);c.x=k.clientX;c.y=k.clientY};this.resizeCorner.addEventListener("mouseover",function(){c.resizeCorner.style.cursor="nwse-resize"},false);this.resizeCorner.addEventListener("mousedown",this.mouseResize,false);this.resizeCorner.addEventListener("touchstart",this.mouseResize,false)}this.divMove=function(r){r.preventDefault();r.stopPropagation();var q=r.changedTouches;var o={x:r.clientX,y:r.clientY};if(q){var m=q.length-1;o.x=q[m].clientX;o.y=q[m].clientY}r.preventDefault();var s=((o.y-c.y)+parseInt(c.topDiv.style.top));var k=((o.x-c.x)+parseInt(c.topDiv.style.left));c.topDiv.style.top=(c.minTop&&s<c.minTop?c.minTop:s)+"px";c.topDiv.style.left=(c.minLeft&&k<c.minLeft?c.minLeft:k)+"px";c.x=o.x;c.y=o.y};this.mouseEndMove=function(k){k.stopPropagation();k.preventDefault();window.removeEventListener("mouseup",c.mouseEndMove,false);window.removeEventListener("touchend",c.mouseEndMove,false);window.removeEventListener("touchmove",c.divMove,false);window.removeEventListener("touchleave",c.divMove,false);window.removeEventListener("mousemove",c.divMove,false);window.removeEventListener("mouseout",c.divMove,false);c.dataDiv.style.pointerEvents="auto";c.eventsCentral("MOVE")};this.mouseMove=function(k){if(!c.draggable){k.preventDefault();k.stopPropagation();return}c.dataDiv.style.pointerEvents="none";window.addEventListener("mouseup",c.mouseEndMove,false);window.addEventListener("touchend",c.mouseEndMove,false);window.addEventListener("touchmove",c.divMove,false);window.addEventListener("touchleave",c.divMove,false);window.addEventListener("mousemove",c.divMove,false);window.addEventListener("mouseout",c.divMove,false);c.x=k.clientX;c.y=k.clientY};this.close=function(k){c.topDiv.style.display="none"};this.focus=function(k){if(c.draggable){c.topDiv.style.zIndex=c.zIndex+1000}};this.blur=function(k){c.topDiv.style.zIndex=c.zIndex};this.addButtons(this.id,j);this.addToolButtons(this.id,a);this.addTitle(this.id,this.title);this.topDiv.tabIndex=this.id;this.topDiv.addEventListener("focus",function(k){k.stopPropagation();k.preventDefault();c.focus()},false);
this.topDiv.addEventListener("blur",function(k){k.stopPropagation();k.preventDefault();c.blur()},false)};DRAGGABLE.ui.Window.prototype.formatStyleParam=function(a){a=(isNaN(a)===false)?""+a:a;return(a===""+parseInt(a)?a+"px":a)};DRAGGABLE.ui.Window.prototype.move=function(c,a){this.topDiv.style.left=this.formatStyleParam(c);this.topDiv.style.top=this.formatStyleParam(a)};DRAGGABLE.ui.Window.prototype.setSize=function(c,a){this.topDiv.style.width=this.formatStyleParam(c);this.topDiv.style.height=this.formatStyleParam(a)};DRAGGABLE.ui.Window.prototype.setVisible=function(a){this.topDiv.style.display=(a?"block":"none");(a)&&this.focus()};DRAGGABLE.ui.Window.prototype.setToolBarVisible=function(a){if(this.toolBar){this.toolBar.style.display=a?"block":"none";this.resize()}};DRAGGABLE.ui.Window.prototype.setStatusBarVisible=function(a){if(this.bottomBar){this.bottomBar.style.display=a?"block":"none";this.resize()}};DRAGGABLE.ui.Window.prototype.setStatusMessage=function(a){if(this.messageLine){this.messageLine.innerHTML=a}};DRAGGABLE.ui.Window.prototype.setButtonVisible=function(c,d){var a=this.actionList[c.toUpperCase()];if(a){a.style.display=d?"":"none"}};DRAGGABLE.ui.Window.prototype.setFloating=function(a){this.draggable=a;if(this.draggable){if(this.alternativeResize){this.resizeCorner.style.display="block"}this.topDiv.className="draggableWindow";if(this.parent){this.topDiv.style.position="absolute"}this.minTop=1;this.minLeft=1;this.focus()}else{if(this.alternativeResize){this.resizeCorner.style.display="none"}this.topDiv.className="draggableWindow noShadow";this.topDiv.style.position="relative";this.topDiv.style.margin="1px";this.blur()}};DRAGGABLE.ui.Window.prototype.resize=function(){this.calcMinHeight();this.dataDiv.style.height=(this.topDiv.clientHeight-this.minHeight)+"px"};DRAGGABLE.ui.Window.prototype.defineCallback=function(a){this.callback=a};DRAGGABLE.ui.Window.prototype.eventsCentral=function(c,a){if(this.callback){this.callback.listener[this.callback.method](c,a)}else{if(c==="CLOSE"){this.close()}}};DRAGGABLE.ui.Window.prototype.setTitle=function(d,a){var c="";if(a&&d!==""){c=a.getResource(d);this.titleSpan.setAttribute("data-translate",d)}else{this.titleSpan.removeAttribute("data-translate");c=(d?d:c)}this.titleSpan.innerHTML=c};DRAGGABLE.ui.Window.prototype.setSubTitle=function(e,a){var d="";if(a&&e!==""){var c=a.getResource(e);d=(c?"- "+c:d);this.subTitleSpan.setAttribute("data-translate",e)}else{this.subTitleSpan.removeAttribute("data-translate");d=(e?e:d)}this.subTitleSpan.innerHTML=d};DRAGGABLE.ui.Window.prototype.addTitle=function(g,e){var a=this,d,c="";var f=document.createElement("DIV");f.setAttribute("class","dTitle");if(e&&this.translator){d=this.translator.getResource(e);c='data-translate="'+e+'"'}f.innerHTML='<span id="dSpanTitle'+g+'" '+c+' style="padding-left: 6px; float:left; white-space: nowrap;">'+(d?d:e)+'</span><span id="dSpanSubTitle'+g+'" style="padding-left: 6px; float:left; white-space: nowrap;"></span>';a.menuDiv.appendChild(f);a.titleSpan=document.getElementById("dSpanTitle"+g);a.subTitleSpan=document.getElementById("dSpanSubTitle"+g);if(a.draggable&&a.menuDiv){a.menuDiv.addEventListener("mouseover",function(){a.menuDiv.style.cursor="move"},false)}a.menuDiv.addEventListener("mousedown",a.mouseMove,false);a.menuDiv.addEventListener("touchstart",a.mouseMove,false)};DRAGGABLE.ui.Window.prototype.addButtons=function(f,e){var d=["close"];var a=this;var c={CLOSE:"close",MOVE:"move",ROTATE:"rotate",GLOBE:"world",ZOOM:"zoom-in",HELP:"circle-question",POPIN:"popin",POPOUT:"popout",RESTORE:"restore",MAXIMIZE:"full-screen",APPLY:"tick",PRINT:"printer"};if(e){d=d.concat(e)}d.forEach(function(g){g=g.split("|");var k="";var o=g[0].toUpperCase();var m=g.length>1?g[1]:"";var l="ico-"+(c[o]?c[o]:o.toLowerCase());var j=g.length>1?g[1]:g[0];if(a.translator){m=a.translator.getResource(j);k='data-translate="'+j+'"'}var h='<i class="'+l+' ico-white" title="'+m+'" '+k+" ></i>";var p=document.createElement("DIV");p.setAttribute("id","d"+o+"Button"+f);p.setAttribute("class","dButton");p.innerHTML=o==="MOVE"?h:'<a href="">'+h+"</a>";a.addAction(o,p,a);a.menuDiv.appendChild(p)})};DRAGGABLE.ui.Window.prototype.addAction=function(d,e,a){if(!this.actionList){this.actionList={}}this.actionList[d]=e;if(d==="MOVE"){return}var c=function(f){f.preventDefault();f.stopPropagation();a.eventsCentral(d,e)};e.addEventListener("click",c,false);e.addEventListener("touchstart",c,false);e.addEventListener("mousedown",function(f){f.preventDefault();f.stopPropagation()},false)};DRAGGABLE.ui.Window.prototype.dispatchAction=function(a){this.eventsCentral(a,this.actionList[a])};DRAGGABLE.ui.Window.prototype.addToolButtons=function(e,d){if(!d){return}var a=this;var c={GUTTER:"list-numbered",REFRESH:"bolt",DOWNLOAD:"download",FONTSIZE:"fontsize",DROPDOWN:"open-down",OCTAVEDOWN:"octave-down",OCTAVEUP:"octave-up",FINDNREPLACE:"find-and-replace",UNDO:"undo",UNDOALL:"undo-all",REDO:"redo",REDOALL:"redo-all",LIGHTON:"lightbulb-on",READONLY:"lock-open"};d.forEach(function(f){f=f.split("|");var j="";var l=f[0].toUpperCase();var k=f.length>1?f[1]:"";var g=f.length>1?f[1]:f[0];if(a.translator){k=a.translator.getResource(g);j='data-translate="'+g+'"'}var o=document.createElement("DIV");o.id="d"+l+"Button"+e;a.toolBar.appendChild(o);if(l==="DROPDOWN"){o.className="dButton topMenu";if(typeof a.menu==="undefined"){a.menu={}}var m=f[1];a.menu[m]=new DRAGGABLE.ui.DropdownMenu(o,a.callback,[{title:"...",ddmId:m,tip:k,itens:[]}])}else{var h="ico-"+(c[l]?c[l]:l.toLowerCase());o.className="dButton";o.innerHTML='<a href="" ><i class="'+h+' ico-black ico-large" title="'+k+'" '+j+" ></i></a>";a.addAction(l,o,a)}})};DRAGGABLE.ui.Window.prototype.addPushButtons=function(h){for(var g=0;g<h.length;g++){var f,a;var c=h[g].split("|");var d=document.getElementById(c[0]);var e=c[1].split("-");switch(e[e.length-1].toUpperCase()){case"SEARCH":f="ico-search";a="pushbutton";break;case"REPLACE":f="ico-redo";a="pushbutton";break;case"REPLACEALL":f="ico-redo-all";a="pushbutton";break;case"YES":case"APPLY":f="ico-circle-tick";a="pushbutton";break;case"RESET":f="ico-circle-r";a="pushbutton";break;case"NO":case"CLOSE":case"CANCEL":f="ico-circle-error";a="pushbutton cancel";break}new DRAGGABLE.ui.PushButton(d,a,f,c[1],c[2],this)}};DRAGGABLE.ui.PushButton=function(g,c,h,a,j,f){var e="";var d=j?j:a;this.item=g;this.item.className=c;if(f.translator){j=f.translator.getResource(d);e='data-translate="'+d+'"'}this.item.innerHTML='<i class="'+h+'" ></i><span '+e+">"+j+"</span></div>";this.item.addEventListener("click",function(k){k.preventDefault();k.stopPropagation();f.eventsCentral(a.toUpperCase(),g)},false)};if(!window.DRAGGABLE){window.DRAGGABLE={}}if(!window.DRAGGABLE.ui){window.DRAGGABLE.ui={windowId:0,menuId:0,slideId:0,oneTimeCloseFunction:null,lastOpen:null}}DRAGGABLE.ui.DropdownMenu=function(o,q,c){var p=this;var a=q||{};this.headers={};this.id=++DRAGGABLE.ui.menuId;this.Lastkey={time:0,key:0,label:""};this.container=(typeof o==="object")?o:document.getElementById(o);
this.listener=a.listener||null;this.method=a.method||null;this.translate=a.translate||false;if(!this.container){waterbug.log("Elemento "+o+" não existe!");return}else{this.container.innerHTML=""}for(var f=0;f<c.length;f++){var d=c[f].ddmId||("ddm"+this.id+f);var l=document.createElement("div");l.setAttribute("class","dropdown");this.container.appendChild(l);var k=document.createElement("input");k.setAttribute("type","checkbox");l.appendChild(k);this.headers[d]={div:null,chk:k,btn:null,list:null,actionList:{},labelList:{}};k=document.createElement("button");if(c[f].tip){k.setAttribute("data-translate",d);k.setAttribute("title",c[f].tip)}k.setAttribute("data-ddm",d);var e=this.translate?'<span data-translate="'+d+'" >':"<span>";k.innerHTML=e+(c[f].title||"")+'</span>&#160;<i class="ico-open-down" data-toggle="toggle"></i>';k.addEventListener("click",function(m){m.stopPropagation();m.preventDefault();p.eventsCentral(this.getAttribute("data-ddm"))},false);k.addEventListener("touchstart",function(m){m.stopPropagation();m.preventDefault();p.eventsCentral(this.getAttribute("data-ddm"))},false);k.addEventListener("keydown",function(m){m.stopPropagation();m.preventDefault()});k.addEventListener("keyup",function(r){r.stopPropagation();r.preventDefault();var s=this.getAttribute("data-ddm");switch(r.keyCode){case 27:if(DRAGGABLE.ui.oneTimeCloseFunction){DRAGGABLE.ui.oneTimeCloseFunction()}break;case 13:if(DRAGGABLE.ui.lastOpen&&p.headers[DRAGGABLE.ui.lastOpen].highlightItem){p.eventsCentral(DRAGGABLE.ui.lastOpen,p.headers[DRAGGABLE.ui.lastOpen].highlightItem)}break;case 33:case 34:var m=7;while(p.highlightItem(DRAGGABLE.ui.lastOpen,r.keyCode===33)&&m>0){m--}break;case 36:case 35:while(p.highlightItem(DRAGGABLE.ui.lastOpen,r.keyCode===36)){}break;case 38:case 40:if(DRAGGABLE.ui.lastOpen){p.highlightItem(DRAGGABLE.ui.lastOpen,r.keyCode===38)}break;case 37:case 39:if(DRAGGABLE.ui.lastOpen){p.openMenu(DRAGGABLE.ui.lastOpen,r.keyCode===37)}break;default:if(r.keyCode>=65&&r.keyCode<=122){p.searchInMenu(DRAGGABLE.ui.lastOpen,r.keyCode)}break}});l.appendChild(k);this.headers[d].btn=k;var j=document.createElement("div");j.setAttribute("class","dropdown-menu ps--active-y");j.setAttribute("data-toggle","toggle-menu");l.appendChild(j);this.sbar=new PerfectScrollbar(j,{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],wheelSpeed:1,wheelPropagation:false,suppressScrollX:true,minScrollbarLength:100,swipeEasing:true,scrollingThreshold:500,margin:"4px 0 2px 0"});this.headers[d].div=j;j.addEventListener("transitionend",function(r){var m=this.scrollTop;this.scrollTop=10000;this.scrollTop=m;p.sbar.update()},false);var h=document.createElement("ul");j.appendChild(h);this.headers[d].list=h;for(var g=0;g<c[f].itens.length;g++){this.addItemSubMenu(d,c[f].itens[g])}}};DRAGGABLE.ui.DropdownMenu.prototype.dispatchAction=function(c,a){this.headers[c].actionList[a].getElementsByTagName("a")[0].click()};DRAGGABLE.ui.DropdownMenu.prototype.setVisible=function(a){this.container.style.display=a?"":"none"};DRAGGABLE.ui.DropdownMenu.prototype.getSubMenu=function(a){if(!this.headers[a]){waterbug.log("Menu não encontrado!");return false}return this.headers[a]};DRAGGABLE.ui.DropdownMenu.prototype.getSubItem=function(d,c){if(!this.getSubMenu(d)){return false}var a=c;if(typeof c==="string"){a=this.headers[d].actionList[c]}return(a?a:false)};DRAGGABLE.ui.DropdownMenu.prototype.disableSubItem=function(d,c){var a=this.getSubItem(d,c);if(!a){return false}a.style.pointerEvents="none";a.style.opacity="0.5"};DRAGGABLE.ui.DropdownMenu.prototype.enableSubItem=function(d,c){var a=this.getSubItem(d,c);if(!a){return false}a.style.pointerEvents="";a.style.opacity=""};DRAGGABLE.ui.DropdownMenu.prototype.disableSubMenu=function(a){if(!this.getSubMenu(a)){return false}this.headers[a].chk.checked=false;this.headers[a].btn.style.pointerEvents="none";this.headers[a].btn.style.opacity="0.5"};DRAGGABLE.ui.DropdownMenu.prototype.enableSubMenu=function(a){if(!this.getSubMenu(a)){return false}this.headers[a].chk.checked=false;this.headers[a].btn.style.pointerEvents="";this.headers[a].btn.style.opacity=""};DRAGGABLE.ui.DropdownMenu.prototype.emptySubMenu=function(a){if(!this.getSubMenu(a)){return false}this.headers[a].list.innerHTML=""};DRAGGABLE.ui.DropdownMenu.prototype.openMenu=function(g,f){var a,c=false,e;for(var d in this.headers){if(c){a=d;break}if(!f&&d===g){c=true}else{if(f&&e&&d===g){a=e;break}}e=d}if(!a){return false}this.eventsCentral(a)};DRAGGABLE.ui.DropdownMenu.prototype.searchInMenu=function(c,j){if(this.headers[c]===undefined){return}var a="";var k=this.headers[c].labelList;var f=String.fromCharCode(j).toUpperCase();var m=new Date().getTime();var d=3000;var h=(this.Lastkey.key===j&&this.Lastkey.time>(m-d));if(h){var g=false;for(var l in k){if(g){if(l.startsWith(f)){a=l;break}}else{if(this.headers[c].highlightItem&&l===this.Lastkey.label){g=true}}}}else{var e="";for(var l in k){if(e===""){e=l}if(l.startsWith(f)){a=l;break}}if(a===""){for(var l in k){if(l.charAt(0)>=f){a=e;break}e=l}}}if(a!==""){this.highlightItem(c,this.headers[c].labelList[a]);this.Lastkey={time:m,key:j,label:a}}};DRAGGABLE.ui.DropdownMenu.prototype.unhighlightItem=function(d){var a=d.actionlList;for(var c in a){d.actionList[c].className=""}if(d.highlightItem&&(!d.selectedItem||d.selectedItem!==d.actionList[d.highlightItem])){d.actionList[d.highlightItem].className="";delete d.highlightItem}};DRAGGABLE.ui.DropdownMenu.prototype.highlightItem=function(j,a){var d=a,e=false,g;var h=this.headers[j];var c=h.actionList;if(typeof a==="boolean"){d=false;for(var f in c){if(c[f].style.pointerEvents==="none"){continue}if((!h.highlightItem)||e){d=f;break}else{if(!a&&h.highlightItem&&h.highlightItem===f){e=true}else{if(a&&g&&h.highlightItem&&h.highlightItem===f){d=g;break}}}g=f}}if(!d){return false}this.unhighlightItem(h);h.highlightItem=d;if(!h.selectedItem||h.selectedItem!==c[h.highlightItem]){c[d].className="hover"}if(c[d].offsetTop+c[d].clientHeight>=h.div.scrollTop+h.div.clientHeight){h.div.scrollTop=c[d].offsetTop+(1.9*c[d].clientHeight)-h.div.clientHeight}if(c[d].offsetTop<h.div.scrollTop){h.div.scrollTop=c[d].offsetTop}return true};DRAGGABLE.ui.DropdownMenu.prototype.selectItem=function(e,c){var a=c;var d=this.headers[e];this.unhighlightItem(d);if(typeof c==="string"){a=this.headers[e].actionList[c]}if(!a){return false}if(this.headers[e].selectedItem){this.headers[e].selectedItem.className=""}a.className="selected";this.headers[e].selectedItem=a;return a};DRAGGABLE.ui.DropdownMenu.prototype.setSubMenuTitle=function(c,d){if(!this.headers[c]){waterbug.log("Menu não encontrado!");return}var a=d;if(typeof a!=="string"){a=d.getElementsByTagName("a")[0].innerHTML}if(!a){waterbug.log("Título não encontrado!");return false}this.headers[c].btn.innerHTML=(a||"")+'&#160;<i class="ico-open-down" data-toggle="toggle"></i>'};DRAGGABLE.ui.DropdownMenu.prototype.addItemSubMenu=function(a,e,h){var j=this,g;var k=e.split("|");if(!j.headers[a]){waterbug.log("Menu não encontrado!");
return}if(k[0].substring(0,3)==="---"){g=document.createElement("hr")}else{g=document.createElement("li");var d=k.length>1?k[1]:k[0];g.setAttribute("id",d);var f=document.createElement("a");var c=this.translate?'<span data-translate="'+d+'" >':"<span>";f.innerHTML=c+k[0]+"</span>";g.appendChild(f);this.addAction(a,d,g,this,k[0])}if(h>=0){j.headers[a].list.insertBefore(g,j.headers[a].list.children[h])}else{j.headers[a].list.appendChild(g)}return g};DRAGGABLE.ui.DropdownMenu.prototype.setListener=function(a,c){this.listener=a||null;this.method=c||"callback"};DRAGGABLE.ui.DropdownMenu.prototype.eventsCentral=function(f,c){var a=this;var d=this.headers[f];d.chk.checked=!d.chk.checked;if(DRAGGABLE.ui.oneTimeCloseFunction){DRAGGABLE.ui.oneTimeCloseFunction()}if(d.chk.checked){DRAGGABLE.ui.oneTimeCloseFunction=function(){d.chk.checked=false;DRAGGABLE.ui.lastOpen=null;a.unhighlightItem(d);document.removeEventListener("click",DRAGGABLE.ui.oneTimeCloseFunction,false);DRAGGABLE.ui.oneTimeCloseFunction=null};document.addEventListener("click",DRAGGABLE.ui.oneTimeCloseFunction);DRAGGABLE.ui.lastOpen=f;if(d.selectedItem){d.div.scrollTop=d.selectedItem.offsetTop-115}}if(c&&this.listener){this.listener[this.method](c)}};DRAGGABLE.ui.DropdownMenu.prototype.addAction=function(f,e,g,c,d){c.headers[f].actionList[e]=g;c.headers[f].labelList[d]=e;g.setAttribute("data-ddm",f);g.setAttribute("data-value",e);g.addEventListener("click",function(h){h.preventDefault();h.stopPropagation();c.eventsCentral(this.getAttribute("data-ddm"),this.getAttribute("data-value"))},false);var a=function(l){l.preventDefault();l.stopPropagation();c.mouseMovido=true;var k=l.changedTouches[0].pageY;var o=c.startY-k;var h=c.headers[f].div;if(Math.abs(o)>10){var j=h.scrollTop+o;if(j<0){h.scrollTop=0}else{if(j>(h.scrollHeight-h.ClientHeight)){h.scrollTop=(h.scrollHeight-h.ClientHeight)}else{h.scrollTop=j}}c.startY=k;c.moved=true}};g.addEventListener("touchstart",function(h){c.startY=h.changedTouches[0].pageY;c.moved=false;g.addEventListener("touchmove",a,false);h.preventDefault();h.stopPropagation()},false);g.addEventListener("touchend",function(h){g.removeEventListener("touchmove",a,false);a(h);if(!c.moved){h.preventDefault();h.stopPropagation();c.eventsCentral(this.getAttribute("data-ddm"),this.getAttribute("data-value"))}},false);g.addEventListener("mousedown",function(h){h.preventDefault();h.stopPropagation()},false);g.addEventListener("mouseout",function(h){h.preventDefault();h.stopPropagation()},false);g.addEventListener("mouseover",function(h){h.preventDefault();h.stopPropagation();if(c.mouseMovido){c.highlightItem(this.getAttribute("data-ddm"),this.getAttribute("data-value"))}c.mouseMovido=false},false)};if(!window.DRAGGABLE){window.DRAGGABLE={}}if(!window.DRAGGABLE.ui){window.DRAGGABLE.ui={windowId:0,menuId:0,slideId:0,oneTimeCloseFunction:null,lastOpen:null}}DRAGGABLE.ui.Alert=function(k,c,p,m,q){var j,g,l,e,o;q=q?q:{};this.translator=q.translator?q.translator:null;this.callback={listener:this,method:"alertCallback"};if(!k){this.parentCallback=null;var d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;j=f/2-350;g=d/2-150}else{this.parentCallback=k.callback;j=k.topDiv.offsetLeft+50;g=k.topDiv.offsetTop+50}var l=(c?"500px":"700px");var e="auto";j=q.x!==undefined?q.x:j;g=q.y!==undefined?q.y:g;l=q.w!==undefined?q.w:l;e=q.h!==undefined?q.h:e;this.container=new DRAGGABLE.ui.Window(null,null,{title:"AlertTitle",translator:this.translator,statusbar:false,top:g+"px",left:j+"px",width:l,height:e,zIndex:300},this.callback);this.container.dataDiv.innerHTML='<div class="dialog" >\n        <div class="flag"><i class="ico-circle-'+(c?"question":"exclamation")+'"></i></div>\n        <div class="text-group'+(c?"":" wide")+'">\n            <div class="title">'+p+'</div>\n            <div class="description">'+m+'</div>\n        </div>\n        <div id="pgAlert" class="pushbutton-group" style="right: 0; bottom: 0;" >            <div id="botao1Alert"></div>\n            <div id="botao2Alert"></div>\n        </div>\n    </div>';if(c){this.container.addPushButtons(["botao1Alert|"+c+"-YES|yes","botao2Alert|"+c+"-NO|no"])}else{this.container.addPushButtons(["botao1Alert|CLOSE|ok"])}this.modalPane=document.getElementById("modalPane");if(!this.modalPane){var a=document.createElement("DIV");a.id="modalPane";a.style="position:absolute; z-index:250; background-color:black; opacity:0.4; top:0; left:0; bottom:0; right:0; pointer-events: block; display:none;";document.body.appendChild(a);this.modalPane=a}this.modalPane.style.display="block";this.container.setVisible(true)};DRAGGABLE.ui.Alert.prototype.close=function(){this.modalPane.style.display="none";this.container.setVisible(false);this.container.topDiv.remove();this.container=null};DRAGGABLE.ui.Alert.prototype.alertCallback=function(c,a){switch(c){case"CLOSE":case"CANCEL":this.close();break;default:if(this.parentCallback){this.parentCallback.listener[this.parentCallback.method](c,a)}}};DRAGGABLE.ui.ReplaceDialog=function(g,e){var a,j,d="Localizar:",c="Substituir por:",f="Diferenciar maiúsculas e minúsculas",h="Pesquisar palavras inteiras";e=e?e:{};this.translator=e.translator?e.translator:null;this.parentCallback=g.callback;this.callback={listener:this,method:"dialogCallback"};a=Math.min(g.dataDiv.clientWidth/2-250,200);j=20;this.container=new DRAGGABLE.ui.Window(g.dataDiv,null,{title:"ReplaceDialogTitle",translator:this.translator,statusbar:false,top:j+"px",left:a+"px",width:"500px",height:"auto",zIndex:300},this.callback);if(this.translator){d=this.translator.getResource("searchTerm");c=this.translator.getResource("replaceTerm");f=this.translator.getResource("match_case");h=this.translator.getResource("whole_word")}this.container.dataDiv.innerHTML='<div class="dialog" >\n        <div class="flag"><i class="ico-find-and-replace"></i></div>\n        <div class="text-group">\n            <br><span data-translate="searchTerm">'+d+'</span><br><input id="searchTerm" type="text" value=""></input>\n            <br><input id="chk_match_case" type="checkbox"><span data-translate="match_case">'+f+'</span>\n            <br><input id="chk_whole_word" type="checkbox"><span data-translate="whole_word">'+h+'</span>\n            <br><br><span data-translate="replaceTerm">'+c+'</span><br><input id="replaceTerm" type="text" value=""></input>\n        </div>\n        <div id="pgAlert" class="pushbutton-group" style="right: 0; bottom: 0;" >            <div id="botao1Replace"></div>\n            <div id="botao2Replace"></div>\n            <div id="botao3Replace"></div>\n            <div id="botao4Replace"></div>\n        </div>\n    </div>';this.container.addPushButtons(["botao1Replace|search","botao2Replace|replace","botao3Replace|replaceall","botao4Replace|cancel"]);this.searchTerm=document.getElementById("searchTerm");this.replaceTerm=document.getElementById("replaceTerm");this.chkMatchCase=document.getElementById("chk_match_case");
this.chkWholeWord=document.getElementById("chk_whole_word");this.container.setVisible(true)};DRAGGABLE.ui.ReplaceDialog.prototype.close=function(){this.container.setVisible(false);this.container.topDiv.remove();this.container=null};DRAGGABLE.ui.ReplaceDialog.prototype.dialogCallback=function(c,a){switch(c){case"MOVE":break;case"CLOSE":case"CANCEL":this.close();break;default:this.parentCallback.listener[this.parentCallback.method]("DO-"+c,a,this.searchTerm.value,this.replaceTerm.value,this.chkMatchCase.checked,this.chkWholeWord.checked)}};DRAGGABLE.ui.ColorPicker=function(e,c){c=c?c:{};this.translator=c.translator?c.translator:null;this.container=new DRAGGABLE.ui.Window(null,["apply|select"],{title:"PickerTitle",translator:this.translator,draggable:true,width:"auto",height:"auto",zIndex:"200"},{listener:this,method:"pickerCallBack"});this.container.dataDiv.innerHTML='<div class="picker-group">    <canvas id="colorPickerCanvas"></canvas><br>    <input id="originalColor"></input>    <input id="newColor"></input></div>';this.originalColor=document.getElementById("originalColor");this.newColor=document.getElementById("newColor");this.cp=new KellyColorPicker({place:"colorPickerCanvas",size:190,input:"newColor"});var a=this;for(var d=0;d<e.length;d++){document.getElementById(e[d]).addEventListener("click",function(f){a.activate(this);f.stopPropagation()})}};DRAGGABLE.ui.ColorPicker.prototype.pickerCallBack=function(c,a){switch(c){case"MOVE":break;case"APPLY":this.item.style.backgroundColor=this.item.value=this.newColor.value;this.close();break;case"CLOSE":this.item.style.backgroundColor=this.item.value=this.originalColor.value;this.close()}};DRAGGABLE.ui.ColorPicker.prototype.close=function(){this.container.setVisible(false)};DRAGGABLE.ui.ColorPicker.prototype.activate=function(c){var a=this;var e=function(){a.close();this.removeEventListener("click",e,false)};document.addEventListener("click",e);this.item=c;this.container.topDiv.addEventListener("click",function(f){f.stopPropagation()});this.newColor.value=this.originalColor.value=this.item.value;this.originalColor.style.backgroundColor=this.item.value;this.cp.setColorByHex(this.item.value);var d=this.item.getBoundingClientRect();this.container.topDiv.style.top=(d.top+d.height/2-120)+"px";this.container.topDiv.style.left=d.left+d.width+5+"px";this.container.setVisible(true)};if(!window.DRAGGABLE){window.DRAGGABLE={}}if(!window.DRAGGABLE.ui){window.DRAGGABLE.ui={windowId:0,menuId:0,slideId:0,oneTimeCloseFunction:null,lastOpen:null}}DRAGGABLE.ui.Slider=function(d,j){var m=this;var x,w;var v,h,g;var s=j.color||"black";var a=j.bgcolor||"gray";var u=j.speed||100;var c=j.callback;var f=[];for(var t in document.styleSheets){if(document.styleSheets[t].href&&document.styleSheets[t].href.includes("styles4abcx")){f=document.styleSheets[t].cssRules?document.styleSheets[t].cssRules:document.styleSheets[t].rules;break}}for(var k=0;k<f.length;k++){if(f[k].selectorText===".slidebuttonDiv:hover"){g=f[k].style}if(f[k].selectorText===".slider::-webkit-slider-thumb"){h=f[k].style}if(f[k].selectorText===".slider::-moz-range-thumb"){v=f[k].style}}if(g){g.backgroundColor=s}if(h){h.backgroundColor=s}if(v){v.backgroundColor=s}this.step=j.step||1;this.id=++DRAGGABLE.ui.slideId;this.container=(typeof d==="object")?d:document.getElementById(d);this.container.className="slidecontainer";this.container.id="slider"+this.id;var z=document.createElement("div");z.className="layer1";z.style.backgroundColor=a;this.container.appendChild(z);var y=document.createElement("div");y.className="layer2";this.container.appendChild(y);this.label=document.createElement("label");z.appendChild(this.label);this.label.className="slidelabel";this.slider=document.createElement("input");this.leftButton=document.createElement("div");var o=document.createElement("label");this.leftButton.appendChild(o);y.appendChild(this.leftButton);this.leftButton.className="slidebuttonDiv";o.className="slidebutton rev180dg";o.innerHTML='<i class="ico-open-right" data-toggle="toggle"></i>';var q=document.createElement("div");q.appendChild(this.slider);y.appendChild(q);this.rightButton=document.createElement("div");var e=document.createElement("label");this.rightButton.appendChild(e);y.appendChild(this.rightButton);this.rightButton.className="slidebuttonDiv";e.className="slidebutton normal";e.innerHTML='<i class="ico-open-right" data-toggle="toggle"></i>';this.slider.type="range";this.slider.className="slider";this.slider.min=j.min||0;this.slider.max=j.max||100;this.slider.value=j.start||100;this.slider.step=1;m.label.innerHTML=(j.start||100)+"%";var p=function(l,r){m.slider.value=l;m.label.innerHTML=m.slider.value+"%";(r)&&(c)&&c(l)};this.slider.oninput=function(l){m.slider.step=m.step;p(parseInt(this.value),true);l.stopPropagation();l.preventDefault();m.slider.step=1};this.leftButton.onclick=function(l){p(parseInt(m.slider.value)-1,true);l.stopPropagation();l.preventDefault()};this.leftButton.onmousedown=function(l){x=setInterval(function(){p(parseInt(m.slider.value)-1)},u);l.stopPropagation();l.preventDefault()};this.leftButton.onmouseup=function(l){clearInterval(x);(c)&&c(m.slider.value)};this.leftButton.onmouout=function(l){clearInterval(x);(c)&&c(m.slider.value)};this.rightButton.onclick=function(l){p(parseInt(m.slider.value)+1,true);l.stopPropagation();l.preventDefault()};this.rightButton.onmousedown=function(l){w=setInterval(function(){p(parseInt(m.slider.value)+1)},u);l.stopPropagation();l.preventDefault()};this.rightButton.onmouseup=function(l){clearInterval(w);(c)&&c(m.slider.value)};this.rightButton.onmouseout=function(l){clearInterval(w);(c)&&c(m.slider.value)}};DRAGGABLE.ui.Slider.prototype.enable=function(){this.container.style.pointerEvents="all";this.container.style.backgroundColor="transparent";this.container.style.opacity="1"};DRAGGABLE.ui.Slider.prototype.disable=function(){this.container.style.pointerEvents="none";this.container.style.backgroundColor="gray";this.container.style.opacity="0.3"};DRAGGABLE.ui.Slider.prototype.getValue=function(){return this.slider.value};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.tablature){window.ABCXJS.tablature={}}ABCXJS.tablature.Accordion=function(a){this.loaded=undefined;this.tabLines=[];this.accordions=a.accordionMaps||[];this.translator=a.translator||null;this.transposer=new window.ABCXJS.parse.Transposer();if(this.accordions.length===0){throw new Error("No accordionMap found!")}this.render_opts={};this.setRenderOptions(a.render_keyboard_opts,true);if(a.id){this.loadById(a.id)}else{this.load(0)}};ABCXJS.tablature.Accordion.prototype.setRenderOptions=function(c,a){var d=c||{};this.render_opts.transpose=(typeof d.transpose==="undefined"?(a?false:this.render_opts.transpose):d.transpose);this.render_opts.mirror=(typeof d.mirror==="undefined"?(a?false:this.render_opts.mirror):d.mirror);this.render_opts.draggable=(typeof d.draggable==="undefined"?(a?false:this.render_opts.draggable):d.draggable);this.render_opts.show=(typeof d.show==="undefined"?(a?false:this.render_opts.show):d.show);
this.render_opts.label=(typeof d.label==="undefined"?(a?false:this.render_opts.label):d.label);this.render_opts.scale=(typeof d.scale==="undefined"?(a?1:this.render_opts.scale):d.scale);if(!a){DIATONIC.map.color.fill=(typeof d.fillColor==="undefined"?DIATONIC.map.color.fill:d.fillColor);DIATONIC.map.color.background=(typeof d.backgroundColor==="undefined"?DIATONIC.map.color.background:d.backgroundColor);DIATONIC.map.color.open=(typeof d.openColor==="undefined"?DIATONIC.map.color.open:d.openColor);DIATONIC.map.color.close=(typeof d.closeColor==="undefined"?DIATONIC.map.color.close:d.closeColor)}};ABCXJS.tablature.Accordion.prototype.loadById=function(c){for(var a=0;a<this.accordions.length;a++){if(this.accordions[a].id===c){return this.load(a)}}waterbug.log("Accordion not found. Loading the first one.");return this.load(0)};ABCXJS.tablature.Accordion.prototype.load=function(a){this.loaded=this.accordions[a];this.loadedKeyboard=this.loaded.keyboard;return this.loaded};ABCXJS.tablature.Accordion.prototype.accordionExists=function(e){var d=false;for(var c=0;c<this.accordions.length;c++){if(this.accordions[c].id===e){d=true}}return d};ABCXJS.tablature.Accordion.prototype.accordionIsCurrent=function(a){return(this.accordions.loaded&&this.accordions.loaded.id===a)};ABCXJS.tablature.Accordion.prototype.clearKeyboard=function(a){this.loadedKeyboard.clear(a)};ABCXJS.tablature.Accordion.prototype.changeNotation=function(){this.render_opts.label=!this.render_opts.label;this.loadedKeyboard.redraw(this.render_opts)};ABCXJS.tablature.Accordion.prototype.rotateKeyboard=function(a){var c=this.render_opts;if(c.transpose){c.mirror=!c.mirror}c.transpose=!c.transpose;this.printKeyboard(a)};ABCXJS.tablature.Accordion.prototype.scaleKeyboard=function(a){if(this.render_opts.scale<1.2){this.render_opts.scale+=0.2}else{this.render_opts.scale=0.8}this.printKeyboard(a)};ABCXJS.tablature.Accordion.prototype.printKeyboard=function(c,a){this.setRenderOptions(a);var d=(typeof(c)==="string"?document.getElementById(c):c);if(this.render_opts.show){d.style.display="inline-block";this.loadedKeyboard.print(d,this.render_opts,this.translator)}else{d.style.display="none"}};ABCXJS.tablature.Accordion.prototype.getId=function(){return this.loaded.getId()};ABCXJS.tablature.Accordion.prototype.getFullName=function(){return this.loaded.getFullName()};ABCXJS.tablature.Accordion.prototype.getTxtModel=function(){return this.loaded.getTxtModel()};ABCXJS.tablature.Accordion.prototype.getTxtNumButtons=function(){return this.loaded.getTxtNumButtons()};ABCXJS.tablature.Accordion.prototype.getTxtTuning=function(){return this.loaded.getTxtTuning()};ABCXJS.tablature.Accordion.prototype.getNoteName=function(k,g,c,e){var a=this.transposer.staffNoteToCromatic(this.transposer.extractStaffNote(k.pitch));var d=this.transposer.extractStaffOctave(k.pitch);var j=this.transposer.numberToKey(a);if(k.accidental){c[k.pitch]=this.transposer.getAccOffset(k.accidental);a+=c[k.pitch]}else{if(typeof(c[k.pitch])!=="undefined"){a+=c[k.pitch]}else{a+=this.transposer.getKeyAccOffset(j,g)}}d+=(a<0?-1:(a>11?1:0));a=(a<0?12+a:(a>11?a%12:a));var h=this.transposer.numberToKey(a);var f=a;if(k.chord){h=h.toLowerCase()}return{key:h,octave:d,isBass:e,isChord:k.chord,isMinor:k.minor,value:f}};ABCXJS.tablature.Accordion.prototype.inferTablature=function(d,g,h){var f=new ABCXJS.tablature.Infer(this,d,g);g.missingButtons={};g.invalidBasses="";for(var c=0;c<d.lines.length;c++){if(d.lines[c].staffs){var e=f.inferTabVoice(c);if(e.length>0){d.lines[c].staffs[d.tabStaffPos].voices[0]=e}}}if(g.invalidBasses.length>0){h("Baixo incompatível com o movimento do fole no(s) compasso(s): "+g.invalidBasses.substring(1,g.invalidBasses.length-1)+".")}if(g.missingButtons){for(var a in g.missingButtons){h('Nota "'+a+'" não disponível no(s) compasso(s): '+g.missingButtons[a].join(", ")+".")}}delete g.missingButtons;delete g.invalidBasses};ABCXJS.tablature.Accordion.prototype.parseTabVoice=function(d,c){var a=new ABCXJS.tablature.Parse(this,d,c);return a.parseTabVoice()};ABCXJS.tablature.Accordion.prototype.setTabLine=function(a){this.tabLines[this.tabLines.length]=a.trim()};ABCXJS.tablature.Accordion.prototype.getTabLines=function(){var c="";if(this.tabLines.length===0){return c}for(var a=0;a<this.tabLines.length;a++){if(this.tabLines[a].length>0){c+=this.tabLines[a]+"\n"}}this.tabLines=[];return c};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.tablature){window.ABCXJS.tablature={}}ABCXJS.tablature.Parse=function(a,d,c){this.accordion=a;this.invalid=false;this.finished=false;this.line=d;this.vars=c||{};this.bassNoteSyms="abcdefgABCDEFG>xz";this.trebNoteSyms="0123456789abcdefABCDEF>xz";this.durSyms="0123456789/.";this.belSyms="+-";this.barSyms=":]|[";this.accSyms="♭♯m";this.i=0;this.xi=0;this.offset=8.9;this.warn=function(g){var f=this.line.charAt(this.i);if(f===" "){f="SPACE"}var e=this.encode(this.line.substring(0,this.i))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+f+"</span>"+this.encode(this.line.substring(this.i+1));this.addWarning("Music Line:"+0+":"+(this.i+1)+": "+g+": "+e)};this.addWarning=function(e){if(!this.vars.warnings){this.vars.warnings=[]}this.vars.warnings.push(e)};this.encode=function(f){var e=window.ABCXJS.parse.gsub(f,"\x12"," ");e=window.ABCXJS.parse.gsub(e,"&","&amp;");e=window.ABCXJS.parse.gsub(e,"<","&lt;");return window.ABCXJS.parse.gsub(e,">","&gt;")}};ABCXJS.tablature.Parse.prototype.parseTabVoice=function(){var c=[];this.i=0;var a={el_type:"unrecognized"};while(this.i<this.line.length&&!this.finished){a=this.getToken();switch(a.el_type){case"bar":a.startChar=this.xi;a.endChar=this.i-1;if(!this.invalid){c[c.length]=a}this.vars.lastBarElem=a;break;case"note":if(this.vars.lastBarElem&&this.vars.lastBarElem.barNumber===undefined){this.vars.lastBarElem.barNumber=this.vars.currentVoice.currBarNumber++}if(!this.invalid){c[c.length]=this.formatChild(a)}break;case"comment":case"unrecognized":default:break}}return c};ABCXJS.tablature.Parse.prototype.formatChild=function(e){var c={el_type:e.el_type,startChar:this.xi,endChar:this.i-1,pitches:[],duration:e.duration*this.vars.default_length,bellows:e.bellows};var g=18;var j="tabText";if(e.bassNote.length>1){g=21.3;j="tabText2"}for(var k=0;k<e.bassNote.length;++k){if(e.bassNote[k]==="x"){this.registerMissingNote(this.vars.lastBarElem.barNumber)}if(!this.checkBassButton(e.bellows,e.bassNote[k])){this.registerInvalidBass(this.vars.lastBarElem.barNumber)}if(e.bassNote[k]==="z"){c.pitches[k]={bass:true,type:"rest",c:"scripts.tabrest",pitch:0.7+g-(k*3)}}else{c.pitches[k]={bass:true,type:j,c:this.getTabSymbol(e.bassNote[k]),pitch:g-(k*3)-0.5}}}var l=e.buttons.length;for(var h=0;h<e.buttons.length;h++){var d=c.pitches.length;if(e.buttons[h]==="x"){this.registerMissingNote(this.vars.lastBarElem.barNumber)}if(e.buttons[h]==="z"){c.pitches[d]={type:"rest",c:"scripts.tabrest",pitch:e.bellows==="+"?13.2:13.2-this.offset}}else{var f=(l>=3?-(this.offset-(2.8*(l-2))):-this.offset);var a=(l===1?11.7:13.4-(h*2.8))+(e.bellows==="+"?0:f);
c.pitches[d]={c:this.getTabSymbol(e.buttons[h]),type:"tabText"+(l>1?"2":""),pitch:a}}}if(e.startTriplet){c.startTriplet=e.startTriplet}if(e.endTriplet){c.endTriplet=e.endTriplet}return c};ABCXJS.tablature.Parse.prototype.getTabSymbol=function(a){switch(a){case">":return"scripts.rarrow";default:return a}};ABCXJS.tablature.Parse.prototype.getToken=function(){this.invalid=false;this.parseMultiCharToken(" \t");this.xi=this.i;switch(this.line.charAt(this.i)){case"%":this.finished=true;return{el_type:"comment",token:this.line.substr(this.i+1)};case"|":case":":return this.getBarLine();case"[":if(this.line.charAt(this.i+1)==="|"){return this.getBarLine()}default:return this.getColumn()}};ABCXJS.tablature.Parse.prototype.parseMultiCharToken=function(a){while(this.i<this.line.length&&a.indexOf(this.line.charAt(this.i))>=0){this.i++}};ABCXJS.tablature.Parse.prototype.getBarLine=function(){var c="1234567890,";var a={"|":"bar_thin","||":"bar_thin_thin","[|":"bar_thick_thin","|]":"bar_thin_thick",":|:":"bar_dbl_repeat",":||:":"bar_dbl_repeat","::":"bar_dbl_repeat","|:":"bar_left_repeat","||:":"bar_left_repeat","[|:":"bar_left_repeat",":|":"bar_right_repeat",":||":"bar_right_repeat",":|]":"bar_right_repeat"};if(this.triplet){this.triplet=false;this.warn("Expected triplet end but found "+this.line.charAt(this.i))}var d={el_type:"bar",type:"bar",token:undefined};var e=this.i;this.parseMultiCharToken(this.barSyms);d.token=this.line.substr(e,this.i-e);this.finished=this.i>=this.line.length;d.type=a[d.token];this.invalid=!d.type;if(!this.invalid){this.parseMultiCharToken(" \t");if(this.vars.inEnding){d.endDrawEnding=true;if(d.type!=="bar_thin"){d.endEnding=true;this.vars.inEnding=false}}if((!this.finished)&&c.indexOf(this.line.charAt(this.i))>=0){d.startEnding=this.line.charAt(this.i);if(this.vars.inEnding){d.endDrawEnding=true;d.endEnding=true}this.vars.inEnding=true;this.i++}}return d};ABCXJS.tablature.Parse.prototype.getColumn=function(){var c={el_type:"note",type:"note",bassNote:undefined,bellows:"",buttons:[],duration:1};c.bassNote=[];if(this.line.charAt(this.i)==="("){var a=this.getTripletDef();if(a){c.startTriplet=a;this.triplet=true}}while(this.belSyms.indexOf(this.line.charAt(this.i))<0){c.bassNote[c.bassNote.length]=this.getBassNote()}c.bellows=this.getBelows();c.buttons=this.getNote();c.duration=this.getDuration();if(this.isTripletEnd()){c.endTriplet=true}this.finished=this.i>=this.line.length;return c};ABCXJS.tablature.Parse.prototype.checkBassButton=function(d,a){var g=this.accordion.loadedKeyboard;if(!g||a===undefined||(".>.x.z.").indexOf(a)>0){return true}var h=g.parseNote(a.replace("m",":m"),true);for(var c=g.keyMap.length;c>g.keyMap.length-2;c--){for(var e=0;e<g.keyMap[c-1].length;e++){var f=g.keyMap[c-1][e];if(d==="+"){if(f.closeNote.key===h.key){return f}}else{if(f.openNote.key===h.key){return f}}}}return false};ABCXJS.tablature.Parse.prototype.getTripletDef=function(){var c=++this.i;while(this.i<this.line.length&&this.bassNoteSyms.indexOf(this.line.charAt(this.i))<0&&this.belSyms.indexOf(this.line.charAt(this.i))<0){this.i++}if(this.i>=this.line.length){this.warn("Triplet definition not found at "+this.line.substr(c));return null}var a=this.line.substr(c,this.i-c).trim();var f=/\[([0-9])(:{1,2}([0-9]){0,1})*\]/;var d=("["+a+"]").match(f);if(!d||!d[1]){this.warn("Invalid triplet definition at "+this.line.substr(c));return null}return{num:d[1],notes:d[3]?d[3]:d[1]}};ABCXJS.tablature.Parse.prototype.isTripletEnd=function(){this.parseMultiCharToken(" \t");if(this.line.charAt(this.i)===")"){this.i++;if(this.triplet){this.triplet=false;return true}else{this.warn("Found triplet end with no beginning."+this.line.substr(this.i-1));return false}}return false};ABCXJS.tablature.Parse.prototype.getBassNote=function(){var a="";if(this.bassNoteSyms.indexOf(this.line.charAt(this.i))<0){this.warn("Expected Bass Note but found "+this.line.charAt(this.i));this.i++}else{a=this.line.charAt(this.i);this.i++;if(this.accSyms.indexOf(this.line.charAt(this.i))>=0){a+=this.line.charAt(this.i);this.i++}}return a};ABCXJS.tablature.Parse.prototype.getDuration=function(){var dur=1;var p=this.i;this.parseMultiCharToken(this.durSyms);if(p!==this.i){dur=this.line.substr(p,this.i-p);if(isNaN(eval(dur))){this.warn("Expected numeric or fractional note duration, but found "+dur)}else{dur=eval(dur)}}return dur};ABCXJS.tablature.Parse.prototype.getBelows=function(){if(this.belSyms.indexOf(this.line.charAt(this.i))<0){this.warn("Expected belows information, but found "+this.line.charAt(this.i));this.invalid=true;return"+"}else{this.i++;return this.line.charAt(this.i-1)}};ABCXJS.tablature.Parse.prototype.getNote=function(){var a=[];switch(this.line.charAt(this.i)){case"[":this.i++;a=this.getChord();break;default:a[a.length]=this.getButton()}return a};ABCXJS.tablature.Parse.prototype.getChord=function(c){var a=[];while(this.i<this.line.length&&this.line.charAt(this.i)!=="]"){a[a.length]=this.getButton()}if(this.line.charAt(this.i)!=="]"){this.warn("Expected end of chord - ']'");this.invalid=true}else{this.i++}return a};ABCXJS.tablature.Parse.prototype.getButton=function(){var e="x";var d="";if(this.trebNoteSyms.indexOf(this.line.charAt(this.i))<0){this.warn("Expected button number, but found "+this.line.charAt(this.i))}else{e=this.line.charAt(this.i);switch(e){case">":case"x":case"z":break;default:e=isNaN(parseInt(e,16))?"x":parseInt(e,16).toString()}}this.i++;var a=this.i;this.parseMultiCharToken("'");if(a!==this.i){d=this.line.substr(a,this.i-a)}return e+d};ABCXJS.tablature.Parse.prototype.registerMissingNote=function(a){if(!this.vars.missingNotes){this.vars.missingNotes=","}if(this.vars.missingNotes.indexOf(""+a)<0){this.vars.missingNotes+=a+","}};ABCXJS.tablature.Parse.prototype.registerInvalidBass=function(a){if(!this.vars.InvalidBass){this.vars.InvalidBass=","}if(this.vars.InvalidBass.indexOf(""+a)<0){this.vars.InvalidBass+=a+","}};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.tablature){window.ABCXJS.tablature={}}ABCXJS.tablature.Infer=function(c,d,e){this.offset=8.9;this.multiplier=1;this.accordion=c;this.vars=e||{};this.tune=d;this.count=0;this.closing=this.tune.formatting.tabInferenceOpts>0?true:false;if(this.tune.lines&&this.tune.lines[0].staffs&&this.tune.lines[0].staffs[0].meter&&this.tune.lines[0].staffs[0].meter.type==="specified"){var a=this.tune.lines[0].staffs[0].meter.value[0];this.limit=a.num/a.den}else{this.limit=1}this.limit=this.limit*Math.abs(this.tune.formatting.tabInferenceOpts);this.reset();this.transposeTab=d.lines[0].staffs[d.tabStaffPos].clef.transpose||0;this.addWarning=function(f){if(!this.vars.warnings){this.vars.warnings=[]}this.vars.warnings.push(f)};this.barTypes={bar:"|",bar_thin:"|",bar_thin_thin:"||",bar_thick_thin:"[|",bar_thin_thick:"|]",bar_dbl_repeat:":|:",bar_left_repeat:"|:",bar_right_repeat:":|"}};ABCXJS.tablature.Infer.prototype.reset=function(){this.tuneCurrLine=0;this.voice=[];this.bassBarAcc=[];this.trebBarAcc=[];this.producedLine="";this.lastButton=-1;this.currInterval=1;
this.alertedMissSync=false};ABCXJS.tablature.Infer.prototype.inferTabVoice=function(l){if(this.tune.tabStaffPos<1||!this.tune.lines[l].staffs){return}this.reset();this.tuneCurrLine=l;var f=[];var a=this.tune.lines[this.tuneCurrLine].staffs[0];var h=a.voices;this.accTrebKey=a.key.accidentals;for(var e=0;e<h.length;e++){f.push({voz:h[e],pos:-1,st:"waiting for data",bass:false,wi:{},ties:[]})}if(this.tune.tabStaffPos===2){var d=this.tune.lines[this.tuneCurrLine].staffs[1];if(d){var g=d.voices;this.accBassKey=d.key.accidentals;for(var e=0;e<g.length;e++){f.push({voz:g[e],pos:-1,st:"waiting for data",bass:true,wi:{},ties:[]})}}else{this.addWarning("Possível falta da definição da linha de baixos.")}}var k=1;while(k>0){k=0;for(var c=0;c<f.length;c++){k=Math.max(this.read(f,c),k)}for(var c=0;c<f.length-1;c++){if(f[c].st!==f[c+1].st&&!this.alertedMissSync){this.addWarning("Possível falta de sincronismo no compasso "+this.currInterval+".");c=f.length;this.alertedMissSync=true}}switch(k){case 1:var e=0;while(e<f.length){if(f[e].wi.el_type&&f[e].wi.el_type==="bar"){this.addTABChild(ABCXJS.parse.clone(f[e].wi),l);e=f.length}else{e++}}for(var e=0;e<f.length;e++){if(f[e].st!=="closed"){f[e].st="waiting for data"}}this.bassBarAcc=[];this.trebBarAcc=[];break;case 2:this.addTABChild(this.extraiIntervalo(f),l);break}}this.accordion.setTabLine(this.producedLine);this.vars.iChar+=this.producedLine.length;return this.voice};ABCXJS.tablature.Infer.prototype.read=function(a,c){var d=a[c];switch(d.st){case"waiting for data":d.pos++;break;case"waiting end of interval":return 1;break;case"closed":return 0;break;case"processing":return 2;break}while(d.voz[d.pos]&&d.pos<d.voz.length&&(d.voz[d.pos].direction||d.voz[d.pos].title||d.voz[d.pos].root)){if(d.voz[d.pos].el_type==="key"){if(d.bass){this.accBassKey=d.voz[d.pos].accidentals}else{this.accTrebKey=d.voz[d.pos].accidentals}}d.pos++}if(d.pos<d.voz.length){d.wi=ABCXJS.parse.clone(d.voz[d.pos]);if(d.wi.barNumber&&d.wi.barNumber!==this.currInterval&&c===0){this.currInterval=d.wi.barNumber}if(d.wi.startTriplet){d.triplet=true;this.startTriplet=d.wi.startTriplet;this.multiplier=this.startTriplet.num===2?1.5:(this.startTriplet.num-1)/this.startTriplet.num}this.checkTies(d);d.st=(d.wi.el_type&&d.wi.el_type==="bar")?"waiting end of interval":"processing";return(d.wi.el_type&&d.wi.el_type==="bar")?1:2}else{d.st="closed";return 0}};ABCXJS.tablature.Infer.prototype.extraiIntervalo=function(f){var k=100;for(var e=0;e<f.length;e++){if(f[e].st==="processing"&&f[e].wi.duration&&f[e].wi.duration>0&&f[e].wi.duration*(f[e].triplet?this.multiplier:1)<k){k=f[e].wi.duration*(f[e].triplet?this.multiplier:1)}}var a={el_type:"note",duration:Number((k/this.multiplier).toFixed(5)),startChar:0,endChar:0,line:0,pitches:[],bassNote:[]};for(var e=0;e<f.length;e++){if(f[e].st!=="processing"){continue}var c=f[e].wi;if(c.rest){switch(c.rest.type){case"rest":if(f[e].bass){a.bassNote[a.bassNote.length]=ABCXJS.parse.clone(c.rest)}else{a.pitches[a.pitches.length]=ABCXJS.parse.clone(c.rest)}break;case"invisible":case"spacer":break}}else{if(c.pitches){ABCXJS.write.sortPitch(c.pitches);if(f[e].bass){var l=[];for(var d=0;d<c.pitches.length;d++){var g=this.accordion.getNoteName(c.pitches[d],this.accBassKey,this.bassBarAcc,true);l[d]=g.value+g.octave*12}var h=this.determineBassChord(l);if(h.isChord){c.pitches[0].pitch=c.pitches[h.inversion].pitch;c.pitches[0].verticalPos=c.pitches[h.inversion].verticalPos;c.pitches[0].chord=h.isChord;c.pitches[0].minor=h.isMinor;c.pitches.splice(1,c.pitches.length-1)}a.bassNote[a.bassNote.length]=ABCXJS.parse.clone(c.pitches[0])}else{for(var d=0;d<c.pitches.length;d++){a.pitches[a.pitches.length]=ABCXJS.parse.clone(c.pitches[d])}}}}this.setTies(f[e]);if(f[e].wi.duration){f[e].wi.duration-=k/(f[e].triplet?this.multiplier:1);if(f[e].wi.duration<=0.0001){f[e].st="waiting for data"}else{if(f[e].wi.pitches){for(var d=0;d<f[e].wi.pitches.length;d++){f[e].wi.pitches[d].inTie=true}}}}}for(var e=0;e<f.length;e++){var c=f[e];if(c.wi.endTriplet&&f[e].wi.duration<=0.0001){this.endTriplet=true;c.triplet=false;this.multiplier=1}}if(a.pitches.length===0&&a.bassNote.length===0){a.pitches[0]={type:"rest",c:"scripts.tabrest"}}return a};ABCXJS.tablature.Infer.prototype.determineBassChord=function(d){var a={isChord:false,isMinor:false,inversion:0};var c={"043":{isMinor:false,inversion:0},"034":{isMinor:true,inversion:0},"035":{isMinor:false,inversion:2},"045":{isMinor:true,inversion:2},"054":{isMinor:false,inversion:1},"053":{isMinor:true,inversion:1}};switch(d.length){case 1:break;case 2:this.addWarning("Acorde não reconhecido: 0"+(d[1]-d[0])+".");break;case 3:var g="0"+(d[1]-d[0])+(d[2]-d[1]);try{a={isChord:true,isMinor:c[g].isMinor,inversion:c[g].inversion}}catch(f){this.addWarning("Acorde não reconhecido: "+g+".")}break;default:this.addWarning("Acorde com mais de 3 notas não é suportado.");break}return a};ABCXJS.tablature.Infer.prototype.setTies=function(c){if(c.wi.el_type&&c.wi.el_type==="note"&&c.wi.pitches){for(var a=0;a<c.wi.pitches.length;a++){if(c.wi.pitches[a].tie){if(c.wi.pitches[a].tie.id_end){c.ties[c.wi.pitches[a].tie.id_end]=false}if(c.wi.pitches[a].tie.id_start){c.ties[c.wi.pitches[a].tie.id_start]=100+c.wi.pitches[a].pitch}}}}};ABCXJS.tablature.Infer.prototype.checkTies=function(e){if(e.wi.el_type&&e.wi.el_type==="note"&&e.wi.pitches){for(var c=1;c<e.ties.length;c++){var d=false;for(var a=0;a<e.wi.pitches.length;a++){d=d||(100+e.wi.pitches[a].pitch===e.ties[c])}if(!d&&e.ties[c]){e.wi.pitches.push({pitch:e.ties[c],verticalPos:e.ties[c],inTie:true})}}for(var a=0;a<e.wi.pitches.length;a++){if(e.wi.pitches[a].tie){if(e.wi.pitches[a].tie.id_end){e.wi.pitches[a].inTie=true}}}}};ABCXJS.tablature.Infer.prototype.addTABChild=function(k,m){var q=this.producedLine.length;if(k.el_type!=="note"){var r=0;if(this.barTypes[k.type]){r=this.registerLine(this.barTypes[k.type]+(k.startEnding?k.startEnding:"")+" ")}else{throw new Error("ABCXJS.tablature.Infer.prototype.addTABChild(token_type): "+k.type)}this.add(k,q,r-1,m);return}var j={el_type:k.el_type,startChar:0,endChar:0,line:0,pitches:[],duration:k.duration,bellows:""};var y=k.bassNote.length>0;var e=k.pitches;var l=true;var o=true;var w=true;var h=true;var f=false;var u=e.length;if(this.startTriplet){j.startTriplet=this.startTriplet;this.startTriplet=false;this.registerLine("("+j.startTriplet.num+"::"+j.startTriplet.notes+" ")}if(this.endTriplet){j.endTriplet=true;this.endTriplet=false}var g=(u>=3?-(this.offset-(2.8*(u-2))):-this.offset);var p=18;var a="tabText";if(k.bassNote.length>1){p=21.3;a="tabText2";ABCXJS.write.sortPitch(k.bassNote)}for(var x=0;x<k.bassNote.length;++x){f=(k.bassNote[x].inTie||f);switch(k.bassNote[x].type){case"rest":case"invisible":case"spacer":j.pitches[x]={bass:true,type:k.bassNote[x].type,c:"scripts.tabrest",pitch:0.7+p-(x*3)};this.registerLine("z");break;default:var t={bass:true,type:a,c:"",pitch:p-(x*3)-0.5,inTie:k.bassNote[x].inTie||false};var d=this.accordion.getNoteName(k.bassNote[x],this.accBassKey,this.bassBarAcc,true);
t.buttons=this.accordion.loadedKeyboard.getButtons(d);h=h?typeof(t.buttons.open)!=="undefined":false;w=w?typeof(t.buttons.close)!=="undefined":false;t.note=d.key+(d.isMinor?"m":"");t.c=(t.buttons.close||t.buttons.open)?(t.inTie?"scripts.rarrow":t.note):"x";j.pitches[x]=t;this.registerLine(j.pitches[x].c==="scripts.rarrow"?">":j.pitches[x].c)}}for(var v=0;v<e.length;v++){var t=e[v];f=(t.inTie||f);switch(t.type){case"invisible":case"spacer":case"rest":t.c="scripts.tabrest";t.pitch=13.2;break;default:var d=this.accordion.getNoteName(t,this.accTrebKey,this.trebBarAcc,false);if(this.transposeTab){switch(this.transposeTab){case 8:d.octave++;break;case -8:d.octave--;break;default:this.addWarning("Possível transpor a tablatura uma oitava acima ou abaixo +/-8. Ignorando transpose.")}}t.buttons=this.accordion.loadedKeyboard.getButtons(d);t.note=d.key+d.octave;t.c=(t.buttons.close||t.buttons.open)?(t.inTie?"scripts.rarrow":t.note):"x";t.pitch=(u===1?11.7:13.4-(v*2.8));t.type="tabText"+(u>1?2:"");l=l?typeof(t.buttons.open)!=="undefined":false;o=o?typeof(t.buttons.close)!=="undefined":false}j.pitches[j.pitches.length]=t}if(f){this.count+=j.duration}else{if((this.closing&&w&&o)||(!this.closing&&h&&l)){if(this.count<this.limit){this.count+=j.duration}else{if((!this.closing&&w&&o)||(this.closing&&h&&l)){this.count=j.duration;this.closing=!this.closing}else{this.count+=j.duration}}}else{if((!this.closing&&w&&o)||(this.closing&&h&&l)){this.count=j.duration;this.closing=!this.closing}else{if((this.closing&&((y&&w)||o))||(!this.closing&&((y&&h)||l))){this.count+=j.duration}else{if((!this.closing&&((y&&w)||o))||(this.closing&&((y&&h)||l))){if(this.count<this.limit){this.count+=j.duration}else{if((!this.closing&&(y&&w)&&o)||(this.closing&&(y&&h)&&l)){this.count=j.duration;this.closing=!this.closing}else{this.count+=j.duration}}}}}}}if((w||h)&&((this.closing&&!w)||(!this.closing&&!h))){this.registerInvalidBass()}j.bellows=this.closing?"+":"-";this.registerLine(j.bellows);this.registerLine(u>1?"[":"");e=j.pitches;for(var v=0;v<e.length;v++){var t=e[v];if(!t.bass){if(!this.closing){t.pitch+=g}switch(t.type){case"rest":case"invisible":case"spacer":this.registerLine("z");break;default:if(t.inTie){this.registerLine((t.buttons.close||t.buttons.open)?">":"x")}else{t.c=this.elegeBotao(this.closing?t.buttons.close:t.buttons.open);this.registerLine(this.button2Hex(t.c));if(t.c==="x"){this.registerMissingButton(t)}}}}else{if(t.c==="x"){this.registerMissingButton(t)}}}var s=j.duration/this.vars.default_length;var r=this.registerLine((u>1?"]":"")+(s!==1?s.toString():"")+" ");if(j.endTriplet){this.registerLine(") ")}this.add(j,q,r-1,m)};ABCXJS.tablature.Infer.prototype.registerInvalidBass=function(){var a=parseInt(this.currInterval);if(!this.vars.invalidBasses){this.vars.invalidBasses=","}if(this.vars.invalidBasses.indexOf(","+a+",")<0){this.vars.invalidBasses+=a+","}};ABCXJS.tablature.Infer.prototype.registerMissingButton=function(d){if(!this.vars.missingButtons[d.note]){this.vars.missingButtons[d.note]=[]}var c=parseInt(this.currInterval);for(var a=0;a<this.vars.missingButtons[d.note].length;a++){if(this.vars.missingButtons[d.note][a]===c){return}}this.vars.missingButtons[d.note].push(c)};ABCXJS.tablature.Infer.prototype.registerLine=function(a){this.producedLine+=a;return this.producedLine.length};ABCXJS.tablature.Infer.prototype.add=function(e,c,d,a){if(ABCXJS.math.isNumber(a)&&ABCXJS.math.isNumber(c)&&ABCXJS.math.isNumber(d)){e.position={anchor:{line:a,ch:c},head:{line:a,ch:d}}}this.voice.push(e)};ABCXJS.tablature.Infer.prototype.button2Hex=function(a){if(a==="x"){return a}var c=parseInt(isNaN(a.substr(0,2))||a.length===1?1:2);var d=a.substr(0,c);return(+d).toString(16)+a.substr(c)};ABCXJS.tablature.Infer.prototype.elegeBotao=function(j){if(typeof(j)==="undefined"){return"x"}var c=j[0];var f,e,h=c.indexOf("'");if(h>=0){f=c.substr(0,h);e=c.length-h}else{f=parseInt(c);e=0}var g=Math.abs((e>1?f+12:f)-this.lastButton);for(var d=1;d<j.length;d++){h=j[d].indexOf("'");if(h>=0){f=j[d].substr(0,h);e=j[d].length-h}else{f=parseInt(j[d]);e=0}if(Math.abs((e>1?f+12:f)-this.lastButton)<g){c=j[d];g=Math.abs((e>1?f+12:f)-this.lastButton)}}this.lastButton=parseInt(isNaN(c.substr(0,2))?c.substr(0,1):c.substr(0,2));return c};if(!window.ABCXJS){window.ABCXJS={}}if(!window.ABCXJS.tablature){window.ABCXJS.tablature={}}ABCXJS.tablature.Layout=function(f,c,a,d,e){this.pos=0;this.voice={};this.currvoice=[];this.tuneCurrVoice=f;this.tuneCurrStaff=c;this.abcstaff=a;this.glyphs=d;this.restsInTab=e;this.tripletmultiplier=1};ABCXJS.tablature.Layout.prototype.getElem=function(){if(this.currVoice.length<=this.pos){return null}return this.currVoice[this.pos]};ABCXJS.tablature.Layout.prototype.isFirstVoice=function(){return this.currVoice.firstVoice||false};ABCXJS.tablature.Layout.prototype.isLastVoice=function(){return this.currVoice.lastVoice||false};ABCXJS.tablature.Layout.prototype.printTABVoice=function(a){this.layoutJumpDecorationItem=a;this.currVoice=this.abcstaff.voices[this.tuneCurrVoice];this.voice=new ABCXJS.write.VoiceElement(this.tuneCurrVoice,this.tuneCurrStaff,this.abcstaff);this.voice.addChild(this.printClef(this.abcstaff.clef));this.voice.addChild(new ABCXJS.write.AbsoluteElement(this.abcstaff.key,0,10));(this.abcstaff.meter)&&this.voice.addChild(this.printTablatureSignature(this.abcstaff.meter));for(this.pos=0;this.pos<this.currVoice.length;this.pos++){var c=this.printTABElement();for(i=0;i<c.length;i++){this.voice.addChild(c[i])}}return this.voice};ABCXJS.tablature.Layout.prototype.printTABElement=function(){var d=[];var c=this.getElem();switch(c.el_type){case"note":d[0]=this.printTabNote(c);break;case"bar":d[0]=this.printBarLine(c);if(this.voice.duplicate){d[0].invisible=true}break;default:var a=new ABCXJS.write.AbsoluteElement(c,0,0);a.addChild(new ABCXJS.write.RelativeElement("element type "+c.el_type,0,0,0,{type:"debug"}));d[0]=a}return d};ABCXJS.tablature.Layout.prototype.printTabNote=function(e){var a,d;if(e.startTriplet){this.tripletmultiplier=e.startTriplet.num===2?1.5:(e.startTriplet.num-1)/e.startTriplet.num}var f=ABCXJS.write.getDuration(e);if(f===0){f=0.25}var c=ABCXJS.write.getDurlog(f);var k=new ABCXJS.write.AbsoluteElement(e,f*this.tripletmultiplier,1);var h=0;var g=true;for(a=0,d=e.pitches.length;a<d;a++){h+=e.pitches[a].verticalPos;g=(e.pitches[a].type==="rest"&&g)}e.averagepitch=h/e.pitches.length;e.minpitch=e.pitches[0].verticalPos;e.maxpitch=e.pitches[e.pitches.length-1].verticalPos;for(a=0;a<e.pitches.length;a++){var l=e.pitches[a];var j=new ABCXJS.write.RelativeElement(null,0,0,l.pitch);if(l.type==="rest"){j.type="symbol";if(this.restsInTab||(g&&a===(e.pitches.length-1))){j.c="scripts.tabrest"}else{j.c=""}}else{j.c=l.c.replace("m","-");j.note=l.note;j.type=l.type}k.addHead(j)}if(e.endTriplet){this.tripletmultiplier=1}return k};ABCXJS.tablature.Layout.prototype.printClef=function(d){var e="clefs.tab";var a=8;var c=new ABCXJS.write.AbsoluteElement(d,0,10);c.addRight(new ABCXJS.write.RelativeElement(e,a,this.glyphs.getSymbolWidth(e),d.clefPos));
return c};ABCXJS.tablature.Layout.prototype.printTablatureSignature=function(d){var c=new ABCXJS.write.AbsoluteElement(d,0,20);var a=2;c.addRight(new ABCXJS.write.RelativeElement("Bass",a,15,17.5,{type:"tabText"}));c.addRight(new ABCXJS.write.RelativeElement(">><<",a,15,10.8,{type:"tabText"}));c.addRight(new ABCXJS.write.RelativeElement("<<>>",a,15,3.7,{type:"tabText"}));this.startlimitelem=c;return c};ABCXJS.tablature.Layout.prototype.printBarLine=function(e){var f=19.5;var o=10.5;var q=new ABCXJS.write.AbsoluteElement(e,0,10);var h=null;var r=0;var c=(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat");var k=(e.type!=="bar_left_repeat"&&e.type!=="bar_thick_thin"&&e.type!=="bar_invisible");var l=(e.type==="bar_right_repeat"||e.type==="bar_dbl_repeat"||e.type==="bar_left_repeat"||e.type==="bar_thin_thick"||e.type==="bar_thick_thin");var m=(e.type==="bar_left_repeat"||e.type==="bar_thick_thin"||e.type==="bar_thin_thin"||e.type==="bar_dbl_repeat");var d=(e.type==="bar_left_repeat"||e.type==="bar_dbl_repeat");if(c||d){for(var p in this.slurs){if(this.slurs.hasOwnProperty(p)){this.slurs[p].endlimitelem=q}}this.startlimitelem=q}if(c){q.addRight(new ABCXJS.write.RelativeElement("dots.dot",r,1,o+2));q.addRight(new ABCXJS.write.RelativeElement("dots.dot",r,1,o));r+=6}if(k){h=new ABCXJS.write.RelativeElement(null,r,1,0,{type:"bar",pitch2:f,linewidth:0.6});q.addRight(h)}if(e.type==="bar_invisible"||e.endDrawEnding){h=new ABCXJS.write.RelativeElement(null,r,1,0,{type:"none",pitch2:f,linewidth:0.6});q.addRight(h)}if(e.decoration){}if(e.jumpDecoration){for(var g=0;g<e.jumpDecoration.length;g++){if((e.jumpDecoration[g].upper&&this.isFirstVoice())||(!e.jumpDecoration[g].upper&&this.isLastVoice())){var a=e.jumpDecoration[g].upper?12:-4;q.addRight(this.layoutJumpDecorationItem(e.jumpDecoration[g],a))}}}if(l){r+=4;h=new ABCXJS.write.RelativeElement(null,r,4,0,{type:"bar",pitch2:f,linewidth:4});q.addRight(h);r+=5}if(this.partstartelem&&e.endDrawEnding){if(e.endDrawEnding){this.partstartelem.anchor2=h}if(e.endEnding){this.partstartelem=null}}if(m){r+=3;h=new ABCXJS.write.RelativeElement(null,r,1,0,{type:"bar",pitch2:f,linewidth:0.6});q.addRight(h)}if(d){r+=3;q.addRight(new ABCXJS.write.RelativeElement("dots.dot",r,1,o+2));q.addRight(new ABCXJS.write.RelativeElement("dots.dot",r,1,o))}if(e.startEnding){this.partstartelem=new ABCXJS.write.EndingElem(e.startEnding,h,null);this.voice.addOther(this.partstartelem)}return q};